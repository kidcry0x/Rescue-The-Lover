window.__require=function t(e,o,n){function c(r,l){if(!o[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var s="function"==typeof __require&&__require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var p=o[r]={exports:{}};e[r][0].call(p.exports,function(t){return c(e[r][1][t]||t)},p,p.exports,t,e,o,n)}return o[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<n.length;r++)c(n[r]);return c}({Click:[function(t,e,o){"use strict";cc._RF.push(e,"e74c7VpSWRD94KOvnRbIjUj","Click");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.STATUS=void 0;var r,l=cc._decorator,a=l.ccclass,s=l.property;(function(t){t[t.UNLOCK=0]="UNLOCK",t[t.LOCK=1]="LOCK",t[t.CURRENT=2]="CURRENT"})(r=o.STATUS||(o.STATUS={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unlocked=null,e.current=null,e.locked=null,e.number=null,e.isClick=!1,e._status=r.LOCK,e._count=0,e}return c(e,t),e.prototype.onLoad=function(){this._view=this.node.parent.parent.parent},e.prototype.onClick=function(){if(this.isClick&&this._status!==r.LOCK){this.isClick=!1;var t=new cc.Event.EventCustom("click_item",!0),e=this.node.parent.children.indexOf(this.node),o=this.node.parent.parent.children.indexOf(this.node.parent);t.level=10*o+e,this.node.dispatchEvent(t)}},e.prototype.setLevel=function(t){this.number.getComponent(cc.Label).string=t},e.prototype.setStatus=function(t){switch(this._status=t,t){case r.UNLOCK:this.number.active=!0,this.unlocked.active=!0,this.current.active=!1,this.locked.active=!1,this.number.color=new cc.Color(255,255,255,255),this.number.getComponent(cc.LabelOutline).color=new cc.Color(40,40,40,102);break;case r.CURRENT:this.number.active=!0,this.unlocked.active=!1,this.current.active=!0,this.locked.active=!1,this.number.color=new cc.Color(255,255,255,255),this.number.getComponent(cc.LabelOutline).color=new cc.Color(83,44,0,102);break;case r.LOCK:this.number.active=!1,this.unlocked.active=!0,this.current.active=!1,this.locked.active=!0}},e.prototype.localConvertWorldPointAR=function(t){return t?t.convertToWorldSpaceAR(cc.v2(0,0)):null},e.prototype.worldConvertLocalPointAR=function(t,e){return t?t.convertToNodeSpaceAR(e):null},e.prototype.convetOtherNodeSpaceAR=function(t,e){if(!t||!e)return null;var o=this.localConvertWorldPointAR(t);return this.worldConvertLocalPointAR(e,o)},e.prototype.update=function(){var t=this.convetOtherNodeSpaceAR(this.node,this._view);t.y<-710||t.y>715?this.node.opacity=0:this.node.opacity=255},i([s(cc.Node)],e.prototype,"unlocked",void 0),i([s(cc.Node)],e.prototype,"current",void 0),i([s(cc.Node)],e.prototype,"locked",void 0),i([s(cc.Node)],e.prototype,"number",void 0),i([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],List:[function(t,e,o){"use strict";cc._RF.push(e,"6b6f8pN68tM955nWw70NibE","List");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var c,i=arguments.length,r=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(c=t[l])&&(r=(i<3?c(r):i>3?c(e,o,r):c(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Scripts/Data"),l=t("../Scripts/EffectManager"),a=t("./Click"),s=t("../Scripts/Locale"),p=cc._decorator,u=p.ccclass,f=p.property,h=cc.tween,d=null,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.scrollView=null,e.shadow=null,e.container=null,e.item=null,e}return c(e,t),e.prototype.onLoad=function(){this.initItem(),d=cc.find("Canvas/GameManager").getComponent("GameManager"),cc.find("Canvas/UI").getComponent("UIController"),this.shadow.opacity=0,this.container.opacity=0,r.default.getData(r.default.FACEBOOK_KEY,function(t,e){d._selectedLevel=e.unlockedLevel}),this.scrollView.node.getChildByName("Title").getChildByName("New Label").getComponent(cc.Label).string=s.default.getText("SELECT LEVEL")},e.prototype.onEnable=function(){this.node.on("click_item",this.onClickItem,this),this.effectOpen(),this.resetStatusAllItem(),this.setStatus()},e.prototype.onDisable=function(){this.node.off("click_item",this.onClickItem,this),this.unschedule(this._close)},e.prototype.initItem=function(){this.content.removeAllChildren(!0);for(var t=0;t<40;++t){var e=cc.instantiate(this.item);this.content.addChild(e)}},e.prototype.setStatus=function(){var t=this;r.default.getData(r.default.FACEBOOK_KEY,function(e,o){for(var n=o.unlockedLevel+1,c=o.currentLevel,i=0;i<n;++i)if(s=t.content.children[i]){var r=s.getComponent("Click");r.isClick=!0,r.setLevel(i+1),i==c?(l.default.scaleForever(s,.95,1.05,.7),r.setStatus(a.STATUS.CURRENT)):r.setStatus(a.STATUS.UNLOCK)}for(i=n;i<40;++i){var s;(s=t.content.children[i]).getComponent("Click").isClick=!1}})},e.prototype.resetStatusAllItem=function(){for(var t=0;t<40;++t){var e=this.content.children[t].getComponent("Click");e.isClick=!0,e.setLevel(t+1),e.setStatus(a.STATUS.LOCK)}},e.prototype.effectOpen=function(){var t=this;h(this.shadow).to(.2,{opacity:200}).call(function(){h(t.container).parallel(h().to(.2,{opacity:255}),h().to(.2,{scale:1},{easing:"quartOut"})).start()}).start()},e.prototype.effectClose=function(t){h(this.shadow).to(.2,{opacity:0}).start(),h(this.container).parallel(h().to(.2,{opacity:0}),h().to(.2,{scale:.7},{easing:"quartOut"})).call(t).start()},e.prototype.onClose=function(){var t=this,e=cc.find("Canvas/GameManager").getComponent("GameManager");e.playClickAudio(),e.showUiInGame(!1),this.effectClose(function(){t.node.active=!1}),this._close=function(){this.node.active=!1},this.scheduleOnce(this._close,.3)},e.prototype.onClickItem=function(t){var e=t.level;d.selectLevel(e),this.onClose()},i([f(cc.Node)],e.prototype,"content",void 0),i([f(cc.ScrollView)],e.prototype,"scrollView",void 0),i([f(cc.Node)],e.prototype,"shadow",void 0),i([f(cc.Node)],e.prototype,"container",void 0),i([f(cc.Prefab)],e.prototype,"item",void 0),i([u],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../Scripts/Data":void 0,"../Scripts/EffectManager":void 0,"../Scripts/Locale":void 0,"./Click":"Click"}]},{},["Click","List"]);