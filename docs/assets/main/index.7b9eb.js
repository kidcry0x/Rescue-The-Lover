window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({ActionController:[function(e,t,n){"use strict";cc._RF.push(t,"5eadbNZIh1KfLC/ZwVlKPTE","ActionController");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.EASING=n.LISTENER=n.TYPE=void 0;var r,s,c,l=cc._decorator,u=l.ccclass,d=l.property,p=cc.tween;(function(e){e[e.NONE=0]="NONE",e[e.ACTIVE=1]="ACTIVE",e[e.ANIMATION=2]="ANIMATION",e[e.MIX=3]="MIX",e[e.MOVE_TO=4]="MOVE_TO",e[e.MOVE_BY=5]="MOVE_BY",e[e.OPACITY=6]="OPACITY",e[e.ROTATION=7]="ROTATION",e[e.SCALE=8]="SCALE",e[e.STOP_ACTION=9]="STOP_ACTION",e[e.ZOOM_CAMERA=10]="ZOOM_CAMERA"})(r=n.TYPE||(n.TYPE={})),function(e){e[e.NONE=0]="NONE",e[e.START=1]="START",e[e.END=2]="END",e[e.COMPLETE=3]="COMPLETE"}(s=n.LISTENER||(n.LISTENER={})),function(e){e[e.NONE=0]="NONE",e[e.QuadIn=1]="QuadIn",e[e.QuadOut=2]="QuadOut",e[e.QuadInOut=3]="QuadInOut",e[e.CubicIn=4]="CubicIn",e[e.CubicOut=5]="CubicOut",e[e.CubicInOut=6]="CubicInOut",e[e.QuartIn=7]="QuartIn",e[e.QuartOut=8]="QuartOut",e[e.QuartInOut=9]="QuartInOut",e[e.QuintIn=10]="QuintIn",e[e.QuintOut=11]="QuintOut",e[e.QuintInOut=12]="QuintInOut",e[e.SineIn=13]="SineIn",e[e.SineOut=14]="SineOut",e[e.SineInOut=15]="SineInOut",e[e.ExpoIn=16]="ExpoIn",e[e.ExpoOut=17]="ExpoOut",e[e.ExpoInOut=18]="ExpoInOut",e[e.CircIn=19]="CircIn",e[e.CircOut=20]="CircOut",e[e.CircInOut=21]="CircInOut",e[e.ElasticIn=22]="ElasticIn",e[e.ElasticOut=23]="ElasticOut",e[e.ElasticInOut=24]="ElasticInOut",e[e.BackIn=25]="BackIn",e[e.BackOut=26]="BackOut",e[e.BackInOut=27]="BackInOut",e[e.BounceIn=28]="BounceIn",e[e.BounceOut=29]="BounceOut",e[e.BounceInOut=30]="BounceInOut",e[e.Smooth=31]="Smooth",e[e.Fade=32]="Fade"}(c=n.EASING||(n.EASING={}));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=r.NONE,t.repeatForever=!1,t._listener=s.NONE,t._repeatTimes=1,t._skeleton=null,t._track=0,t._animationName="",t._animation1="",t._animation2="",t._timeMix=0,t._loop=!1,t._timeScale=0,t.timeDelay=0,t.duration=0,t._isActive=!1,t._position=new cc.Vec2,t._easing=c.NONE,t._value=0,t._stopAllAction=!1,t.target=[],t.callback=[],t}return i(t,e),Object.defineProperty(t.prototype,"repeatTimes",{set:function(e){e>=0&&(this._repeatTimes=e)},enumerable:!1,configurable:!0}),t.prototype.runAction=function(e){var t=e.getEasing(e._easing);switch(e.type){case r.ACTIVE:e.target.forEach(function(t){t.active=e._isActive}),e.runCallback(e);break;case r.ANIMATION:if(cc.Tween.stopAllByTarget(e._skeleton),!e._skeleton)break;e._timeMix>0&&e._skeleton.setMix(e._skeleton.animation,e._animationName,e._timeMix),e._skeleton.timeScale=e._timeScale,p(e._skeleton.node).delay(e.timeDelay).call(function(){e._skeleton.setAnimation(e._track,e._animationName,e._loop)}).start(),e.onListener(e,!0,e._listener);break;case r.MIX:e._skeleton.setMix(e._animation1,e._animation2,e.timeMix),e.runCallback(e);break;case r.MOVE_BY:for(var n=0,o=e.target;n<o.length;n++){var i=o[n];e.repeatForever?p(i).repeatForever(p().delay(e.timeDelay).by(e.duration,{position:cc.v3(e._position)},{easing:t})).call(function(){e.runCallback(e)}).start():p(i).repeat(e._repeatTimes,p().delay(e.timeDelay).by(e.duration,{position:cc.v3(e._position)},{easing:t})).call(function(){e.runCallback(e)}).start()}break;case r.MOVE_TO:for(var a=0,s=e.target;a<s.length;a++)i=s[a],e.repeatForever?p(i).repeatForever(p().delay(e.timeDelay).to(e.duration,{position:cc.v3(e._position)},{easing:t})).call(function(){e.runCallback(e)}).start():p(i).repeat(e._repeatTimes,p().delay(e.timeDelay).to(e.duration,{position:cc.v3(e._position)},{easing:t})).call(function(){e.runCallback(e)}).start();break;case r.OPACITY:for(var c=0,l=e.target;c<l.length;c++)i=l[c],e.repeatForever?p(i).repeatForever(p().delay(e.timeDelay).to(e.duration,{opacity:e._value},{easing:t})).call(function(){e.runCallback(e)}).start():p(i).repeat(e._repeatTimes,p().delay(e.timeDelay).to(e.duration,{opacity:e._value},{easing:t})).call(function(){e.runCallback(e)}).start();break;case r.ROTATION:for(var u=0,d=e.target;u<d.length;u++)i=d[u],e.repeatForever?p(i).repeatForever(p().delay(e.timeDelay).to(e.duration,{rotation:e._value},{easing:t})).call(function(){e.runCallback(e)}).start():p(i).repeat(e._repeatTimes,p().delay(e.timeDelay).to(e.duration,{rotation:e._value},{easing:t})).call(function(){e.runCallback(e)}).start();break;case r.SCALE:for(var f=0,v=e.target;f<v.length;f++)i=v[f],e.repeatForever?p(i).repeatForever(p().delay(e.timeDelay).to(e.duration,{scale:e._value},{easing:t})).call(function(){e.runCallback(e)}).start():p(i).repeat(e._repeatTimes,p().delay(e.timeDelay).to(e.duration,{scale:e._value},{easing:t})).call(function(){e.runCallback(e)}).start();break;case r.STOP_ACTION:e._stopAllAction?(e.target.forEach(function(e){e.getComponent(sp.Skeleton).timeScale=0}),cc.Tween.stopAll()):e.callback.forEach(function(e){cc.Tween.stopAllByTarget(e.target)});break;case r.ZOOM_CAMERA:e.callback.forEach(function(t){t.target.getComponent(cc.Camera).zoomRatio=e._value});break;case r.NONE:e.runCallback(e)}},t.prototype.onListener=function(e,t,n){switch(n){case s.START:e._skeleton&&e._skeleton.setStartListener(function(n){console.log("%c"+n.animation.name,"color:green"),console.log("%c"+n.animation.name,"color:blue"),t&&n.animation.name==e._animationName&&(t=!1,e.runCallback(e))});break;case s.END:e._skeleton&&e._skeleton.setEndListener(function(n){console.log("%c"+n.animation.name,"color:green"),console.log("%c"+n.animation.name,"color:blue"),t&&n.animation.name==e._animationName&&(t=!1,e.runCallback(e))});break;case s.COMPLETE:e._skeleton&&e._skeleton.setCompleteListener(function(n){console.log("%c"+n.animation.name,"color:green"),console.log("%c"+n.animation.name,"color:blue"),t&&n.animation.name==e._animationName&&(t=!1,e.runCallback(e))})}},t.prototype.runCallback=function(e){for(var t="",n="",o=0,i=e.callback;o<i.length;o++){var a=i[o];e.callback.length>0&&(t=a._componentName,n=a.handler,(0,a.target.getComponent(t)[n])(a.target.getComponent(t)))}},t.prototype.getEasing=function(e){if(e==c.NONE)return null;switch(e){case c.QuadIn:return"quadIn";case c.QuadOut:return"quadOut";case c.QuadInOut:return"quadInOut";case c.CubicIn:return"cubicIn";case c.CubicOut:return"cubicOut";case c.CubicInOut:return"cubicInOut";case c.QuartIn:return"quartIn";case c.QuartOut:return"quartOut";case c.QuartInOut:return"quartInOut";case c.QuintIn:return"quintIn";case c.QuintOut:return"quintOut";case c.QuintInOut:return"quintInOut";case c.SineIn:return"sineIn";case c.SineOut:return"sineOut";case c.SineInOut:return"sineInOut";case c.ExpoIn:return"expoIn";case c.ExpoOut:return"expoOut";case c.ExpoInOut:return"expoInOut";case c.CircIn:return"circIn";case c.CircOut:return"circOut";case c.CircInOut:return"circInOut";case c.ElasticIn:return"elasticIn";case c.ElasticOut:return"elasticOut";case c.ElasticInOut:return"elasticInOut";case c.BackIn:return"backIn";case c.BackOut:return"backOut";case c.BackInOut:return"backInOut";case c.BounceIn:return"bounceIn";case c.BounceOut:return"bounceOut";case c.BounceInOut:return"bounceInOut";case c.Smooth:return"smooth";case c.Fade:return"fade"}},t.prototype.onCompleteIntroduce=function(){this.node.dispatchEvent(new cc.Event.EventCustom("complete_introduce",!0))},a([d({type:cc.Enum(r)})],t.prototype,"type",void 0),a([d({visible:function(){return this.type!=r.ACTIVE&&this.type!=r.ANIMATION&&this.type!=r.MIX}})],t.prototype,"repeatForever",void 0),a([d({type:cc.Enum(s),visible:function(){return this.type==r.ANIMATION}})],t.prototype,"_listener",void 0),a([d({visible:function(){return!this.repeatForever&&this.type!=r.ACTIVE&&this.type!=r.ANIMATION&&this.type!=r.MIX}})],t.prototype,"_repeatTimes",void 0),a([d({type:sp.Skeleton,visible:function(){return this.type==r.ANIMATION||this.type==r.MIX}})],t.prototype,"_skeleton",void 0),a([d({visible:function(){return this.type==r.ANIMATION}})],t.prototype,"_track",void 0),a([d({visible:function(){return this.type==r.ANIMATION}})],t.prototype,"_animationName",void 0),a([d({visible:function(){return this.type==r.MIX}})],t.prototype,"_animation1",void 0),a([d({visible:function(){return this.type==r.MIX}})],t.prototype,"_animation2",void 0),a([d({visible:function(){return this.type==r.ANIMATION}})],t.prototype,"_timeMix",void 0),a([d({visible:function(){return this.type==r.ANIMATION}})],t.prototype,"_loop",void 0),a([d({visible:function(){return this.type==r.ANIMATION}})],t.prototype,"_timeScale",void 0),a([d({visible:function(){return!this.repeatForever&&this.type!=r.ACTIVE&&this.type!=r.MIX}})],t.prototype,"repeatTimes",null),a([d({visible:function(){return this.type!=r.MIX}})],t.prototype,"timeDelay",void 0),a([d({visible:function(){return this.type!=r.STOP_ACTION&&this.type!=r.ANIMATION&&this.type!=r.MIX}})],t.prototype,"duration",void 0),a([d({visible:function(){return this.type==r.ACTIVE}})],t.prototype,"_isActive",void 0),a([d({visible:function(){return this.type==r.MOVE_BY||this.type==r.MOVE_TO}})],t.prototype,"_position",void 0),a([d({type:cc.Enum(c),visible:function(){return this.type!=r.ACTIVE&&this.type!=r.STOP_ACTION&&this.type!=r.ANIMATION&&this.type!=r.MIX}})],t.prototype,"_easing",void 0),a([d({visible:function(){return this.type==r.OPACITY||this.type==r.ROTATION||this.type==r.SCALE}})],t.prototype,"_value",void 0),a([d({visible:function(){return this.type==r.STOP_ACTION}})],t.prototype,"_stopAllAction",void 0),a([d({type:cc.Node})],t.prototype,"target",void 0),a([d({type:[cc.Component.EventHandler]})],t.prototype,"callback",void 0),a([u],t)}(cc.Component);n.default=f,cc._RF.pop()},{}],AdsManager:[function(e,t,n){"use strict";cc._RF.push(t,"c1defWhr01FsasENtLcKElH","AdsManager");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Data"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.code="ADS_NOT_LOADED",t}return i(t,e),t}(Error)),u=function(){function e(){this.preloadedInterstitial=null,this.preloadedReward=null,this.isLoadedInsterestialAds=!1,this.isLoadedRewardAds=!1,this.lastShowTime=0,this.adsRetryTime=3e4}var t;return t=e,e.getInstance=function(){return t.instance||(t.instance=new t),t.instance},e.prototype.preloadInterestialAds=function(){var e=this;this.isLoadedInsterestialAds||FBInstant.getInterstitialAdAsync("205082648150961_208651431127416").then(function(t){return cc.log(e),e.preloadedInterstitial=t,e.preloadedInterstitial.loadAsync()}).then(function(){console.log("Interstitial preloaded"),e.isLoadedInsterestialAds=!0}).catch(function(t){console.error("Interstitial failed to preload: "+t.message),setTimeout(function(){this.handleAdsNoFill(this.preloadedInterstitial,2)}.bind(e),e.adsRetryTime)})},e.prototype.preloadRewardVideoAds=function(){var e=this;this.isLoadedRewardAds||FBInstant.getRewardedVideoAsync("205082648150961_208651514460741").then(function(t){return e.preloadedReward=t,e.preloadedReward.loadAsync()}).then(function(){console.log("reward preloaded"),e.isLoadedRewardAds=!0}).catch(function(e){console.error("reward failed to preload: "+e.message)})},e.prototype.preload=function(){var e=this;r.default.getData(r.default.CONFIG_KEY,function(t,n){t||(e.adsRetryTime=n.adsRetryTime||e.adsRetryTime),e.preloadInterestialAds(),e.preloadRewardVideoAds()})},e.prototype.handleAdsNoFill=function(e,t){var n=this;t>3||e.loadAsync().then(function(){console.log("Interstitial preloaded"),n.isLoadedInsterestialAds=!0}).catch(function(o){console.error("Interstitial failed to preload: "+o.message),setTimeout(function(){n.handleAdsNoFill(e,t+1)},n.adsRetryTime)})},e.prototype.showInterestialAds=function(e){var t=this;void 0===e&&(e=null),Date.now()-this.lastShowTime<this.adsRetryTime?e&&e(Error("CAPPED_TIME")):null!=this.preloadedInterstitial?(cc.audioEngine.pauseMusic(),this.preloadedInterstitial.showAsync().then(function(){cc.audioEngine.resumeMusic(),t.isLoadedInsterestialAds=!1,console.log("Interstitial ad finished successfully"),t.preloadInterestialAds(),t.lastShowTime=Date.now(),e&&e(null)}).catch(function(t){cc.audioEngine.resumeMusic(),console.error(t.message),e&&e(t)})):e&&e(Error("NULL inters"))},e.prototype.reloadRewardedAds=function(){this.isLoadedRewardAds=!1,console.log("Rewarded ad finished successfully"),this.preloadRewardVideoAds()},e.prototype.showRewardedAds=function(e){var t=this;if(void 0===e&&(e=null),cc.audioEngine.pauseMusic(),this.preloadedReward&&this.preloadedReward.showAsync().then(function(){t.reloadRewardedAds(),e&&e(null),cc.audioEngine.resumeMusic()}).catch(function(n){cc.audioEngine.resumeMusic(),console.error("ads err",n.message),t.reloadRewardedAds(),e&&e(n)}),!this.preloadedReward){this.onAdsRewardFail();var n=new l("ADS_NOT_LOADED");n.code="ADS_NOT_LOADED",e&&e(n)}},e.prototype.loadBannerAds=function(){try{FBInstant.loadBannerAdAsync("205082648150961_252498396742719").then(function(e){console.log("banner",e)}).catch(function(e){console.error("banner failed to load: "+e.message)})}catch(e){console.error(e)}},e.prototype.hideBannerAds=function(){try{FBInstant.hideBannerAdAsync().then(function(){console.log("Banner hide")})}catch(e){console.error(e)}},e.prototype.onAdsRewardFail=function(){cc.find("Canvas/UI").getComponent("UIController").showAlert("NO INTERNET CONNECTION",2.5)},e.prototype.getInsterestialPlacementId=function(){return"205082648150961_208651431127416"},e.prototype.getRewardPlacementId=function(){return"205082648150961_208651514460741"},t=a([c],e)}();n.default=u,cc._RF.pop()},{"./Data":"Data"}],Alert:[function(e,t,n){"use strict";cc._RF.push(t,"044d3DDMC9Kf5Tpw9Zpr6YN","Alert");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=cc.tween,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.text=null,t}return i(t,e),t.prototype.onEnable=function(){this.text.scale=0,this.text.opacity=0,l(this.text).to(.5,{scale:1,opacity:255},{easing:"cubicIn"}).start()},t.prototype.onClose=function(){this.node.active=!1},t.prototype.setText=function(e){this.text.getComponent(cc.Label).string=e},a([c(cc.Node)],t.prototype,"text",void 0),a([s],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],Analytics:[function(e,t,n){"use strict";var o,i,a;cc._RF.push(t,"300122nFjZATIdTeKkXOxcD","Analytics"),Object.defineProperty(n,"__esModule",{value:!0}),n.EGAAdType=n.EGAAdError=n.EGAAdAction=void 0,function(e){e[e.Undefined=0]="Undefined",e[e.Clicked=1]="Clicked",e[e.Show=2]="Show",e[e.FailedShow=3]="FailedShow",e[e.RewardReceived=4]="RewardReceived"}(o=n.EGAAdAction||(n.EGAAdAction={})),function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Offline=2]="Offline",e[e.NoFill=3]="NoFill",e[e.InternalError=4]="InternalError",e[e.InvalidRequest=5]="InvalidRequest",e[e.UnableToPrecache=6]="UnableToPrecache"}(i=n.EGAAdError||(n.EGAAdError={})),function(e){e[e.Undefined=0]="Undefined",e[e.Video=1]="Video",e[e.RewardedVideo=2]="RewardedVideo",e[e.Playable=3]="Playable",e[e.Interstitial=4]="Interstitial",e[e.OfferWall=5]="OfferWall",e[e.Banner=6]="Banner"}(a=n.EGAAdType||(n.EGAAdType={})),n.default={EGAAdAction:o,EGAAdError:i,EGAAdType:a},cc._RF.pop()},{}],BundleManager:[function(e,t,n){"use strict";cc._RF.push(t,"7645afhoy5Be4b1dv1hvYmb","BundleManager");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=[],s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._bundle=[],t._prefabs=[],t._lazyLoadBundle=[],t}var n;return i(t,e),n=t,t.getInstance=function(){return n._instance?n._instance:(n._instance=new n,n._instance)},t.prototype.getPrefabByName=function(e,t){var n=this;void 0===t&&(t=null);for(var o=0,i=this._prefabs;o<i.length;o++){var a=i[o];if(a.name==e)return void(t&&t(null,a))}cc.assetManager.loadBundle(e,function(o,i){o?t?(console.error(o),t(o,null)):console.error(o):i.load(e,cc.Prefab,function(e,o){if(!e)return console.error("Loaded "+o.name),n._prefabs.includes(o)||n._prefabs.push(o),void(t&&t(null,o));console.log(e)})})},t.prototype.getResource=function(e,t,n,o){var i=function(e){e.instance.load(t,n,function(t,i){if(t)return o(t,null);e.resources.push({namePath:n,instance:i,type:n}),o(null,i)})},a=r.find(function(t){return t.instance.name===e});if(a){var s=a.resources.find(function(e){return e.namePath===t&&e.type===n});return s?o(null,s.instance):i(a)}cc.assetManager.loadBundle(e,function(e,t){if(e)return o(e,null);var n={instance:t,resources:[]};r.push(n),i(n)})},t._instance=null,n=a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],ButtonNext:[function(e,t,n){"use strict";cc._RF.push(t,"619c7FKngVAq4hGivO+DbG/","ButtonNext");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./EffectManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onEnable=function(){r.default.scaleForever(this.node,1,1.1,.7)},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"./EffectManager":"EffectManager"}],Cheat:[function(e,t,n){"use strict";cc._RF.push(t,"8f3e8CYaE1CeaIhdbt7fcTw","Cheat");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Data"),a=e("./LevelBase"),r=cc._decorator,s=r.ccclass,c=(r.property,function(){function e(){this.keyCount=0,this._timeoutId=0}var t;return t=e,e.getInstance=function(){return t.instance||(t.instance=new t),t.instance},e.prototype.initCheat=function(){this.initKeyBoardEvent(),this.initWindowEvent()},e.prototype.resetKeyCount=function(){this.keyCount=0},e.prototype.initKeyBoardEvent=function(){var e=this,t=[cc.macro.KEY.up,cc.macro.KEY.down,cc.macro.KEY.up,cc.macro.KEY.down,cc.macro.KEY.left,cc.macro.KEY.right],n=[{pass:t.concat([cc.macro.KEY.i,cc.macro.KEY.a,cc.macro.KEY.b]),cmd:this.resetData},{pass:t.concat([cc.macro.KEY.a,cc.macro.KEY.b]),cmd:this.unlockAll}];cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(t){for(var o=null,i=0,a=n;i<a.length;i++){var r=a[i];if(r.pass[e.keyCount]===t.keyCode){o=r,e.keyCount++;break}}if(o){if(clearTimeout(e._timeoutId),o.pass.length===e.keyCount)return o.cmd(),void e.resetKeyCount();e._timeoutId=setTimeout(e.resetKeyCount.bind(e),3e3)}else e.keyCount&&e.resetKeyCount()},this)},e.prototype.initWindowEvent=function(){var e={resetData:this.resetData,unlockAll:this.unlockAll};window.addEventListener("message",function(t){t.origin&&t.origin.startsWith("https://www.facebook.com")&&t.data.cheatGameEvent&&e[t.data.cheat]&&e[t.data.cheat]()})},e.prototype.resetData=function(){i.default.saveData(i.default.defaultData,i.default.getDataKey())},e.prototype.unlockAll=function(){i.default.getData(i.default.getDataKey(),function(e,t){e||(t.unlockedLevel=a.TOTAL_LEVEL,i.default.saveData(t,i.default.getDataKey()))})},t=o([s],e)}());n.default=c,cc._RF.pop()},{"./Data":"Data","./LevelBase":"LevelBase"}],ClickItem:[function(e,t,n){"use strict";cc._RF.push(t,"999c8OWQ45LuamLep+cbF8/","ClickItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isClick=!1,t}return i(t,e),t.prototype.onClick=function(){if(this.isClick){var e=new cc.Event.EventCustom("click_item",!0),t=this.node.getChildByName("txt_number").getComponent(cc.Label).string;e.level=Number(t)-1,this.node.dispatchEvent(e)}},a([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],ClipController:[function(e,t,n){"use strict";cc._RF.push(t,"29db6CM5eJA4LKE7xSCD9h9","ClipController");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE=void 0;var r,s=e("./StageController"),c=e("./EffectManager"),l=cc._decorator,u=l.ccclass,d=l.property;(function(e){e[e.NONE=0]="NONE",e[e.INTRODUCE=1]="INTRODUCE",e[e.SUCCESS=2]="SUCCESS",e[e.FAIL=3]="FAIL"})(r=n.TYPE||(n.TYPE={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=r.NONE,t.nextStage=null,t.fade=!1,t.actionStart=[],t._=null,t}return i(t,e),t.prototype.onLoad=function(){this._=this},t.prototype.onEnable=function(){this.node.on("complete_introduce",this.onCompleteIntroduce,this)},t.prototype.onDisable=function(){this.node.on("complete_introduce",this.onCompleteIntroduce,this)},t.prototype.onCompleteIntroduce=function(e){e.stopPropagation();var t=cc.find("Canvas/OptionContainer");c.default.effectScaleOption(t,.7)},t.prototype.startClip=function(e){for(var t="",n="",o=0,i=e.actionStart;o<i.length;o++){var a=i[o];t=a._componentName,n=a.handler,(0,a.target.getComponent(t)[n])(a.target.getComponent(t))}},t.prototype.onFinishClip=function(e){switch(console.log("%c"+e.type,"color: violet"),e.type){case r.INTRODUCE:var t=e.node.parent.getComponent("StageController");c.default.effectScaleOption(t.optionContainer,.5);break;default:e.node.parent.getComponent("StageController").onResult(e.type)}},a([d({type:cc.Enum(r)})],t.prototype,"type",void 0),a([d({type:s.default})],t.prototype,"nextStage",void 0),a([d],t.prototype,"fade",void 0),a([d({type:cc.Component.EventHandler})],t.prototype,"actionStart",void 0),a([u],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./EffectManager":"EffectManager","./StageController":"StageController"}],ComingSoon2:[function(e,t,n){"use strict";cc._RF.push(t,"53946CuBB5P87+zTy0UYp+D","ComingSoon2");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Scripts/ComingSoon"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this.node.opacity=0,this.node.scale=.7},t.prototype.onEnable=function(){var e=this;cc.tween(this.node).parallel(cc.tween().to(.2,{opacity:255}),cc.tween().to(.2,{scale:1},{easing:"quartOut"})).call(function(){e.node.on("touchend",e.onClose,e)}).start()},t.prototype.onClose=function(){var e=this;cc.tween(this.node).parallel(cc.tween().to(.2,{opacity:0}),cc.tween().to(.2,{scale:.7},{easing:"quartOut"})).call(function(){e.node.active=!1}).start()},a([c],t)}(r.default));n.default=l,cc._RF.pop()},{"../Scripts/ComingSoon":"ComingSoon"}],ComingSoon:[function(e,t,n){"use strict";cc._RF.push(t,"54298/iC0NMXYnoRNWGjB1u","ComingSoon");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Data"),s=cc._decorator,c=s.ccclass,l=s.property,u=cc.tween,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.text=null,t._gameManager=null,t._data=null,t}return i(t,e),t.prototype.start=function(){this._gameManager=cc.find("Canvas/GameManager").getComponent("GameManager")},t.prototype.onHome=function(){this.node.active=!1},t.prototype.onReplay=function(){this._gameManager.onReplay(),this.node.active=!1},t.prototype.onEnable=function(){var e=this;this.text.scale=7,this.text.opacity=0,u(this.text).parallel(u().to(1,{scale:1},{easing:"cubicIn"}),u().to(1,{opacity:255},{easing:"cubicIn"})).start(),r.default.getData(r.default.getDataKey(),function(t,n){e._data=n})},a([l(cc.Node)],t.prototype,"text",void 0),a([c],t)}(cc.Component);n.default=d,cc._RF.pop()},{"./Data":"Data"}],Config:[function(e,t,n){"use strict";cc._RF.push(t,"0dd0flSBFtGCK3C4oudkQFv","Config");var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./FBInstantManager"),r=e("./FirebaseManager"),s=cc._decorator,c=s.ccclass,l=(s.property,{adsRetryTime:3e4}),u=a.default.getInstance().getPlayerId(),d=function(){function e(){}var t;return t=e,e.getInstance=function(){return t.instance||(t.instance=new t),t.instance},e.isLocal=function(){return"localId"===u},e.prototype.getDynamicConfig=function(e){var n=this;if(t.isLocal())return e(o({},l));r.default.getInstance().getConfig(function(t,o){return t?(console.log("get dynamic config error",t),e(t,null)):e(null,o||n.getDefaultConfig())})},e.prototype.getDefaultConfig=function(){return o({},l)},t=i([c],e)}();n.default=d,cc._RF.pop()},{"./FBInstantManager":"FBInstantManager","./FirebaseManager":"FirebaseManager"}],CountDown5s:[function(e,t,n){"use strict";cc._RF.push(t,"7be24qOSP5BCqev62sqCXxY","CountDown5s");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./EventManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.countDown=null,t}return i(t,e),t.prototype.onEnable=function(){this.runCountDown(5)},t.prototype.onDisable=function(){this.stopCountDown()},t.prototype.runCountDown=function(e){var t=Date.now();this.countDown=function(){var n=Date.now()-t,o=1-1/(1e3*e/n);if(this.node.getComponent(cc.Sprite).fillRange=o,this.node.getChildByName("Second").getComponent(cc.Label).string=Math.floor(6-n/1e3),o<-.009){this.node.getComponent(cc.Sprite).fillRange=0;var i=cc.find("Canvas/GameManager").getComponent("GameManager"),a=i._currentScene;i._ui.showUIContinue(!1),a&&r.default.sendRequestPlayStageBegin(a),this.unschedule(this.countDown)}},this.schedule(this.countDown,.01)},t.prototype.stopCountDown=function(){this.unschedule(this.countDown),console.log("%cStop CountDown","color:orange")},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"./EventManager":"EventManager"}],1:[function(e,t){(function(e){"use strict";var n,o,i,a,r=r||function(e){var t={},n=t.lib={},o=function(){},i=n.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes;if(e=e.sigBytes,this.clamp(),o%4)for(var i=0;i<e;i++)t[o+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(o+i)%4*8;else if(65535<n.length)for(i=0;i<e;i+=4)t[o+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],o=0;o<t;o+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),r=t.enc={},s=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],o=0;o<e;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new a.init(n,t/2)}},c=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],o=0;o<e;o++)n.push(String.fromCharCode(t[o>>>2]>>>24-o%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new a.init(n,t)}},l=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,o=n.words,i=n.sigBytes,r=this.blockSize,s=i/(4*r);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,i=e.min(4*t,i),t){for(var c=0;c<t;c+=r)this._doProcessBlock(o,c);c=o.splice(0,t),n.sigBytes-=i}return new a.init(c,i)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=u.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}});var d=t.algo={};return t}(Math);(function(e){for(var t=r,n=(i=t.lib).WordArray,o=i.Hasher,i=t.algo,a=[],s=[],c=function(e){return 4294967296*(e-(0|e))|0},l=2,u=0;64>u;){var d;e:{d=l;for(var p=e.sqrt(d),f=2;f<=p;f++)if(!(d%f)){d=!1;break e}d=!0}d&&(8>u&&(a[u]=c(e.pow(l,.5))),s[u]=c(e.pow(l,1/3)),u++),l++}var v=[];i=i.SHA256=o.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],i=n[1],a=n[2],r=n[3],c=n[4],l=n[5],u=n[6],d=n[7],p=0;64>p;p++){if(16>p)v[p]=0|e[t+p];else{var f=v[p-15],g=v[p-2];v[p]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+v[p-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+v[p-16]}f=d+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&l^~c&u)+s[p]+v[p],g=((o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22))+(o&i^o&a^i&a),d=u,u=l,l=c,c=r+f|0,r=a,a=i,i=o,o=f+g|0}n[0]=n[0]+o|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+r|0,n[4]=n[4]+c|0,n[5]=n[5]+l|0,n[6]=n[6]+u|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,o=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(o/4294967296),n[15+(i+64>>>9<<4)]=o,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=o._createHelper(i),t.HmacSHA256=o._createHmacHelper(i)})(Math),o=(n=r).enc.Utf8,n.algo.HMAC=n.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),r=this._iKey=t.clone(),s=a.words,c=r.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;a.sigBytes=r.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}}),function(){var e=r,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,o=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,r=0;4>r&&i+.75*r<n;r++)e.push(o.charAt(a>>>6*(3-r)&63));if(t=o.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,o=this._map;(i=o.charAt(64))&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],a=0,r=0;r<n;r++)if(r%4){var s=o.indexOf(e.charAt(r-1))<<r%4*2,c=o.indexOf(e.charAt(r))>>>6-r%4*2;i[a>>>2]|=(s|c)<<24-a%4*8,a++}return t.create(i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){(function(e){e[e.Undefined=0]="Undefined",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical"})(e.EGAErrorSeverity||(e.EGAErrorSeverity={})),function(e){e[e.Undefined=0]="Undefined",e[e.Start=1]="Start",e[e.Complete=2]="Complete",e[e.Fail=3]="Fail"}(e.EGAProgressionStatus||(e.EGAProgressionStatus={})),function(e){e[e.Undefined=0]="Undefined",e[e.Source=1]="Source",e[e.Sink=2]="Sink"}(e.EGAResourceFlowType||(e.EGAResourceFlowType={})),function(e){e[e.Undefined=0]="Undefined",e[e.Clicked=1]="Clicked",e[e.Show=2]="Show",e[e.FailedShow=3]="FailedShow",e[e.RewardReceived=4]="RewardReceived"}(e.EGAAdAction||(e.EGAAdAction={})),function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Offline=2]="Offline",e[e.NoFill=3]="NoFill",e[e.InternalError=4]="InternalError",e[e.InvalidRequest=5]="InvalidRequest",e[e.UnableToPrecache=6]="UnableToPrecache"}(e.EGAAdError||(e.EGAAdError={})),function(e){e[e.Undefined=0]="Undefined",e[e.Video=1]="Video",e[e.RewardedVideo=2]="RewardedVideo",e[e.Playable=3]="Playable",e[e.Interstitial=4]="Interstitial",e[e.OfferWall=5]="OfferWall",e[e.Banner=6]="Banner"}(e.EGAAdType||(e.EGAAdType={})),function(e){(function(e){e[e.NoResponse=0]="NoResponse",e[e.BadResponse=1]="BadResponse",e[e.RequestTimeout=2]="RequestTimeout",e[e.JsonEncodeFailed=3]="JsonEncodeFailed",e[e.JsonDecodeFailed=4]="JsonDecodeFailed",e[e.InternalServerError=5]="InternalServerError",e[e.BadRequest=6]="BadRequest",e[e.Unauthorized=7]="Unauthorized",e[e.UnknownResponseCode=8]="UnknownResponseCode",e[e.Ok=9]="Ok",e[e.Created=10]="Created"})(e.EGAHTTPApiResponse||(e.EGAHTTPApiResponse={}))}(e.http||(e.http={})),function(e){(function(e){e[e.Undefined=0]="Undefined",e[e.EventValidation=1]="EventValidation",e[e.Database=2]="Database",e[e.Init=3]="Init",e[e.Http=4]="Http",e[e.Json=5]="Json"})(e.EGASdkErrorCategory||(e.EGASdkErrorCategory={})),function(e){e[e.Undefined=0]="Undefined",e[e.BusinessEvent=1]="BusinessEvent",e[e.ResourceEvent=2]="ResourceEvent",e[e.ProgressionEvent=3]="ProgressionEvent",e[e.DesignEvent=4]="DesignEvent",e[e.ErrorEvent=5]="ErrorEvent",e[e.InitHttp=9]="InitHttp",e[e.EventsHttp=10]="EventsHttp",e[e.ProcessEvents=11]="ProcessEvents",e[e.AddEventsToStore=12]="AddEventsToStore",e[e.AdEvent=20]="AdEvent"}(e.EGASdkErrorArea||(e.EGASdkErrorArea={})),function(e){e[e.Undefined=0]="Undefined",e[e.InvalidCurrency=1]="InvalidCurrency",e[e.InvalidShortString=2]="InvalidShortString",e[e.InvalidEventPartLength=3]="InvalidEventPartLength",e[e.InvalidEventPartCharacters=4]="InvalidEventPartCharacters",e[e.InvalidStore=5]="InvalidStore",e[e.InvalidFlowType=6]="InvalidFlowType",e[e.StringEmptyOrNull=7]="StringEmptyOrNull",e[e.NotFoundInAvailableCurrencies=8]="NotFoundInAvailableCurrencies",e[e.InvalidAmount=9]="InvalidAmount",e[e.NotFoundInAvailableItemTypes=10]="NotFoundInAvailableItemTypes",e[e.WrongProgressionOrder=11]="WrongProgressionOrder",e[e.InvalidEventIdLength=12]="InvalidEventIdLength",e[e.InvalidEventIdCharacters=13]="InvalidEventIdCharacters",e[e.InvalidProgressionStatus=15]="InvalidProgressionStatus",e[e.InvalidSeverity=16]="InvalidSeverity",e[e.InvalidLongString=17]="InvalidLongString",e[e.DatabaseTooLarge=18]="DatabaseTooLarge",e[e.DatabaseOpenOrCreate=19]="DatabaseOpenOrCreate",e[e.JsonError=25]="JsonError",e[e.FailHttpJsonDecode=29]="FailHttpJsonDecode",e[e.FailHttpJsonEncode=30]="FailHttpJsonEncode",e[e.InvalidAdAction=31]="InvalidAdAction",e[e.InvalidAdType=32]="InvalidAdType",e[e.InvalidString=33]="InvalidString"}(e.EGASdkErrorAction||(e.EGASdkErrorAction={})),function(e){e[e.Undefined=0]="Undefined",e[e.Currency=1]="Currency",e[e.CartType=2]="CartType",e[e.ItemType=3]="ItemType",e[e.ItemId=4]="ItemId",e[e.Store=5]="Store",e[e.FlowType=6]="FlowType",e[e.Amount=7]="Amount",e[e.Progression01=8]="Progression01",e[e.Progression02=9]="Progression02",e[e.Progression03=10]="Progression03",e[e.EventId=11]="EventId",e[e.ProgressionStatus=12]="ProgressionStatus",e[e.Severity=13]="Severity",e[e.Message=14]="Message",e[e.AdAction=15]="AdAction",e[e.AdType=16]="AdType",e[e.AdSdkName=17]="AdSdkName",e[e.AdPlacement=18]="AdPlacement"}(e.EGASdkErrorParameter||(e.EGASdkErrorParameter={}))}(e.events||(e.events={}))}(a||(a={})),function(e){(function(e){e[e.Undefined=0]="Undefined",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical"})(e.EGAErrorSeverity||(e.EGAErrorSeverity={})),function(e){e[e.Undefined=0]="Undefined",e[e.Start=1]="Start",e[e.Complete=2]="Complete",e[e.Fail=3]="Fail"}(e.EGAProgressionStatus||(e.EGAProgressionStatus={})),function(e){e[e.Undefined=0]="Undefined",e[e.Source=1]="Source",e[e.Sink=2]="Sink"}(e.EGAResourceFlowType||(e.EGAResourceFlowType={})),function(e){e[e.Undefined=0]="Undefined",e[e.Clicked=1]="Clicked",e[e.Show=2]="Show",e[e.FailedShow=3]="FailedShow",e[e.RewardReceived=4]="RewardReceived"}(e.EGAAdAction||(e.EGAAdAction={})),function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Offline=2]="Offline",e[e.NoFill=3]="NoFill",e[e.InternalError=4]="InternalError",e[e.InvalidRequest=5]="InvalidRequest",e[e.UnableToPrecache=6]="UnableToPrecache"}(e.EGAAdError||(e.EGAAdError={})),function(e){e[e.Undefined=0]="Undefined",e[e.Video=1]="Video",e[e.RewardedVideo=2]="RewardedVideo",e[e.Playable=3]="Playable",e[e.Interstitial=4]="Interstitial",e[e.OfferWall=5]="OfferWall",e[e.Banner=6]="Banner"}(e.EGAAdType||(e.EGAAdType={}))}(i||(i={})),function(e){(function(e){var t;(function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Debug=3]="Debug"})(t||(t={}));var n=function(){function e(){e.debugEnabled=!1}return e.setInfoLog=function(t){e.instance.infoLogEnabled=t},e.setVerboseLog=function(t){e.instance.infoLogVerboseEnabled=t},e.i=function(n){if(e.instance.infoLogEnabled){var o="Info/"+e.Tag+": "+n;e.instance.sendNotificationMessage(o,t.Info)}},e.w=function(n){var o="Warning/"+e.Tag+": "+n;e.instance.sendNotificationMessage(o,t.Warning)},e.e=function(n){var o="Error/"+e.Tag+": "+n;e.instance.sendNotificationMessage(o,t.Error)},e.ii=function(n){if(e.instance.infoLogVerboseEnabled){var o="Verbose/"+e.Tag+": "+n;e.instance.sendNotificationMessage(o,t.Info)}},e.d=function(n){if(e.debugEnabled){var o="Debug/"+e.Tag+": "+n;e.instance.sendNotificationMessage(o,t.Debug)}},e.prototype.sendNotificationMessage=function(e,n){switch(n){case t.Error:console.error(e);break;case t.Warning:console.warn(e);break;case t.Debug:"function"==typeof console.debug?console.debug(e):console.log(e);break;case t.Info:console.log(e)}},e.instance=new e,e.Tag="GameAnalytics",e}();e.GALogger=n})(e.logging||(e.logging={}))}(a||(a={})),function(e){(function(t){var n=e.logging.GALogger,o=function(){function e(){}return e.getHmac=function(e,t){var n=r.HmacSHA256(t,e);return r.enc.Base64.stringify(n)},e.stringMatch=function(e,t){return!(!e||!t)&&t.test(e)},e.joinStringArray=function(e,t){for(var n="",o=0,i=e.length;o<i;o++)o>0&&(n+=t),n+=e[o];return n},e.stringArrayContainsString=function(e,t){if(0===e.length)return!1;for(var n in e)if(e[n]===t)return!0;return!1},e.encode64=function(t){t=encodeURI(t);var n,o,i,a,r,s="",c=0,l=0,u=0;do{i=(n=t.charCodeAt(u++))>>2,a=(3&n)<<4|(o=t.charCodeAt(u++))>>4,r=(15&o)<<2|(c=t.charCodeAt(u++))>>6,l=63&c,isNaN(o)?r=l=64:isNaN(c)&&(l=64),s=s+e.keyStr.charAt(i)+e.keyStr.charAt(a)+e.keyStr.charAt(r)+e.keyStr.charAt(l),n=o=c=0,i=a=r=l=0}while(u<t.length);return s},e.decode64=function(t){var o,i,a,r,s="",c=0,l=0,u=0;/[^A-Za-z0-9\+\/\=]/g.exec(t)&&n.w("There were invalid base64 characters in the input text. Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='. Expect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{o=e.keyStr.indexOf(t.charAt(u++))<<2|(a=e.keyStr.indexOf(t.charAt(u++)))>>4,i=(15&a)<<4|(r=e.keyStr.indexOf(t.charAt(u++)))>>2,c=(3&r)<<6|(l=e.keyStr.indexOf(t.charAt(u++))),s+=String.fromCharCode(o),64!=r&&(s+=String.fromCharCode(i)),64!=l&&(s+=String.fromCharCode(c)),o=i=c=0,a=r=l=0}while(u<t.length);return decodeURI(s)},e.timeIntervalSince1970=function(){var e=new Date;return Math.round(e.getTime()/1e3)},e.createGuid=function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(e){return(+e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+e/4).toString(16)})},e.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e}();t.GAUtilities=o})(e.utilities||(e.utilities={}))}(a||(a={})),function(e){(function(t){var n=e.logging.GALogger,o=e.utilities.GAUtilities,i=e.events.EGASdkErrorCategory,a=e.events.EGASdkErrorArea,r=e.events.EGASdkErrorAction,s=e.events.EGASdkErrorParameter,c=function(e,t,n,o,i){this.category=e,this.area=t,this.action=n,this.parameter=o,this.reason=i};t.ValidationResult=c;var l=function(){function t(){}return t.validateBusinessEvent=function(e,o,l,u,d){return t.validateCurrency(e)?o<0?(n.w("Validation fail - business event - amount. Cannot be less than 0. Failed amount: "+o),new c(i.EventValidation,a.BusinessEvent,r.InvalidAmount,s.Amount,o+"")):t.validateShortString(l,!0)?t.validateEventPartLength(u,!1)?t.validateEventPartCharacters(u)?t.validateEventPartLength(d,!1)?t.validateEventPartCharacters(d)?null:(n.w("Validation fail - business event - itemId: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+d),new c(i.EventValidation,a.BusinessEvent,r.InvalidEventPartCharacters,s.ItemId,d)):(n.w("Validation fail - business event - itemId. Cannot be (null), empty or above 64 characters. String: "+d),new c(i.EventValidation,a.BusinessEvent,r.InvalidEventPartLength,s.ItemId,d)):(n.w("Validation fail - business event - itemType: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+u),new c(i.EventValidation,a.BusinessEvent,r.InvalidEventPartCharacters,s.ItemType,u)):(n.w("Validation fail - business event - itemType: Cannot be (null), empty or above 64 characters. String: "+u),new c(i.EventValidation,a.BusinessEvent,r.InvalidEventPartLength,s.ItemType,u)):(n.w("Validation fail - business event - cartType. Cannot be above 32 length. String: "+l),new c(i.EventValidation,a.BusinessEvent,r.InvalidShortString,s.CartType,l)):(n.w("Validation fail - business event - currency: Cannot be (null) and need to be A-Z, 3 characters and in the standard at openexchangerates.org. Failed currency: "+e),new c(i.EventValidation,a.BusinessEvent,r.InvalidCurrency,s.Currency,e))},t.validateResourceEvent=function(l,u,d,p,f,v,g){return l==e.EGAResourceFlowType.Undefined?(n.w("Validation fail - resource event - flowType: Invalid flow type."),new c(i.EventValidation,a.ResourceEvent,r.InvalidFlowType,s.FlowType,"")):u?o.stringArrayContainsString(v,u)?d>0?p?t.validateEventPartLength(p,!1)?t.validateEventPartCharacters(p)?o.stringArrayContainsString(g,p)?t.validateEventPartLength(f,!1)?t.validateEventPartCharacters(f)?null:(n.w("Validation fail - resource event - itemId: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+f),new c(i.EventValidation,a.ResourceEvent,r.InvalidEventPartCharacters,s.ItemId,f)):(n.w("Validation fail - resource event - itemId: Cannot be (null), empty or above 64 characters. String: "+f),new c(i.EventValidation,a.ResourceEvent,r.InvalidEventPartLength,s.ItemId,f)):(n.w("Validation fail - resource event - itemType: Not found in list of pre-defined available resource itemTypes. String: "+p),new c(i.EventValidation,a.ResourceEvent,r.NotFoundInAvailableItemTypes,s.ItemType,p)):(n.w("Validation fail - resource event - itemType: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+p),new c(i.EventValidation,a.ResourceEvent,r.InvalidEventPartCharacters,s.ItemType,p)):(n.w("Validation fail - resource event - itemType: Cannot be (null), empty or above 64 characters. String: "+p),new c(i.EventValidation,a.ResourceEvent,r.InvalidEventPartLength,s.ItemType,p)):(n.w("Validation fail - resource event - itemType: Cannot be (null)"),new c(i.EventValidation,a.ResourceEvent,r.StringEmptyOrNull,s.ItemType,"")):(n.w("Validation fail - resource event - amount: Float amount cannot be 0 or negative. Value: "+d),new c(i.EventValidation,a.ResourceEvent,r.InvalidAmount,s.Amount,d+"")):(n.w("Validation fail - resource event - currency: Not found in list of pre-defined available resource currencies. String: "+u),new c(i.EventValidation,a.ResourceEvent,r.NotFoundInAvailableCurrencies,s.Currency,u)):(n.w("Validation fail - resource event - currency: Cannot be (null)"),new c(i.EventValidation,a.ResourceEvent,r.StringEmptyOrNull,s.Currency,""))},t.validateProgressionEvent=function(o,l,u,d){if(o==e.EGAProgressionStatus.Undefined)return n.w("Validation fail - progression event: Invalid progression status."),new c(i.EventValidation,a.ProgressionEvent,r.InvalidProgressionStatus,s.ProgressionStatus,"");if(d&&!u&&l)return n.w("Validation fail - progression event: 03 found but 01+02 are invalid. Progression must be set as either 01, 01+02 or 01+02+03."),new c(i.EventValidation,a.ProgressionEvent,r.WrongProgressionOrder,s.Undefined,l+":"+u+":"+d);if(u&&!l)return n.w("Validation fail - progression event: 02 found but not 01. Progression must be set as either 01, 01+02 or 01+02+03"),new c(i.EventValidation,a.ProgressionEvent,r.WrongProgressionOrder,s.Undefined,l+":"+u+":"+d);if(!l)return n.w("Validation fail - progression event: progression01 not valid. Progressions must be set as either 01, 01+02 or 01+02+03"),new c(i.EventValidation,a.ProgressionEvent,r.WrongProgressionOrder,s.Undefined,(l||"")+":"+(u||"")+":"+(d||""));if(!t.validateEventPartLength(l,!1))return n.w("Validation fail - progression event - progression01: Cannot be (null), empty or above 64 characters. String: "+l),new c(i.EventValidation,a.ProgressionEvent,r.InvalidEventPartLength,s.Progression01,l);if(!t.validateEventPartCharacters(l))return n.w("Validation fail - progression event - progression01: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+l),new c(i.EventValidation,a.ProgressionEvent,r.InvalidEventPartCharacters,s.Progression01,l);if(u){if(!t.validateEventPartLength(u,!0))return n.w("Validation fail - progression event - progression02: Cannot be empty or above 64 characters. String: "+u),new c(i.EventValidation,a.ProgressionEvent,r.InvalidEventPartLength,s.Progression02,u);if(!t.validateEventPartCharacters(u))return n.w("Validation fail - progression event - progression02: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+u),new c(i.EventValidation,a.ProgressionEvent,r.InvalidEventPartCharacters,s.Progression02,u)}if(d){if(!t.validateEventPartLength(d,!0))return n.w("Validation fail - progression event - progression03: Cannot be empty or above 64 characters. String: "+d),new c(i.EventValidation,a.ProgressionEvent,r.InvalidEventPartLength,s.Progression03,d);if(!t.validateEventPartCharacters(d))return n.w("Validation fail - progression event - progression03: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+d),new c(i.EventValidation,a.ProgressionEvent,r.InvalidEventPartCharacters,s.Progression03,d)}return null},t.validateDesignEvent=function(e){return t.validateEventIdLength(e)?t.validateEventIdCharacters(e)?null:(n.w("Validation fail - design event - eventId: Non valid characters. Only allowed A-z, 0-9, -_., ()!?. String: "+e),new c(i.EventValidation,a.DesignEvent,r.InvalidEventIdCharacters,s.EventId,e)):(n.w("Validation fail - design event - eventId: Cannot be (null) or empty. Only 5 event parts allowed seperated by :. Each part need to be 64 characters or less. String: "+e),new c(i.EventValidation,a.DesignEvent,r.InvalidEventIdLength,s.EventId,e))},t.validateErrorEvent=function(o,l){return o==e.EGAErrorSeverity.Undefined?(n.w("Validation fail - error event - severity: Severity was unsupported value."),new c(i.EventValidation,a.ErrorEvent,r.InvalidSeverity,s.Severity,"")):t.validateLongString(l,!0)?null:(n.w("Validation fail - error event - message: Message cannot be above 8192 characters."),new c(i.EventValidation,a.ErrorEvent,r.InvalidLongString,s.Message,l))},t.validateAdEvent=function(o,l,u,d){return o==e.EGAAdAction.Undefined?(n.w("Validation fail - error event - severity: Severity was unsupported value."),new c(i.EventValidation,a.AdEvent,r.InvalidAdAction,s.AdAction,"")):l==e.EGAAdType.Undefined?(n.w("Validation fail - ad event - adType: Ad type was unsupported value."),new c(i.EventValidation,a.AdEvent,r.InvalidAdType,s.AdType,"")):t.validateShortString(u,!1)?t.validateString(d,!1)?null:(n.w("Validation fail - ad event - message: Ad placement cannot be above 64 characters."),new c(i.EventValidation,a.AdEvent,r.InvalidString,s.AdPlacement,d)):(n.w("Validation fail - ad event - message: Ad SDK name cannot be above 32 characters."),new c(i.EventValidation,a.AdEvent,r.InvalidShortString,s.AdSdkName,u))},t.validateSdkErrorEvent=function(e,o,s,c,l){return!(!t.validateKeys(e,o)||(s===i.Undefined?(n.w("Validation fail - sdk error event - type: Category was unsupported value."),1):c===a.Undefined?(n.w("Validation fail - sdk error event - type: Area was unsupported value."),1):l===r.Undefined&&(n.w("Validation fail - sdk error event - type: Action was unsupported value."),1)))},t.validateKeys=function(e,t){return!(!o.stringMatch(e,/^[A-z0-9]{32}$/)||!o.stringMatch(t,/^[A-z0-9]{40}$/))},t.validateCurrency=function(e){return!!e&&!!o.stringMatch(e,/^[A-Z]{3}$/)},t.validateEventPartLength=function(e,t){return!(!t||e)||!!e&&!(e.length>64)},t.validateEventPartCharacters=function(e){return!!o.stringMatch(e,/^[A-Za-z0-9\s\-_\.\(\)\!\?]{1,64}$/)},t.validateEventIdLength=function(e){return!!e&&!!o.stringMatch(e,/^[^:]{1,64}(?::[^:]{1,64}){0,4}$/)},t.validateEventIdCharacters=function(e){return!!e&&!!o.stringMatch(e,/^[A-Za-z0-9\s\-_\.\(\)\!\?]{1,64}(:[A-Za-z0-9\s\-_\.\(\)\!\?]{1,64}){0,4}$/)},t.validateAndCleanInitRequestResponse=function(e,t){if(null==e)return n.w("validateInitRequestResponse failed - no response dictionary."),null;var o={};try{var i=e.server_ts;if(!(i>0))return n.w("validateInitRequestResponse failed - invalid value in 'server_ts' field."),null;o.server_ts=i}catch(l){return n.w("validateInitRequestResponse failed - invalid type in 'server_ts' field. type="+typeof e.server_ts+", value="+e.server_ts+", "+l),null}if(t){try{var a=e.configs;o.configs=a}catch(l){return n.w("validateInitRequestResponse failed - invalid type in 'configs' field. type="+typeof e.configs+", value="+e.configs+", "+l),null}try{var r=e.configs_hash;o.configs_hash=r}catch(l){return n.w("validateInitRequestResponse failed - invalid type in 'configs_hash' field. type="+typeof e.configs_hash+", value="+e.configs_hash+", "+l),null}try{var s=e.ab_id;o.ab_id=s}catch(l){return n.w("validateInitRequestResponse failed - invalid type in 'ab_id' field. type="+typeof e.ab_id+", value="+e.ab_id+", "+l),null}try{var c=e.ab_variant_id;o.ab_variant_id=c}catch(l){return n.w("validateInitRequestResponse failed - invalid type in 'ab_variant_id' field. type="+typeof e.ab_variant_id+", value="+e.ab_variant_id+", "+l),null}}return o},t.validateBuild=function(e){return!!t.validateShortString(e,!1)},t.validateSdkWrapperVersion=function(e){return!!o.stringMatch(e,/^(unity|unreal|gamemaker|cocos2d|construct|defold|godot|flutter) [0-9]{0,5}(\.[0-9]{0,5}){0,2}$/)},t.validateEngineVersion=function(e){return!(!e||!o.stringMatch(e,/^(unity|unreal|gamemaker|cocos2d|construct|defold|godot) [0-9]{0,5}(\.[0-9]{0,5}){0,2}$/))},t.validateUserId=function(e){return!!t.validateString(e,!1)||(n.w("Validation fail - user id: id cannot be (null), empty or above 64 characters."),!1)},t.validateShortString=function(e,t){return!(!t||e)||!(!e||e.length>32)},t.validateString=function(e,t){return!(!t||e)||!(!e||e.length>64)},t.validateLongString=function(e,t){return!(!t||e)||!(!e||e.length>8192)},t.validateConnectionType=function(e){return o.stringMatch(e,/^(wwan|wifi|lan|offline)$/)},t.validateCustomDimensions=function(e){return t.validateArrayOfStrings(20,32,!1,"custom dimensions",e)},t.validateResourceCurrencies=function(e){if(!t.validateArrayOfStrings(20,64,!1,"resource currencies",e))return!1;for(var i=0;i<e.length;++i)if(!o.stringMatch(e[i],/^[A-Za-z]+$/))return n.w("resource currencies validation failed: a resource currency can only be A-Z, a-z. String was: "+e[i]),!1;return!0},t.validateResourceItemTypes=function(e){if(!t.validateArrayOfStrings(20,32,!1,"resource item types",e))return!1;for(var o=0;o<e.length;++o)if(!t.validateEventPartCharacters(e[o]))return n.w("resource item types validation failed: a resource item type cannot contain other characters than A-z, 0-9, -_., ()!?. String was: "+e[o]),!1;return!0},t.validateDimension01=function(e,t){return!e||!!o.stringArrayContainsString(t,e)},t.validateDimension02=function(e,t){return!e||!!o.stringArrayContainsString(t,e)},t.validateDimension03=function(e,t){return!e||!!o.stringArrayContainsString(t,e)},t.validateArrayOfStrings=function(e,t,o,i,a){var r=i;if(r||(r="Array"),!a)return n.w(r+" validation failed: array cannot be null. "),!1;if(0==o&&0==a.length)return n.w(r+" validation failed: array cannot be empty. "),!1;if(e>0&&a.length>e)return n.w(r+" validation failed: array cannot exceed "+e+" values. It has "+a.length+" values."),!1;for(var s=0;s<a.length;++s){var c=a[s]?a[s].length:0;if(0===c)return n.w(r+" validation failed: contained an empty string. Array="+JSON.stringify(a)),!1;if(t>0&&c>t)return n.w(r+" validation failed: a string exceeded max allowed length (which is: "+t+"). String was: "+a[s]),!1}return!0},t.validateClientTs=function(e){return!(e<0||e>99999999999)},t}();t.GAValidator=l})(e.validators||(e.validators={}))}(a||(a={})),function(e){(function(e){var t=function(e,t,n){this.name=e,this.value=t,this.version=n};e.NameValueVersion=t;var n=function(e,t){this.name=e,this.version=t};e.NameVersion=n;var o=function(){function e(){}return e.touch=function(){},e.getRelevantSdkVersion=function(){return e.sdkGameEngineVersion?e.sdkGameEngineVersion:e.sdkWrapperVersion},e.getConnectionType=function(){return e.connectionType},e.updateConnectionType=function(){navigator.onLine?"ios"===e.buildPlatform||"android"===e.buildPlatform?e.connectionType="wwan":e.connectionType="lan":e.connectionType="offline"},e.getOSVersionString=function(){return e.buildPlatform+" "+e.osVersionPair.version},e.runtimePlatformToString=function(){return e.osVersionPair.name},e.getBrowserVersionString=function(){var t,n=navigator.userAgent,o=n.match(/(opera|chrome|safari|firefox|ubrowser|msie|trident|fbav(?=\/))\/?\s*(\d+)/i)||[];if(0==o.length&&"ios"===e.buildPlatform)return"webkit_"+e.osVersion;if(/trident/i.test(o[1]))return"IE "+((t=/\brv[ :]+(\d+)/g.exec(n)||[])[1]||"");if("Chrome"===o[1]&&null!=(t=n.match(/\b(OPR|Edge|UBrowser)\/(\d+)/)))return t.slice(1).join(" ").replace("OPR","Opera").replace("UBrowser","UC").toLowerCase();if(o[1]&&"fbav"===o[1].toLowerCase()&&(o[1]="facebook",o[2]))return"facebook "+o[2];var i=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"];return null!=(t=n.match(/version\/(\d+)/i))&&i.splice(1,1,t[1]),i.join(" ").toLowerCase()},e.getDeviceModel=function(){return"unknown"},e.getDeviceManufacturer=function(){return"unknown"},e.matchItem=function(e,t){var o,i,a,r,s=new n("unknown","0.0.0"),c=0,l=0;for(c=0;c<t.length;c+=1)if(new RegExp(t[c].value,"i").test(e)){if(o=new RegExp(t[c].version+"[- /:;]([\\d._]+)","i"),r="",(i=e.match(o))&&i[1]&&(a=i[1]),a){var u=a.split(/[._]+/);for(l=0;l<Math.min(u.length,3);l+=1)r+=u[l]+(l<Math.min(u.length,3)-1?".":"")}else r="0.0.0";return s.name=t[c].name,s.version=r,s}return s},e.sdkWrapperVersion="javascript 4.4.5",e.osVersionPair=e.matchItem([navigator.platform,navigator.userAgent,navigator.appVersion,navigator.vendor].join(" "),[new t("windows_phone","Windows Phone","OS"),new t("windows","Win","NT"),new t("ios","iPhone","OS"),new t("ios","iPad","OS"),new t("ios","iPod","OS"),new t("android","Android","Android"),new t("blackBerry","BlackBerry","/"),new t("mac_osx","Mac","OS X"),new t("tizen","Tizen","Tizen"),new t("linux","Linux","rv"),new t("kai_os","KAIOS","KAIOS")]),e.buildPlatform=e.runtimePlatformToString(),e.deviceModel=e.getDeviceModel(),e.deviceManufacturer=e.getDeviceManufacturer(),e.osVersion=e.getOSVersionString(),e.browserVersion=e.getBrowserVersionString(),e}();e.GADevice=o})(e.device||(e.device={}))}(a||(a={})),function(e){(function(e){var t=function(){function e(t){this.deadline=t,this.ignore=!1,this.async=!1,this.running=!1,this.id=++e.idCounter}return e.idCounter=0,e}();e.TimedBlock=t})(e.threading||(e.threading={}))}(a||(a={})),function(e){(function(e){var t=function(){function e(e){this.comparer=e,this._subQueues={},this._sortedKeys=[]}return e.prototype.enqueue=function(e,t){-1===this._sortedKeys.indexOf(e)&&this.addQueueOfPriority(e),this._subQueues[e].push(t)},e.prototype.addQueueOfPriority=function(e){var t=this;this._sortedKeys.push(e),this._sortedKeys.sort(function(e,n){return t.comparer.compare(e,n)}),this._subQueues[e]=[]},e.prototype.peek=function(){if(this.hasItems())return this._subQueues[this._sortedKeys[0]][0];throw new Error("The queue is empty")},e.prototype.hasItems=function(){return this._sortedKeys.length>0},e.prototype.dequeue=function(){if(this.hasItems())return this.dequeueFromHighPriorityQueue();throw new Error("The queue is empty")},e.prototype.dequeueFromHighPriorityQueue=function(){var e=this._sortedKeys[0],t=this._subQueues[e].shift();return 0===this._subQueues[e].length&&(this._sortedKeys.shift(),delete this._subQueues[e]),t},e}();e.PriorityQueue=t})(e.threading||(e.threading={}))}(a||(a={})),function(e){(function(t){var n,o,i=e.logging.GALogger;(function(e){e[e.Equal=0]="Equal",e[e.LessOrEqual=1]="LessOrEqual",e[e.NotEqual=2]="NotEqual"})(n=t.EGAStoreArgsOperator||(t.EGAStoreArgsOperator={})),function(e){e[e.Events=0]="Events",e[e.Sessions=1]="Sessions",e[e.Progression=2]="Progression"}(o=t.EGAStore||(t.EGAStore={}));var a=function(){function e(){this.eventsStore=[],this.sessionsStore=[],this.progressionStore=[],this.storeItems={};try{"object"==typeof localStorage?(localStorage.setItem("testingLocalStorage","yes"),localStorage.removeItem("testingLocalStorage"),e.storageAvailable=!0):e.storageAvailable=!1}catch(t){}}return e.isStorageAvailable=function(){return e.storageAvailable},e.isStoreTooLargeForEvents=function(){return e.instance.eventsStore.length+e.instance.sessionsStore.length>e.MaxNumberOfEntries},e.select=function(t,o,i,a){void 0===o&&(o=[]),void 0===i&&(i=!1),void 0===a&&(a=0);var r=e.getStore(t);if(!r)return null;for(var s=[],c=0;c<r.length;++c){for(var l=r[c],u=!0,d=0;d<o.length;++d){var p=o[d];if(l[p[0]])switch(p[1]){case n.Equal:u=l[p[0]]==p[2];break;case n.LessOrEqual:u=l[p[0]]<=p[2];break;case n.NotEqual:u=l[p[0]]!=p[2];break;default:u=!1}else u=!1;if(!u)break}u&&s.push(l)}return i&&s.sort(function(e,t){return e.client_ts-t.client_ts}),a>0&&s.length>a&&(s=s.slice(0,a+1)),s},e.update=function(t,o,i){void 0===i&&(i=[]);var a=e.getStore(t);if(!a)return!1;for(var r=0;r<a.length;++r){for(var s=a[r],c=!0,l=0;l<i.length;++l){var u=i[l];if(s[u[0]])switch(u[1]){case n.Equal:c=s[u[0]]==u[2];break;case n.LessOrEqual:c=s[u[0]]<=u[2];break;case n.NotEqual:c=s[u[0]]!=u[2];break;default:c=!1}else c=!1;if(!c)break}if(c)for(l=0;l<o.length;++l){var d=o[l];s[d[0]]=d[1]}}return!0},e.delete=function(t,o){var i=e.getStore(t);if(i)for(var a=0;a<i.length;++a){for(var r=i[a],s=!0,c=0;c<o.length;++c){var l=o[c];if(r[l[0]])switch(l[1]){case n.Equal:s=r[l[0]]==l[2];break;case n.LessOrEqual:s=r[l[0]]<=l[2];break;case n.NotEqual:s=r[l[0]]!=l[2];break;default:s=!1}else s=!1;if(!s)break}s&&(i.splice(a,1),--a)}},e.insert=function(t,n,o,i){void 0===o&&(o=!1),void 0===i&&(i=null);var a=e.getStore(t);if(a)if(o){if(!i)return;for(var r=!1,s=0;s<a.length;++s){var c=a[s];if(c[i]==n[i]){for(var l in n)c[l]=n[l];r=!0;break}}r||a.push(n)}else a.push(n)},e.save=function(t){e.isStorageAvailable()?(localStorage.setItem(e.StringFormat(e.KeyFormat,t,e.EventsStoreKey),JSON.stringify(e.instance.eventsStore)),localStorage.setItem(e.StringFormat(e.KeyFormat,t,e.SessionsStoreKey),JSON.stringify(e.instance.sessionsStore)),localStorage.setItem(e.StringFormat(e.KeyFormat,t,e.ProgressionStoreKey),JSON.stringify(e.instance.progressionStore)),localStorage.setItem(e.StringFormat(e.KeyFormat,t,e.ItemsStoreKey),JSON.stringify(e.instance.storeItems))):i.w("Storage is not available, cannot save.")},e.load=function(t){if(e.isStorageAvailable()){try{e.instance.eventsStore=JSON.parse(localStorage.getItem(e.StringFormat(e.KeyFormat,t,e.EventsStoreKey))),e.instance.eventsStore||(e.instance.eventsStore=[])}catch(n){i.w("Load failed for 'events' store. Using empty store."),e.instance.eventsStore=[]}try{e.instance.sessionsStore=JSON.parse(localStorage.getItem(e.StringFormat(e.KeyFormat,t,e.SessionsStoreKey))),e.instance.sessionsStore||(e.instance.sessionsStore=[])}catch(n){i.w("Load failed for 'sessions' store. Using empty store."),e.instance.sessionsStore=[]}try{e.instance.progressionStore=JSON.parse(localStorage.getItem(e.StringFormat(e.KeyFormat,t,e.ProgressionStoreKey))),e.instance.progressionStore||(e.instance.progressionStore=[])}catch(n){i.w("Load failed for 'progression' store. Using empty store."),e.instance.progressionStore=[]}try{e.instance.storeItems=JSON.parse(localStorage.getItem(e.StringFormat(e.KeyFormat,t,e.ItemsStoreKey))),e.instance.storeItems||(e.instance.storeItems={})}catch(n){i.w("Load failed for 'items' store. Using empty store."),e.instance.progressionStore=[]}}else i.w("Storage is not available, cannot load.")},e.setItem=function(t,n,o){var i=e.StringFormat(e.KeyFormat,t,n);o?e.instance.storeItems[i]=o:i in e.instance.storeItems&&delete e.instance.storeItems[i]},e.getItem=function(t,n){var o=e.StringFormat(e.KeyFormat,t,n);return o in e.instance.storeItems?e.instance.storeItems[o]:null},e.getStore=function(t){switch(t){case o.Events:return e.instance.eventsStore;case o.Sessions:return e.instance.sessionsStore;case o.Progression:return e.instance.progressionStore;default:return i.w("GAStore.getStore(): Cannot find store: "+t),null}},e.instance=new e,e.MaxNumberOfEntries=2e3,e.StringFormat=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.replace(/{(\d+)}/g,function(e,n){return t[n]||""})},e.KeyFormat="GA::{0}::{1}",e.EventsStoreKey="ga_event",e.SessionsStoreKey="ga_session",e.ProgressionStoreKey="ga_progression",e.ItemsStoreKey="ga_items",e}();t.GAStore=a})(e.store||(e.store={}))}(a||(a={})),function(e){(function(t){var n=e.validators.GAValidator,o=e.utilities.GAUtilities,i=e.logging.GALogger,a=e.store.GAStore,r=e.device.GADevice,s=e.store.EGAStore,c=e.store.EGAStoreArgsOperator,l=function(){function e(){this.availableCustomDimensions01=[],this.availableCustomDimensions02=[],this.availableCustomDimensions03=[],this.currentGlobalCustomEventFields={},this.availableResourceCurrencies=[],this.availableResourceItemTypes=[],this.configurations={},this.remoteConfigsListeners=[],this.beforeUnloadListeners=[],this.sdkConfigDefault={},this.sdkConfig={},this.progressionTries={},this._isEventSubmissionEnabled=!0,this.isUnloading=!1}return e.setUserId=function(t){e.instance.userId=t,e.cacheIdentifier()},e.getIdentifier=function(){return e.instance.identifier},e.isInitialized=function(){return e.instance.initialized},e.setInitialized=function(t){e.instance.initialized=t},e.getSessionStart=function(){return e.instance.sessionStart},e.getSessionNum=function(){return e.instance.sessionNum},e.getTransactionNum=function(){return e.instance.transactionNum},e.getSessionId=function(){return e.instance.sessionId},e.getCurrentCustomDimension01=function(){return e.instance.currentCustomDimension01},e.getCurrentCustomDimension02=function(){return e.instance.currentCustomDimension02},e.getCurrentCustomDimension03=function(){return e.instance.currentCustomDimension03},e.getGameKey=function(){return e.instance.gameKey},e.getGameSecret=function(){return e.instance.gameSecret},e.getAvailableCustomDimensions01=function(){return e.instance.availableCustomDimensions01},e.setAvailableCustomDimensions01=function(t){n.validateCustomDimensions(t)&&(e.instance.availableCustomDimensions01=t,e.validateAndFixCurrentDimensions(),i.i("Set available custom01 dimension values: ("+o.joinStringArray(t,", ")+")"))},e.getAvailableCustomDimensions02=function(){return e.instance.availableCustomDimensions02},e.setAvailableCustomDimensions02=function(t){n.validateCustomDimensions(t)&&(e.instance.availableCustomDimensions02=t,e.validateAndFixCurrentDimensions(),i.i("Set available custom02 dimension values: ("+o.joinStringArray(t,", ")+")"))},e.getAvailableCustomDimensions03=function(){return e.instance.availableCustomDimensions03},e.setAvailableCustomDimensions03=function(t){n.validateCustomDimensions(t)&&(e.instance.availableCustomDimensions03=t,e.validateAndFixCurrentDimensions(),i.i("Set available custom03 dimension values: ("+o.joinStringArray(t,", ")+")"))},e.getAvailableResourceCurrencies=function(){return e.instance.availableResourceCurrencies},e.setAvailableResourceCurrencies=function(t){n.validateResourceCurrencies(t)&&(e.instance.availableResourceCurrencies=t,i.i("Set available resource currencies: ("+o.joinStringArray(t,", ")+")"))},e.getAvailableResourceItemTypes=function(){return e.instance.availableResourceItemTypes},e.setAvailableResourceItemTypes=function(t){n.validateResourceItemTypes(t)&&(e.instance.availableResourceItemTypes=t,i.i("Set available resource item types: ("+o.joinStringArray(t,", ")+")"))},e.getBuild=function(){return e.instance.build},e.setBuild=function(t){e.instance.build=t,i.i("Set build version: "+t)},e.getUseManualSessionHandling=function(){return e.instance.useManualSessionHandling},e.isEventSubmissionEnabled=function(){return e.instance._isEventSubmissionEnabled},e.getABTestingId=function(){return e.instance.abId},e.getABTestingVariantId=function(){return e.instance.abVariantId},e.prototype.setDefaultId=function(t){this.defaultUserId=t||"",e.cacheIdentifier()},e.getDefaultId=function(){return e.instance.defaultUserId},e.getSdkConfig=function(){var t,n=0;for(var o in e.instance.sdkConfig)0===n&&(t=o),++n;if(t&&n>0)return e.instance.sdkConfig;for(var o in n=0,e.instance.sdkConfigCached)0===n&&(t=o),++n;return t&&n>0?e.instance.sdkConfigCached:e.instance.sdkConfigDefault},e.isEnabled=function(){return!!e.instance.initAuthorized},e.setCustomDimension01=function(t){e.instance.currentCustomDimension01=t,a.setItem(e.getGameKey(),e.Dimension01Key,t),i.i("Set custom01 dimension value: "+t)},e.setCustomDimension02=function(t){e.instance.currentCustomDimension02=t,a.setItem(e.getGameKey(),e.Dimension02Key,t),i.i("Set custom02 dimension value: "+t)},e.setCustomDimension03=function(t){e.instance.currentCustomDimension03=t,a.setItem(e.getGameKey(),e.Dimension03Key,t),i.i("Set custom03 dimension value: "+t)},e.incrementSessionNum=function(){var t=e.getSessionNum()+1;e.instance.sessionNum=t},e.incrementTransactionNum=function(){var t=e.getTransactionNum()+1;e.instance.transactionNum=t},e.incrementProgressionTries=function(t){var n=e.getProgressionTries(t)+1;e.instance.progressionTries[t]=n;var o={};o.progression=t,o.tries=n,a.insert(s.Progression,o,!0,"progression")},e.getProgressionTries=function(t){return t in e.instance.progressionTries?e.instance.progressionTries[t]:0},e.clearProgressionTries=function(t){t in e.instance.progressionTries&&delete e.instance.progressionTries[t];var n=[];n.push(["progression",c.Equal,t]),a.delete(s.Progression,n)},e.setKeys=function(t,n){e.instance.gameKey=t,e.instance.gameSecret=n},e.setManualSessionHandling=function(t){e.instance.useManualSessionHandling=t,i.i("Use manual session handling: "+t)},e.setEnabledEventSubmission=function(t){e.instance._isEventSubmissionEnabled=t},e.getEventAnnotations=function(){var t={v:2};t.event_uuid=o.createGuid(),t.user_id=e.instance.identifier,t.client_ts=e.getClientTsAdjusted(),t.sdk_version=r.getRelevantSdkVersion(),t.os_version=r.osVersion,t.manufacturer=r.deviceManufacturer,t.device=r.deviceModel,t.browser_version=r.browserVersion,t.platform=r.buildPlatform,t.session_id=e.instance.sessionId,t[e.SessionNumKey]=e.instance.sessionNum;var i=r.getConnectionType();if(n.validateConnectionType(i)&&(t.connection_type=i),r.gameEngineVersion&&(t.engine_version=r.gameEngineVersion),e.instance.configurations){var a=0;for(var s in e.instance.configurations){a++;break}a>0&&(t.configurations=e.instance.configurations)}return e.instance.abId&&(t.ab_id=e.instance.abId),e.instance.abVariantId&&(t.ab_variant_id=e.instance.abVariantId),e.instance.build&&(t.build=e.instance.build),t},e.getSdkErrorEventAnnotations=function(){var t={v:2};t.event_uuid=o.createGuid(),t.category=e.CategorySdkError,t.sdk_version=r.getRelevantSdkVersion(),t.os_version=r.osVersion,t.manufacturer=r.deviceManufacturer,t.device=r.deviceModel,t.platform=r.buildPlatform;var i=r.getConnectionType();return n.validateConnectionType(i)&&(t.connection_type=i),r.gameEngineVersion&&(t.engine_version=r.gameEngineVersion),t},e.getInitAnnotations=function(){var t={};return e.getIdentifier()||e.cacheIdentifier(),a.setItem(e.getGameKey(),e.LastUsedIdentifierKey,e.getIdentifier()),t.user_id=e.getIdentifier(),t.sdk_version=r.getRelevantSdkVersion(),t.os_version=r.osVersion,t.platform=r.buildPlatform,e.getBuild()?t.build=e.getBuild():t.build=null,t.session_num=e.getSessionNum(),t.random_salt=e.getSessionNum(),t},e.getClientTsAdjusted=function(){var t=o.timeIntervalSince1970(),i=t+e.instance.clientServerTimeOffset;return n.validateClientTs(i)?i:t},e.sessionIsStarted=function(){return 0!=e.instance.sessionStart},e.cacheIdentifier=function(){e.instance.userId?e.instance.identifier=e.instance.userId:e.instance.defaultUserId&&(e.instance.identifier=e.instance.defaultUserId)},e.ensurePersistedStates=function(){a.isStorageAvailable()&&a.load(e.getGameKey());var t=e.instance;t.setDefaultId(null!=a.getItem(e.getGameKey(),e.DefaultUserIdKey)?a.getItem(e.getGameKey(),e.DefaultUserIdKey):o.createGuid()),t.sessionNum=null!=a.getItem(e.getGameKey(),e.SessionNumKey)?Number(a.getItem(e.getGameKey(),e.SessionNumKey)):0,t.transactionNum=null!=a.getItem(e.getGameKey(),e.TransactionNumKey)?Number(a.getItem(e.getGameKey(),e.TransactionNumKey)):0,t.currentCustomDimension01?a.setItem(e.getGameKey(),e.Dimension01Key,t.currentCustomDimension01):(t.currentCustomDimension01=null!=a.getItem(e.getGameKey(),e.Dimension01Key)?a.getItem(e.getGameKey(),e.Dimension01Key):"",t.currentCustomDimension01),t.currentCustomDimension02?a.setItem(e.getGameKey(),e.Dimension02Key,t.currentCustomDimension02):(t.currentCustomDimension02=null!=a.getItem(e.getGameKey(),e.Dimension02Key)?a.getItem(e.getGameKey(),e.Dimension02Key):"",t.currentCustomDimension02),t.currentCustomDimension03?a.setItem(e.getGameKey(),e.Dimension03Key,t.currentCustomDimension03):(t.currentCustomDimension03=null!=a.getItem(e.getGameKey(),e.Dimension03Key)?a.getItem(e.getGameKey(),e.Dimension03Key):"",t.currentCustomDimension03);var n=null!=a.getItem(e.getGameKey(),e.SdkConfigCachedKey)?a.getItem(e.getGameKey(),e.SdkConfigCachedKey):"";if(n){var r=JSON.parse(o.decode64(n));if(r){var c=a.getItem(e.getGameKey(),e.LastUsedIdentifierKey);null!=c&&c!=e.getIdentifier()&&(i.w("New identifier spotted compared to last one used, clearing cached configs hash!!"),r.configs_hash&&delete r.configs_hash),t.sdkConfigCached=r}}var l=e.getSdkConfig();t.configsHash=l.configs_hash?l.configs_hash:"",t.abId=l.ab_id?l.ab_id:"",t.abVariantId=l.ab_variant_id?l.ab_variant_id:"";var u=a.select(s.Progression);if(u)for(var d=0;d<u.length;++d){var p=u[d];p&&(t.progressionTries[p.progression]=p.tries)}},e.calculateServerTimeOffset=function(e){return e-o.timeIntervalSince1970()},e.formatString=function(e,t){for(var n=e,o=0;o<t.length;o++){var i=new RegExp("\\{"+o+"\\}","gi");n=n.replace(i,arguments[o])}return n},e.validateAndCleanCustomFields=function(t,n){void 0===n&&(n=null);var a={};if(t){var r=0;for(var s in t){var c=t[s];if(s&&c)if(r<e.MAX_CUSTOM_FIELDS_COUNT){var l=new RegExp("^[a-zA-Z0-9_]{1,"+e.MAX_CUSTOM_FIELDS_KEY_LENGTH+"}$");if(o.stringMatch(s,l)){var u=typeof c;if("string"===u||c instanceof String){var d=c;d.length<=e.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH&&d.length>0?(a[s]=d,++r):(f="validateAndCleanCustomFields: entry with key={0}, value={1} has been omitted because its value is an empty string or exceeds the max number of characters ("+e.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH+")",v=e.formatString(f,[s,c]),i.w(v),n&&n(f,v))}else if("number"===u||c instanceof Number){var p=c;a[s]=p,++r}else f="validateAndCleanCustomFields: entry with key={0}, value={1} has been omitted because its value is not a string or number",v=e.formatString(f,[s,c]),i.w(v),n&&n(f,v)}else f="validateAndCleanCustomFields: entry with key={0}, value={1} has been omitted because its key contains illegal character, is empty or exceeds the max number of characters ("+e.MAX_CUSTOM_FIELDS_KEY_LENGTH+")",v=e.formatString(f,[s,c]),i.w(v),n&&n(f,v)}else f="validateAndCleanCustomFields: entry with key={0}, value={1} has been omitted because it exceeds the max number of custom fields ("+e.MAX_CUSTOM_FIELDS_COUNT+")",v=e.formatString(f,[s,c]),i.w(v),n&&n(f,v);else{var f="validateAndCleanCustomFields: entry with key={0}, value={1} has been omitted because its key or value is null",v=e.formatString(f,[s,c]);i.w(v),n&&n(f,v)}}}return a},e.validateAndFixCurrentDimensions=function(){n.validateDimension01(e.getCurrentCustomDimension01(),e.getAvailableCustomDimensions01())||e.setCustomDimension01(""),n.validateDimension02(e.getCurrentCustomDimension02(),e.getAvailableCustomDimensions02())||e.setCustomDimension02(""),n.validateDimension03(e.getCurrentCustomDimension03(),e.getAvailableCustomDimensions03())||e.setCustomDimension03("")},e.getConfigurationStringValue=function(t,n){return e.instance.configurations[t]?e.instance.configurations[t].toString():n},e.isRemoteConfigsReady=function(){return e.instance.remoteConfigsIsReady},e.addRemoteConfigsListener=function(t){e.instance.remoteConfigsListeners.indexOf(t)<0&&e.instance.remoteConfigsListeners.push(t)},e.removeRemoteConfigsListener=function(t){var n=e.instance.remoteConfigsListeners.indexOf(t);n>-1&&e.instance.remoteConfigsListeners.splice(n,1)},e.getRemoteConfigsContentAsString=function(){return JSON.stringify(e.instance.configurations)},e.populateConfigurations=function(t){var n=t.configs;if(n){e.instance.configurations={};for(var o=0;o<n.length;++o){var i=n[o];if(i){var a=i.key,r=i.value,s=i.start_ts?i.start_ts:Number.MIN_VALUE,c=i.end_ts?i.end_ts:Number.MAX_VALUE,l=e.getClientTsAdjusted();a&&r&&l>s&&l<c&&(e.instance.configurations[a]=r)}}}e.instance.remoteConfigsIsReady=!0;var u=e.instance.remoteConfigsListeners;for(o=0;o<u.length;++o)u[o]&&u[o].onRemoteConfigsUpdated()},e.addOnBeforeUnloadListener=function(t){e.instance.beforeUnloadListeners.indexOf(t)<0&&e.instance.beforeUnloadListeners.push(t)},e.removeOnBeforeUnloadListener=function(t){var n=e.instance.beforeUnloadListeners.indexOf(t);n>-1&&e.instance.beforeUnloadListeners.splice(n,1)},e.notifyBeforeUnloadListeners=function(){for(var t=e.instance.beforeUnloadListeners,n=0;n<t.length;++n)t[n]&&t[n].onBeforeUnload()},e.CategorySdkError="sdk_error",e.MAX_CUSTOM_FIELDS_COUNT=50,e.MAX_CUSTOM_FIELDS_KEY_LENGTH=64,e.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH=256,e.instance=new e,e.DefaultUserIdKey="default_user_id",e.SessionNumKey="session_num",e.TransactionNumKey="transaction_num",e.Dimension01Key="dimension01",e.Dimension02Key="dimension02",e.Dimension03Key="dimension03",e.SdkConfigCachedKey="sdk_config_cached",e.LastUsedIdentifierKey="last_used_identifier",e}();t.GAState=l})(e.state||(e.state={}))}(a||(a={})),function(e){(function(t){var n=e.utilities.GAUtilities,o=e.logging.GALogger,i=function(){function e(){}return e.execute=function(t,i,a,r){var s=new Date;if(e.timestampMap[i]||(e.timestampMap[i]=s),e.countMap[i]||(e.countMap[i]=0),(s.getTime()-e.timestampMap[i].getTime())/1e3>=3600&&(e.timestampMap[i]=s,e.countMap[i]=0),!(e.countMap[i]>=e.MaxCount)){var c=n.getHmac(r,a),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState){if(!l.responseText)return;if(200!=l.status)return void o.w("sdk error failed. response code not 200. status code: "+l.status+", description: "+l.statusText+", body: "+l.responseText);e.countMap[i]=e.countMap[i]+1}},l.open("POST",t,!0),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",c);try{l.send(a)}catch(u){console.error(u)}}},e.MaxCount=10,e.countMap={},e.timestampMap={},e}();t.SdkErrorTask=i})(e.tasks||(e.tasks={}))}(a||(a={})),function(e){(function(t){var n=e.state.GAState,o=e.logging.GALogger,i=e.utilities.GAUtilities,a=e.validators.GAValidator,r=e.tasks.SdkErrorTask,s=e.events.EGASdkErrorCategory,c=e.events.EGASdkErrorArea,l=e.events.EGASdkErrorAction,u=e.events.EGASdkErrorParameter,d=function(){function e(){this.protocol="https",this.hostName="api.gameanalytics.com",this.version="v2",this.remoteConfigsVersion="v1",this.baseUrl=this.protocol+"://"+this.hostName+"/"+this.version,this.remoteConfigsBaseUrl=this.protocol+"://"+this.hostName+"/remote_configs/"+this.remoteConfigsVersion,this.initializeUrlPath="init",this.eventsUrlPath="events",this.useGzip=!1}return e.prototype.requestInit=function(o,i){var a=n.getGameKey(),r=this.remoteConfigsBaseUrl+"/"+this.initializeUrlPath+"?game_key="+a+"&interval_seconds=0&configs_hash="+o,s=n.getInitAnnotations(),c=JSON.stringify(s);if(c){var l=this.createPayloadData(c,this.useGzip),u=[];u.push(c),e.sendRequest(r,l,u,this.useGzip,e.initRequestCallback,i)}else i(t.EGAHTTPApiResponse.JsonEncodeFailed,null)},e.prototype.sendEventsInArray=function(o,i,a){if(0!=o.length){var r=n.getGameKey(),s=this.baseUrl+"/"+r+"/"+this.eventsUrlPath,c=JSON.stringify(o);if(c){var l=this.createPayloadData(c,this.useGzip),u=[];u.push(c),u.push(i),u.push(o.length.toString()),e.sendRequest(s,l,u,this.useGzip,e.sendEventInArrayRequestCallback,a)}else a(t.EGAHTTPApiResponse.JsonEncodeFailed,null,i,o.length)}},e.prototype.sendSdkErrorEvent=function(t,i,s,c,l,u,d){if(n.isEventSubmissionEnabled()&&a.validateSdkErrorEvent(u,d,t,i,s)){var p,f=this.baseUrl+"/"+u+"/"+this.eventsUrlPath,v="",g=n.getSdkErrorEventAnnotations(),h=e.sdkErrorCategoryString(t);g.error_category=h,v+=h;var y=e.sdkErrorAreaString(i);g.error_area=y,v+=":"+y;var m=e.sdkErrorActionString(s);g.error_action=m;var _=e.sdkErrorParameterString(c);if(_.length>0&&(g.error_parameter=_),l.length>0){var E=l;l.length>e.MAX_ERROR_MESSAGE_LENGTH&&(E=l.substring(0,e.MAX_ERROR_MESSAGE_LENGTH)),g.reason=E}var C=[];C.push(g),(p=JSON.stringify(C))?r.execute(f,v,p,d):o.w("sendSdkErrorEvent: JSON encoding failed.")}},e.sendEventInArrayRequestCallback=function(o,i,a,r){void 0===r&&(r=null),r[0],r[1];var d,p,f=r[2],v=parseInt(r[3]);d=o.responseText,p=o.status;var g=e.instance.processRequestResponse(p,o.statusText,d,"Events");if(g==t.EGAHTTPApiResponse.Ok||g==t.EGAHTTPApiResponse.Created||g==t.EGAHTTPApiResponse.BadRequest){var h=d?JSON.parse(d):{};if(null==h)return a(t.EGAHTTPApiResponse.JsonDecodeFailed,null,f,v),void e.instance.sendSdkErrorEvent(s.Http,c.EventsHttp,l.FailHttpJsonDecode,u.Undefined,d,n.getGameKey(),n.getGameSecret());t.EGAHTTPApiResponse.BadRequest,a(g,h,f,v)}else a(g,null,f,v)},e.sendRequest=function(e,t,o,a,r,s){var c=new XMLHttpRequest,l=n.getGameSecret(),u=i.getHmac(l,t),d=[];for(var p in d.push(u),o)d.push(o[p]);if(c.onreadystatechange=function(){4===c.readyState&&r(c,e,s,d)},c.open("POST",e,!0),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Authorization",u),a)throw new Error("gzip not supported");try{c.send(t)}catch(f){console.error(f.stack)}},e.initRequestCallback=function(o,i,r,d){var p,f;void 0===d&&(d=null),d[0],d[1],p=o.responseText,f=o.status;var v=p?JSON.parse(p):{},g=e.instance.processRequestResponse(f,o.statusText,p,"Init");if(g==t.EGAHTTPApiResponse.Ok||g==t.EGAHTTPApiResponse.Created||g==t.EGAHTTPApiResponse.BadRequest){if(null==v)return r(t.EGAHTTPApiResponse.JsonDecodeFailed,null,"",0),void e.instance.sendSdkErrorEvent(s.Http,c.InitHttp,l.FailHttpJsonDecode,u.Undefined,p,n.getGameKey(),n.getGameSecret());if(g!==t.EGAHTTPApiResponse.BadRequest){var h=a.validateAndCleanInitRequestResponse(v,g===t.EGAHTTPApiResponse.Created);h?r(g,h,"",0):r(t.EGAHTTPApiResponse.BadResponse,null,"",0)}else r(g,null,"",0)}else r(g,null,"",0)},e.prototype.createPayloadData=function(e,t){if(t)throw new Error("gzip not supported");return e},e.prototype.processRequestResponse=function(e,n,o){return o?200===e?t.EGAHTTPApiResponse.Ok:201===e?t.EGAHTTPApiResponse.Created:0===e||401===e?t.EGAHTTPApiResponse.Unauthorized:400===e?t.EGAHTTPApiResponse.BadRequest:500===e?t.EGAHTTPApiResponse.InternalServerError:t.EGAHTTPApiResponse.UnknownResponseCode:t.EGAHTTPApiResponse.NoResponse},e.sdkErrorCategoryString=function(e){switch(e){case s.EventValidation:return"event_validation";case s.Database:return"db";case s.Init:return"init";case s.Http:return"http";case s.Json:return"json"}return""},e.sdkErrorAreaString=function(e){switch(e){case c.BusinessEvent:return"business";case c.ResourceEvent:return"resource";case c.ProgressionEvent:return"progression";case c.DesignEvent:return"design";case c.ErrorEvent:return"error";case c.InitHttp:return"init_http";case c.EventsHttp:return"events_http";case c.ProcessEvents:return"process_events";case c.AddEventsToStore:return"add_events_to_store"}return""},e.sdkErrorActionString=function(e){switch(e){case l.InvalidCurrency:return"invalid_currency";case l.InvalidShortString:return"invalid_short_string";case l.InvalidEventPartLength:return"invalid_event_part_length";case l.InvalidEventPartCharacters:return"invalid_event_part_characters";case l.InvalidStore:return"invalid_store";case l.InvalidFlowType:return"invalid_flow_type";case l.StringEmptyOrNull:return"string_empty_or_null";case l.NotFoundInAvailableCurrencies:return"not_found_in_available_currencies";case l.InvalidAmount:return"invalid_amount";case l.NotFoundInAvailableItemTypes:return"not_found_in_available_item_types";case l.WrongProgressionOrder:return"wrong_progression_order";case l.InvalidEventIdLength:return"invalid_event_id_length";case l.InvalidEventIdCharacters:return"invalid_event_id_characters";case l.InvalidProgressionStatus:return"invalid_progression_status";case l.InvalidSeverity:return"invalid_severity";case l.InvalidLongString:return"invalid_long_string";case l.DatabaseTooLarge:return"db_too_large";case l.DatabaseOpenOrCreate:return"db_open_or_create";case l.JsonError:return"json_error";case l.FailHttpJsonDecode:return"fail_http_json_decode";case l.FailHttpJsonEncode:return"fail_http_json_encode"}return""},e.sdkErrorParameterString=function(e){switch(e){case u.Currency:return"currency";case u.CartType:return"cart_type";case u.ItemType:return"item_type";case u.ItemId:return"item_id";case u.Store:return"store";case u.FlowType:return"flow_type";case u.Amount:return"amount";case u.Progression01:return"progression01";case u.Progression02:return"progression02";case u.Progression03:return"progression03";case u.EventId:return"event_id";case u.ProgressionStatus:return"progression_status";case u.Severity:return"severity";case u.Message:return"message"}return""},e.instance=new e,e.MAX_ERROR_MESSAGE_LENGTH=256,e}();t.GAHTTPApi=d})(e.http||(e.http={}))}(a||(a={})),function(e){var t,n,o,i,a,r,s,c,l,u,d;t=e.events||(e.events={}),n=e.store.GAStore,o=e.store.EGAStore,i=e.store.EGAStoreArgsOperator,a=e.state.GAState,r=e.logging.GALogger,s=e.utilities.GAUtilities,c=e.http.EGAHTTPApiResponse,l=e.http.GAHTTPApi,u=e.validators.GAValidator,d=function(){function d(){}return d.customEventFieldsErrorCallback=function(t,n){if(a.isEventSubmissionEnabled()){var o=new Date;d.timestampMap[t]||(d.timestampMap[t]=o),d.countMap[t]||(d.countMap[t]=0),(o.getTime()-d.timestampMap[t].getTime())/1e3>=3600&&(d.timestampMap[t]=o,d.countMap[t]=0),d.countMap[t]>=d.MAX_ERROR_COUNT||e.threading.GAThreading.performTaskOnGAThread(function(){d.addErrorEvent(e.EGAErrorSeverity.Warning,n,null,!0),d.countMap[t]=d.countMap[t]+1})}},d.addSessionStartEvent=function(){if(a.isEventSubmissionEnabled()){var e={};e.category=d.CategorySessionStart,a.incrementSessionNum(),n.setItem(a.getGameKey(),a.SessionNumKey,a.getSessionNum().toString()),d.addDimensionsToEvent(e);var t=a.instance.currentGlobalCustomEventFields;d.addCustomFieldsToEvent(e,a.validateAndCleanCustomFields(t,d.customEventFieldsErrorCallback)),d.addEventToStore(e),r.i("Add SESSION START event"),d.processEvents(d.CategorySessionStart,!1)}},d.addSessionEndEvent=function(){if(a.isEventSubmissionEnabled()){var e=a.getSessionStart(),t=a.getClientTsAdjusted()-e;t<0&&(r.w("Session length was calculated to be less then 0. Should not be possible. Resetting to 0."),t=0);var n={};n.category=d.CategorySessionEnd,n.length=t,d.addDimensionsToEvent(n);var o=a.instance.currentGlobalCustomEventFields;d.addCustomFieldsToEvent(n,a.validateAndCleanCustomFields(o,d.customEventFieldsErrorCallback)),d.addEventToStore(n),r.i("Add SESSION END event."),d.processEvents("",!1)}},d.addBusinessEvent=function(e,t,o,i,s,c,p){if(void 0===s&&(s=null),a.isEventSubmissionEnabled()){var f=u.validateBusinessEvent(e,t,s,o,i);if(null==f){var v={};a.incrementTransactionNum(),n.setItem(a.getGameKey(),a.TransactionNumKey,a.getTransactionNum().toString()),v.event_id=o+":"+i,v.category=d.CategoryBusiness,v.currency=e,v.amount=t,v[a.TransactionNumKey]=a.getTransactionNum(),s&&(v.cart_type=s),d.addDimensionsToEvent(v);var g={};if(c&&Object.keys(c).length>0)for(var h in c)g[h]=c[h];else for(var h in a.instance.currentGlobalCustomEventFields)g[h]=a.instance.currentGlobalCustomEventFields[h];if(p&&c&&Object.keys(c).length>0)for(var h in a.instance.currentGlobalCustomEventFields)g[h]||(g[h]=a.instance.currentGlobalCustomEventFields[h]);d.addCustomFieldsToEvent(v,a.validateAndCleanCustomFields(g,d.customEventFieldsErrorCallback)),r.i("Add BUSINESS event: {currency:"+e+", amount:"+t+", itemType:"+o+", itemId:"+i+", cartType:"+s+"}"),d.addEventToStore(v)}else l.instance.sendSdkErrorEvent(f.category,f.area,f.action,f.parameter,f.reason,a.getGameKey(),a.getGameSecret())}},d.addResourceEvent=function(t,n,o,i,s,c,p){if(a.isEventSubmissionEnabled()){var f=u.validateResourceEvent(t,n,o,i,s,a.getAvailableResourceCurrencies(),a.getAvailableResourceItemTypes());if(null==f){t===e.EGAResourceFlowType.Sink&&(o*=-1);var v={},g=d.resourceFlowTypeToString(t);v.event_id=g+":"+n+":"+i+":"+s,v.category=d.CategoryResource,v.amount=o,d.addDimensionsToEvent(v);var h={};if(c&&Object.keys(c).length>0)for(var y in c)h[y]=c[y];else for(var y in a.instance.currentGlobalCustomEventFields)h[y]=a.instance.currentGlobalCustomEventFields[y];if(p&&c&&Object.keys(c).length>0)for(var y in a.instance.currentGlobalCustomEventFields)h[y]||(h[y]=a.instance.currentGlobalCustomEventFields[y]);d.addCustomFieldsToEvent(v,a.validateAndCleanCustomFields(h,d.customEventFieldsErrorCallback)),r.i("Add RESOURCE event: {currency:"+n+", amount:"+o+", itemType:"+i+", itemId:"+s+"}"),d.addEventToStore(v)}else l.instance.sendSdkErrorEvent(f.category,f.area,f.action,f.parameter,f.reason,a.getGameKey(),a.getGameSecret())}},d.addProgressionEvent=function(t,n,o,i,s,c,p,f){if(a.isEventSubmissionEnabled()){var v=d.progressionStatusToString(t),g=u.validateProgressionEvent(t,n,o,i);if(null==g){var h,y={};h=o?i?n+":"+o+":"+i:n+":"+o:n,y.category=d.CategoryProgression,y.event_id=v+":"+h;var m=0;c&&t!=e.EGAProgressionStatus.Start&&(y.score=Math.round(s)),t===e.EGAProgressionStatus.Fail&&a.incrementProgressionTries(h),t===e.EGAProgressionStatus.Complete&&(a.incrementProgressionTries(h),m=a.getProgressionTries(h),y.attempt_num=m,a.clearProgressionTries(h)),d.addDimensionsToEvent(y);var _={};if(p&&Object.keys(p).length>0)for(var E in p)_[E]=p[E];else for(var E in a.instance.currentGlobalCustomEventFields)_[E]=a.instance.currentGlobalCustomEventFields[E];if(f&&p&&Object.keys(p).length>0)for(var E in a.instance.currentGlobalCustomEventFields)_[E]||(_[E]=a.instance.currentGlobalCustomEventFields[E]);d.addCustomFieldsToEvent(y,a.validateAndCleanCustomFields(_,d.customEventFieldsErrorCallback)),r.i("Add PROGRESSION event: {status:"+v+", progression01:"+n+", progression02:"+o+", progression03:"+i+", score:"+s+", attempt:"+m+"}"),d.addEventToStore(y)}else l.instance.sendSdkErrorEvent(g.category,g.area,g.action,g.parameter,g.reason,a.getGameKey(),a.getGameSecret())}},d.addDesignEvent=function(e,t,n,o,i){if(a.isEventSubmissionEnabled()){var s=u.validateDesignEvent(e);if(null==s){var c={};c.category=d.CategoryDesign,c.event_id=e,n&&(c.value=t),d.addDimensionsToEvent(c);var p={};if(o&&Object.keys(o).length>0)for(var f in o)p[f]=o[f];else for(var f in a.instance.currentGlobalCustomEventFields)p[f]=a.instance.currentGlobalCustomEventFields[f];if(i&&o&&Object.keys(o).length>0)for(var f in a.instance.currentGlobalCustomEventFields)p[f]||(p[f]=a.instance.currentGlobalCustomEventFields[f]);d.addCustomFieldsToEvent(c,a.validateAndCleanCustomFields(p,d.customEventFieldsErrorCallback)),r.i("Add DESIGN event: {eventId:"+e+", value:"+t+"}"),d.addEventToStore(c)}else l.instance.sendSdkErrorEvent(s.category,s.area,s.action,s.parameter,s.reason,a.getGameKey(),a.getGameSecret())}},d.addErrorEvent=function(e,t,n,o,i){if(void 0===i&&(i=!1),a.isEventSubmissionEnabled()){var s=d.errorSeverityToString(e),c=u.validateErrorEvent(e,t);if(null==c){var p={};if(p.category=d.CategoryError,p.severity=s,p.message=t,d.addDimensionsToEvent(p),!i){var f={};if(n&&Object.keys(n).length>0)for(var v in n)f[v]=n[v];else for(var v in a.instance.currentGlobalCustomEventFields)f[v]=a.instance.currentGlobalCustomEventFields[v];if(o&&n&&Object.keys(n).length>0)for(var v in a.instance.currentGlobalCustomEventFields)f[v]||(f[v]=a.instance.currentGlobalCustomEventFields[v]);d.addCustomFieldsToEvent(p,a.validateAndCleanCustomFields(f,d.customEventFieldsErrorCallback))}r.i("Add ERROR event: {severity:"+s+", message:"+t+"}"),d.addEventToStore(p)}else l.instance.sendSdkErrorEvent(c.category,c.area,c.action,c.parameter,c.reason,a.getGameKey(),a.getGameSecret())}},d.addAdEvent=function(t,n,o,i,s,c,p,f,v){if(a.isEventSubmissionEnabled()){var g=d.adActionToString(t),h=d.adTypeToString(n),y=d.adErrorToString(s),m=u.validateAdEvent(t,n,o,i);if(null==m){var _={};_.category=d.CategoryAds,_.ad_sdk_name=o,_.ad_placement=i,_.ad_type=h,_.ad_action=g,t==e.EGAAdAction.FailedShow&&y.length>0&&(_.ad_fail_show_reason=y),!p||n!=e.EGAAdType.RewardedVideo&&n!=e.EGAAdType.Video||(_.ad_duration=c),d.addDimensionsToEvent(_);var E={};if(f&&Object.keys(f).length>0)for(var C in f)E[C]=f[C];else for(var C in a.instance.currentGlobalCustomEventFields)E[C]=a.instance.currentGlobalCustomEventFields[C];if(v&&f&&Object.keys(f).length>0)for(var C in a.instance.currentGlobalCustomEventFields)E[C]||(E[C]=a.instance.currentGlobalCustomEventFields[C]);d.addCustomFieldsToEvent(_,a.validateAndCleanCustomFields(E,d.customEventFieldsErrorCallback)),r.i("Add AD event: {ad_sdk_name:"+o+", ad_placement:"+i+", ad_type:"+h+", ad_action:"+g+(t==e.EGAAdAction.FailedShow&&y.length>0?", ad_fail_show_reason:"+y:"")+(!p||n!=e.EGAAdType.RewardedVideo&&n!=e.EGAAdType.Video?"":", ad_duration:"+c)+"}"),d.addEventToStore(_)}else l.instance.sendSdkErrorEvent(m.category,m.area,m.action,m.parameter,m.reason,a.getGameKey(),a.getGameSecret())}},d.processEvents=function(e,c){if(a.isEventSubmissionEnabled())try{var p=s.createGuid();c&&(d.cleanupEvents(),d.fixMissingSessionEndEvents());var f=[];f.push(["status",i.Equal,"new"]);var v=[];v.push(["status",i.Equal,"new"]),e&&(f.push(["category",i.Equal,e]),v.push(["category",i.Equal,e]));var g=[];g.push(["status",p]);var h=n.select(o.Events,f);if(!h||0==h.length)return r.i("Event queue: No events to send"),void d.updateSessionStore();if(h.length>d.MaxEventCount){if(!(h=n.select(o.Events,f,!0,d.MaxEventCount)))return;var y=h[h.length-1].client_ts;if(f.push(["client_ts",i.LessOrEqual,y]),!(h=n.select(o.Events,f)))return;v.push(["client_ts",i.LessOrEqual,y])}if(r.i("Event queue: Sending "+h.length+" events."),!n.update(o.Events,g,v))return;for(var m=[],_=0;_<h.length;++_){var E=h[_],C=JSON.parse(s.decode64(E.event));if(0!=C.length){var b=C.client_ts;b&&!u.validateClientTs(b)&&delete C.client_ts,m.push(C)}}l.instance.sendEventsInArray(m,p,d.processEventsCallback)}catch(S){r.e("Error during ProcessEvents(): "+S.stack),l.instance.sendSdkErrorEvent(t.EGASdkErrorCategory.Json,t.EGASdkErrorArea.ProcessEvents,t.EGASdkErrorAction.JsonError,t.EGASdkErrorParameter.Undefined,S.stack,a.getGameKey(),a.getGameSecret())}},d.processEventsCallback=function(e,t,a,s){var l=[];if(l.push(["status",i.Equal,a]),e===c.Ok)n.delete(o.Events,l),r.i("Event queue: "+s+" events sent.");else if(e===c.NoResponse){var u=[];u.push(["status","new"]),r.w("Event queue: Failed to send events to collector - Retrying next time"),n.update(o.Events,u,l)}else{if(t){var d,p=0;for(var f in t)0==p&&(d=t[f]),++p;e===c.BadRequest&&d.constructor===Array?r.w("Event queue: "+s+" events sent. "+p+" events failed GA server validation."):r.w("Event queue: Failed to send events.")}else r.w("Event queue: Failed to send events.");n.delete(o.Events,l)}},d.cleanupEvents=function(){n.update(o.Events,[["status","new"]])},d.fixMissingSessionEndEvents=function(){if(a.isEventSubmissionEnabled()){var e=[];e.push(["session_id",i.NotEqual,a.getSessionId()]);var t=n.select(o.Sessions,e);if(t&&0!=t.length){r.i(t.length+" session(s) located with missing session_end event.");for(var c=0;c<t.length;++c){var l=JSON.parse(s.decode64(t[c].event)),u=l.client_ts-t[c].timestamp;u=Math.max(0,u),l.category=d.CategorySessionEnd,l.length=u,d.addEventToStore(l)}}}},d.addEventToStore=function(e){if(a.isEventSubmissionEnabled())if(a.isInitialized())try{if(n.isStoreTooLargeForEvents()&&!s.stringMatch(e.category,/^(user|session_end|business)$/))return r.w("Database too large. Event has been blocked."),void l.instance.sendSdkErrorEvent(t.EGASdkErrorCategory.Database,t.EGASdkErrorArea.AddEventsToStore,t.EGASdkErrorAction.DatabaseTooLarge,t.EGASdkErrorParameter.Undefined,"",a.getGameKey(),a.getGameSecret());var c=a.getEventAnnotations();for(var u in e)c[u]=e[u];var p=JSON.stringify(c);r.ii("Event added to queue: "+p);var f={status:"new"};f.category=c.category,f.session_id=c.session_id,f.client_ts=c.client_ts,f.event=s.encode64(JSON.stringify(c)),n.insert(o.Events,f),e.category==d.CategorySessionEnd?n.delete(o.Sessions,[["session_id",i.Equal,c.session_id]]):d.updateSessionStore(),n.isStorageAvailable()&&n.save(a.getGameKey())}catch(u){r.e("addEventToStore: error"),r.e(u.stack),l.instance.sendSdkErrorEvent(t.EGASdkErrorCategory.Database,t.EGASdkErrorArea.AddEventsToStore,t.EGASdkErrorAction.DatabaseTooLarge,t.EGASdkErrorParameter.Undefined,u.stack,a.getGameKey(),a.getGameSecret())}else r.w("Could not add event: SDK is not initialized")},d.updateSessionStore=function(){if(a.sessionIsStarted()){var e={};e.session_id=a.instance.sessionId,e.timestamp=a.getSessionStart();var t=a.getEventAnnotations();d.addDimensionsToEvent(t);var i=a.instance.currentGlobalCustomEventFields;d.addCustomFieldsToEvent(t,a.validateAndCleanCustomFields(i,d.customEventFieldsErrorCallback)),e.event=s.encode64(JSON.stringify(t)),n.insert(o.Sessions,e,!0,"session_id"),n.isStorageAvailable()&&n.save(a.getGameKey())}},d.addDimensionsToEvent=function(e){e&&(a.getCurrentCustomDimension01()&&(e.custom_01=a.getCurrentCustomDimension01()),a.getCurrentCustomDimension02()&&(e.custom_02=a.getCurrentCustomDimension02()),a.getCurrentCustomDimension03()&&(e.custom_03=a.getCurrentCustomDimension03()))},d.addCustomFieldsToEvent=function(e,t){e&&t&&Object.keys(t).length>0&&(e.custom_fields=t)},d.resourceFlowTypeToString=function(t){return t==e.EGAResourceFlowType.Source||t==e.EGAResourceFlowType[e.EGAResourceFlowType.Source]?"Source":t==e.EGAResourceFlowType.Sink||t==e.EGAResourceFlowType[e.EGAResourceFlowType.Sink]?"Sink":""},d.progressionStatusToString=function(t){return t==e.EGAProgressionStatus.Start||t==e.EGAProgressionStatus[e.EGAProgressionStatus.Start]?"Start":t==e.EGAProgressionStatus.Complete||t==e.EGAProgressionStatus[e.EGAProgressionStatus.Complete]?"Complete":t==e.EGAProgressionStatus.Fail||t==e.EGAProgressionStatus[e.EGAProgressionStatus.Fail]?"Fail":""},d.errorSeverityToString=function(t){return t==e.EGAErrorSeverity.Debug||t==e.EGAErrorSeverity[e.EGAErrorSeverity.Debug]?"debug":t==e.EGAErrorSeverity.Info||t==e.EGAErrorSeverity[e.EGAErrorSeverity.Info]?"info":t==e.EGAErrorSeverity.Warning||t==e.EGAErrorSeverity[e.EGAErrorSeverity.Warning]?"warning":t==e.EGAErrorSeverity.Error||t==e.EGAErrorSeverity[e.EGAErrorSeverity.Error]?"error":t==e.EGAErrorSeverity.Critical||t==e.EGAErrorSeverity[e.EGAErrorSeverity.Critical]?"critical":""},d.adActionToString=function(t){return t==e.EGAAdAction.Clicked||t==e.EGAAdAction[e.EGAAdAction.Clicked]?"clicked":t==e.EGAAdAction.Show||t==e.EGAAdAction[e.EGAAdAction.Show]?"show":t==e.EGAAdAction.FailedShow||t==e.EGAAdAction[e.EGAAdAction.FailedShow]?"failed_show":t==e.EGAAdAction.RewardReceived||t==e.EGAAdAction[e.EGAAdAction.RewardReceived]?"reward_received":""},d.adErrorToString=function(t){return t==e.EGAAdError.Unknown||t==e.EGAAdError[e.EGAAdError.Unknown]?"unknown":t==e.EGAAdError.Offline||t==e.EGAAdError[e.EGAAdError.Offline]?"offline":t==e.EGAAdError.NoFill||t==e.EGAAdError[e.EGAAdError.NoFill]?"no_fill":t==e.EGAAdError.InternalError||t==e.EGAAdError[e.EGAAdError.InternalError]?"internal_error":t==e.EGAAdError.InvalidRequest||t==e.EGAAdError[e.EGAAdError.InvalidRequest]?"invalid_request":t==e.EGAAdError.UnableToPrecache||t==e.EGAAdError[e.EGAAdError.UnableToPrecache]?"unable_to_precache":""},d.adTypeToString=function(t){return t==e.EGAAdType.Video||t==e.EGAAdType[e.EGAAdType.Video]?"video":t==e.EGAAdType.RewardedVideo||t==e.EGAAdError[e.EGAAdType.RewardedVideo]?"rewarded_video":t==e.EGAAdType.Playable||t==e.EGAAdError[e.EGAAdType.Playable]?"playable":t==e.EGAAdType.Interstitial||t==e.EGAAdError[e.EGAAdType.Interstitial]?"interstitial":t==e.EGAAdType.OfferWall||t==e.EGAAdError[e.EGAAdType.OfferWall]?"offer_wall":t==e.EGAAdType.Banner||t==e.EGAAdError[e.EGAAdType.Banner]?"banner":""},d.CategorySessionStart="user",d.CategorySessionEnd="session_end",d.CategoryDesign="design",d.CategoryBusiness="business",d.CategoryProgression="progression",d.CategoryResource="resource",d.CategoryError="error",d.CategoryAds="ads",d.MaxEventCount=500,d.MAX_ERROR_COUNT=10,d.countMap={},d.timestampMap={},d}(),t.GAEvents=d}(a||(a={})),function(e){(function(t){var n=e.logging.GALogger,o=e.state.GAState,i=e.events.GAEvents,a=function(){function e(){this.blocks=new t.PriorityQueue({compare:function(e,t){return e-t}}),this.id2TimedBlockMap={},e.startThread()}return e.createTimedBlock=function(e){void 0===e&&(e=0);var n=new Date;return n.setSeconds(n.getSeconds()+e),new t.TimedBlock(n)},e.performTaskOnGAThread=function(n,o){void 0===o&&(o=0);var i=new Date;i.setSeconds(i.getSeconds()+o);var a=new t.TimedBlock(i);a.block=n,e.instance.id2TimedBlockMap[a.id]=a,e.instance.addTimedBlock(a)},e.performTimedBlockOnGAThread=function(t){e.instance.id2TimedBlockMap[t.id]=t,e.instance.addTimedBlock(t)},e.scheduleTimer=function(n,o){var i=new Date;i.setSeconds(i.getSeconds()+n);var a=new t.TimedBlock(i);return a.block=o,e.instance.id2TimedBlockMap[a.id]=a,e.instance.addTimedBlock(a),a.id},e.getTimedBlockById=function(t){return t in e.instance.id2TimedBlockMap?e.instance.id2TimedBlockMap[t]:null},e.ensureEventQueueIsRunning=function(){e.instance.keepRunning=!0,e.instance.isRunning||(e.instance.isRunning=!0,e.scheduleTimer(e.ProcessEventsIntervalInSeconds,e.processEventQueue))},e.endSessionAndStopQueue=function(){o.isInitialized()&&(n.i("Ending session."),e.stopEventQueue(),o.isEnabled()&&o.sessionIsStarted()&&(i.addSessionEndEvent(),o.instance.sessionStart=0))},e.stopEventQueue=function(){e.instance.keepRunning=!1},e.ignoreTimer=function(t){t in e.instance.id2TimedBlockMap&&(e.instance.id2TimedBlockMap[t].ignore=!0)},e.setEventProcessInterval=function(t){t>0&&(e.ProcessEventsIntervalInSeconds=t)},e.prototype.addTimedBlock=function(e){this.blocks.enqueue(e.deadline.getTime(),e)},e.run=function(){clearTimeout(e.runTimeoutId);try{for(var t;t=e.getNextBlock();)if(!t.ignore)if(t.async){if(!t.running){t.running=!0,t.block();break}}else t.block();return void(e.runTimeoutId=setTimeout(e.run,e.ThreadWaitTimeInMs))}catch(o){n.e("Error on GA thread"),n.e(o.stack)}},e.startThread=function(){e.runTimeoutId=setTimeout(e.run,0)},e.getNextBlock=function(){var t=new Date;return e.instance.blocks.hasItems()&&e.instance.blocks.peek().deadline.getTime()<=t.getTime()?e.instance.blocks.peek().async&&e.instance.blocks.peek().running?e.instance.blocks.peek():e.instance.blocks.dequeue():null},e.processEventQueue=function(){i.processEvents("",!0),e.instance.keepRunning?e.scheduleTimer(e.ProcessEventsIntervalInSeconds,e.processEventQueue):e.instance.isRunning=!1},e.instance=new e,e.ThreadWaitTimeInMs=1e3,e.ProcessEventsIntervalInSeconds=8,e}();t.GAThreading=a})(e.threading||(e.threading={}))}(a||(a={})),function(t){var n=t.threading.GAThreading,o=t.logging.GALogger,i=t.store.GAStore,a=t.state.GAState,r=t.http.GAHTTPApi,s=t.device.GADevice,c=t.validators.GAValidator,l=t.http.EGAHTTPApiResponse,u=t.utilities.GAUtilities,d=t.events.GAEvents,p=function(){function p(){}return p.getGlobalObject=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0},p.init=function(){if(s.touch(),p.methodMap.configureAvailableCustomDimensions01=p.configureAvailableCustomDimensions01,p.methodMap.configureAvailableCustomDimensions02=p.configureAvailableCustomDimensions02,p.methodMap.configureAvailableCustomDimensions03=p.configureAvailableCustomDimensions03,p.methodMap.configureAvailableResourceCurrencies=p.configureAvailableResourceCurrencies,p.methodMap.configureAvailableResourceItemTypes=p.configureAvailableResourceItemTypes,p.methodMap.configureBuild=p.configureBuild,p.methodMap.configureSdkGameEngineVersion=p.configureSdkGameEngineVersion,p.methodMap.configureGameEngineVersion=p.configureGameEngineVersion,p.methodMap.configureUserId=p.configureUserId,p.methodMap.initialize=p.initialize,p.methodMap.addBusinessEvent=p.addBusinessEvent,p.methodMap.addResourceEvent=p.addResourceEvent,p.methodMap.addProgressionEvent=p.addProgressionEvent,p.methodMap.addDesignEvent=p.addDesignEvent,p.methodMap.addErrorEvent=p.addErrorEvent,p.methodMap.addAdEvent=p.addAdEvent,p.methodMap.setEnabledInfoLog=p.setEnabledInfoLog,p.methodMap.setEnabledVerboseLog=p.setEnabledVerboseLog,p.methodMap.setEnabledManualSessionHandling=p.setEnabledManualSessionHandling,p.methodMap.setEnabledEventSubmission=p.setEnabledEventSubmission,p.methodMap.setCustomDimension01=p.setCustomDimension01,p.methodMap.setCustomDimension02=p.setCustomDimension02,p.methodMap.setCustomDimension03=p.setCustomDimension03,p.methodMap.setGlobalCustomEventFields=p.setGlobalCustomEventFields,p.methodMap.setEventProcessInterval=p.setEventProcessInterval,p.methodMap.startSession=p.startSession,p.methodMap.endSession=p.endSession,p.methodMap.onStop=p.onStop,p.methodMap.onResume=p.onResume,p.methodMap.addRemoteConfigsListener=p.addRemoteConfigsListener,p.methodMap.removeRemoteConfigsListener=p.removeRemoteConfigsListener,p.methodMap.getRemoteConfigsValueAsString=p.getRemoteConfigsValueAsString,p.methodMap.isRemoteConfigsReady=p.isRemoteConfigsReady,p.methodMap.getRemoteConfigsContentAsString=p.getRemoteConfigsContentAsString,p.methodMap.addOnBeforeUnloadListener=p.addOnBeforeUnloadListener,p.methodMap.removeOnBeforeUnloadListener=p.removeOnBeforeUnloadListener,void 0!==p.getGlobalObject()&&void 0!==p.getGlobalObject().GameAnalytics&&void 0!==p.getGlobalObject().GameAnalytics.q){var e=p.getGlobalObject().GameAnalytics.q;for(var t in e)p.gaCommand.apply(null,e[t])}window.addEventListener("beforeunload",function(){console.log("addEventListener unload"),a.instance.isUnloading=!0,a.notifyBeforeUnloadListeners(),n.endSessionAndStopQueue(),a.instance.isUnloading=!1})},p.gaCommand=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.length>0&&e[0]in t.GameAnalytics.methodMap&&(e.length>1?t.GameAnalytics.methodMap[e[0]].apply(null,Array.prototype.slice.call(e,1)):t.GameAnalytics.methodMap[e[0]]())},p.configureAvailableCustomDimensions01=function(e){void 0===e&&(e=[]),n.performTaskOnGAThread(function(){p.isSdkReady(!0,!1)?o.w("Available custom dimensions must be set before SDK is initialized"):a.setAvailableCustomDimensions01(e)})},p.configureAvailableCustomDimensions02=function(e){void 0===e&&(e=[]),n.performTaskOnGAThread(function(){p.isSdkReady(!0,!1)?o.w("Available custom dimensions must be set before SDK is initialized"):a.setAvailableCustomDimensions02(e)})},p.configureAvailableCustomDimensions03=function(e){void 0===e&&(e=[]),n.performTaskOnGAThread(function(){p.isSdkReady(!0,!1)?o.w("Available custom dimensions must be set before SDK is initialized"):a.setAvailableCustomDimensions03(e)})},p.configureAvailableResourceCurrencies=function(e){void 0===e&&(e=[]),n.performTaskOnGAThread(function(){p.isSdkReady(!0,!1)?o.w("Available resource currencies must be set before SDK is initialized"):a.setAvailableResourceCurrencies(e)})},p.configureAvailableResourceItemTypes=function(e){void 0===e&&(e=[]),n.performTaskOnGAThread(function(){p.isSdkReady(!0,!1)?o.w("Available resource item types must be set before SDK is initialized"):a.setAvailableResourceItemTypes(e)})},p.configureBuild=function(e){void 0===e&&(e=""),n.performTaskOnGAThread(function(){p.isSdkReady(!0,!1)?o.w("Build version must be set before SDK is initialized."):c.validateBuild(e)?a.setBuild(e):o.i("Validation fail - configure build: Cannot be null, empty or above 32 length. String: "+e)})},p.configureSdkGameEngineVersion=function(e){void 0===e&&(e=""),n.performTaskOnGAThread(function(){p.isSdkReady(!0,!1)||(c.validateSdkWrapperVersion(e)?s.sdkGameEngineVersion=e:o.i("Validation fail - configure sdk version: Sdk version not supported. String: "+e))})},p.configureGameEngineVersion=function(e){void 0===e&&(e=""),n.performTaskOnGAThread(function(){p.isSdkReady(!0,!1)||(c.validateEngineVersion(e)?s.gameEngineVersion=e:o.i("Validation fail - configure game engine version: Game engine version not supported. String: "+e))})},p.configureUserId=function(e){void 0===e&&(e=""),n.performTaskOnGAThread(function(){p.isSdkReady(!0,!1)?o.w("A custom user id must be set before SDK is initialized."):c.validateUserId(e)?a.setUserId(e):o.i("Validation fail - configure user_id: Cannot be null, empty or above 64 length. Will use default user_id method. Used string: "+e)})},p.initialize=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),s.updateConnectionType();var i=n.createTimedBlock();i.async=!0,p.initTimedBlockId=i.id,i.block=function(){p.isSdkReady(!0,!1)?o.w("SDK already initialized. Can only be called once."):c.validateKeys(e,t)?(a.setKeys(e,t),p.internalInitialize()):o.w("SDK failed initialize. Game key or secret key is invalid. Can only contain characters A-z 0-9, gameKey is 32 length, gameSecret is 40 length. Failed keys - gameKey: "+e+", secretKey: "+t)},n.performTimedBlockOnGAThread(i)},p.addBusinessEvent=function(e,t,o,i,r,c,l){if(void 0===e&&(e=""),void 0===t&&(t=0),void 0===o&&(o=""),void 0===i&&(i=""),void 0===r&&(r=""),void 0===c&&(c={}),void 0===l&&(l=!1),s.updateConnectionType(),a.instance.isUnloading){if(!p.isSdkReady(!0,!0,"Could not add business event"))return;d.addBusinessEvent(e,t,o,i,r,c,l)}else n.performTaskOnGAThread(function(){p.isSdkReady(!0,!0,"Could not add business event")&&d.addBusinessEvent(e,t,o,i,r,c,l)})},p.addResourceEvent=function(e,o,i,r,c,l,u){if(void 0===e&&(e=t.EGAResourceFlowType.Undefined),void 0===o&&(o=""),void 0===i&&(i=0),void 0===r&&(r=""),void 0===c&&(c=""),void 0===l&&(l={}),void 0===u&&(u=!1),s.updateConnectionType(),a.instance.isUnloading){if(!p.isSdkReady(!0,!0,"Could not add resource event"))return;d.addResourceEvent(e,o,i,r,c,l,u)}else n.performTaskOnGAThread(function(){p.isSdkReady(!0,!0,"Could not add resource event")&&d.addResourceEvent(e,o,i,r,c,l,u)})},p.addProgressionEvent=function(e,o,i,r,c,l,u){if(void 0===e&&(e=t.EGAProgressionStatus.Undefined),void 0===o&&(o=""),void 0===i&&(i=""),void 0===r&&(r=""),void 0===l&&(l={}),void 0===u&&(u=!1),s.updateConnectionType(),a.instance.isUnloading){if(!p.isSdkReady(!0,!0,"Could not add progression event"))return;var f="number"==typeof c;d.addProgressionEvent(e,o,i,r,f?c:0,f,l,u)}else n.performTaskOnGAThread(function(){if(p.isSdkReady(!0,!0,"Could not add progression event")){var t="number"==typeof c;d.addProgressionEvent(e,o,i,r,t?c:0,t,l,u)}})},p.addDesignEvent=function(e,t,o,i){if(void 0===o&&(o={}),void 0===i&&(i=!1),s.updateConnectionType(),a.instance.isUnloading){if(!p.isSdkReady(!0,!0,"Could not add design event"))return;var r="number"==typeof t;d.addDesignEvent(e,r?t:0,r,o,i)}else n.performTaskOnGAThread(function(){if(p.isSdkReady(!0,!0,"Could not add design event")){var n="number"==typeof t;d.addDesignEvent(e,n?t:0,n,o,i)}})},p.addErrorEvent=function(e,o,i,r){if(void 0===e&&(e=t.EGAErrorSeverity.Undefined),void 0===o&&(o=""),void 0===i&&(i={}),void 0===r&&(r=!1),s.updateConnectionType(),a.instance.isUnloading){if(!p.isSdkReady(!0,!0,"Could not add error event"))return;d.addErrorEvent(e,o,i,r)}else n.performTaskOnGAThread(function(){p.isSdkReady(!0,!0,"Could not add error event")&&d.addErrorEvent(e,o,i,r)})},p.addAdEventWithNoAdReason=function(e,o,i,r,c,l,u){if(void 0===e&&(e=t.EGAAdAction.Undefined),void 0===o&&(o=t.EGAAdType.Undefined),void 0===i&&(i=""),void 0===r&&(r=""),void 0===c&&(c=t.EGAAdError.Undefined),void 0===l&&(l={}),void 0===u&&(u=!1),s.updateConnectionType(),a.instance.isUnloading){if(!p.isSdkReady(!0,!0,"Could not add ad event"))return;d.addAdEvent(e,o,i,r,c,0,!1,l,u)}else n.performTaskOnGAThread(function(){p.isSdkReady(!0,!0,"Could not add ad event")&&d.addAdEvent(e,o,i,r,c,0,!1,l,u)})},p.addAdEventWithDuration=function(e,o,i,r,c,l,u){if(void 0===e&&(e=t.EGAAdAction.Undefined),void 0===o&&(o=t.EGAAdType.Undefined),void 0===i&&(i=""),void 0===r&&(r=""),void 0===c&&(c=0),void 0===l&&(l={}),void 0===u&&(u=!1),s.updateConnectionType(),a.instance.isUnloading){if(!p.isSdkReady(!0,!0,"Could not add ad event"))return;d.addAdEvent(e,o,i,r,t.EGAAdError.Undefined,c,!0,l,u)}else n.performTaskOnGAThread(function(){p.isSdkReady(!0,!0,"Could not add ad event")&&d.addAdEvent(e,o,i,r,t.EGAAdError.Undefined,c,!0,l,u)})},p.addAdEvent=function(e,o,i,r,c,l){if(void 0===e&&(e=t.EGAAdAction.Undefined),void 0===o&&(o=t.EGAAdType.Undefined),void 0===i&&(i=""),void 0===r&&(r=""),void 0===c&&(c={}),void 0===l&&(l=!1),s.updateConnectionType(),a.instance.isUnloading){if(!p.isSdkReady(!0,!0,"Could not add ad event"))return;d.addAdEvent(e,o,i,r,t.EGAAdError.Undefined,0,!1,c,l)}else n.performTaskOnGAThread(function(){p.isSdkReady(!0,!0,"Could not add ad event")&&d.addAdEvent(e,o,i,r,t.EGAAdError.Undefined,0,!1,c,l)})},p.setEnabledInfoLog=function(e){void 0===e&&(e=!1),n.performTaskOnGAThread(function(){e?(o.setInfoLog(e),o.i("Info logging enabled")):(o.i("Info logging disabled"),o.setInfoLog(e))})},p.setEnabledVerboseLog=function(e){void 0===e&&(e=!1),n.performTaskOnGAThread(function(){e?(o.setVerboseLog(e),o.i("Verbose logging enabled")):(o.i("Verbose logging disabled"),o.setVerboseLog(e))})},p.setEnabledManualSessionHandling=function(e){void 0===e&&(e=!1),n.performTaskOnGAThread(function(){a.setManualSessionHandling(e)})},p.setEnabledEventSubmission=function(e){void 0===e&&(e=!1),n.performTaskOnGAThread(function(){e?(a.setEnabledEventSubmission(e),o.i("Event submission enabled")):(o.i("Event submission disabled"),a.setEnabledEventSubmission(e))})},p.setCustomDimension01=function(e){void 0===e&&(e=""),n.performTaskOnGAThread(function(){c.validateDimension01(e,a.getAvailableCustomDimensions01())?a.setCustomDimension01(e):o.w("Could not set custom01 dimension value to '"+e+"'. Value not found in available custom01 dimension values")})},p.setCustomDimension02=function(e){void 0===e&&(e=""),n.performTaskOnGAThread(function(){c.validateDimension02(e,a.getAvailableCustomDimensions02())?a.setCustomDimension02(e):o.w("Could not set custom02 dimension value to '"+e+"'. Value not found in available custom02 dimension values")})},p.setCustomDimension03=function(e){void 0===e&&(e=""),n.performTaskOnGAThread(function(){c.validateDimension03(e,a.getAvailableCustomDimensions03())?a.setCustomDimension03(e):o.w("Could not set custom03 dimension value to '"+e+"'. Value not found in available custom03 dimension values")})},p.setGlobalCustomEventFields=function(e){void 0===e&&(e={}),n.performTaskOnGAThread(function(){o.i("Set global custom event fields: "+JSON.stringify(e)),a.instance.currentGlobalCustomEventFields=e})},p.setEventProcessInterval=function(e){n.performTaskOnGAThread(function(){n.setEventProcessInterval(e)})},p.startSession=function(){if(a.isInitialized()){var e=n.createTimedBlock();e.async=!0,p.initTimedBlockId=e.id,e.block=function(){a.isEnabled()&&a.sessionIsStarted()&&n.endSessionAndStopQueue(),p.resumeSessionAndStartQueue()},n.performTimedBlockOnGAThread(e)}},p.endSession=function(){p.onStop()},p.onStop=function(){n.performTaskOnGAThread(function(){try{n.endSessionAndStopQueue()}catch(e){}})},p.onResume=function(){var e=n.createTimedBlock();e.async=!0,p.initTimedBlockId=e.id,e.block=function(){p.resumeSessionAndStartQueue()},n.performTimedBlockOnGAThread(e)},p.getRemoteConfigsValueAsString=function(e,t){return void 0===t&&(t=null),a.getConfigurationStringValue(e,t)},p.isRemoteConfigsReady=function(){return a.isRemoteConfigsReady()},p.addRemoteConfigsListener=function(e){a.addRemoteConfigsListener(e)},p.removeRemoteConfigsListener=function(e){a.removeRemoteConfigsListener(e)},p.getRemoteConfigsContentAsString=function(){return a.getRemoteConfigsContentAsString()},p.getABTestingId=function(){return a.getABTestingId()},p.getABTestingVariantId=function(){return a.getABTestingVariantId()},p.addOnBeforeUnloadListener=function(e){a.addOnBeforeUnloadListener(e)},p.removeOnBeforeUnloadListener=function(e){a.removeOnBeforeUnloadListener(e)},p.internalInitialize=function(){a.ensurePersistedStates(),i.setItem(a.getGameKey(),a.DefaultUserIdKey,a.getDefaultId()),a.setInitialized(!0),p.newSession(),a.isEnabled()&&n.ensureEventQueueIsRunning()},p.newSession=function(){o.i("Starting a new session."),a.validateAndFixCurrentDimensions(),r.instance.requestInit(a.instance.configsHash,p.startNewSessionCallback)},p.startNewSessionCallback=function(e,t){if(e!==l.Ok&&e!==l.Created||!t)e==l.Unauthorized?(o.w("Initialize SDK failed - Unauthorized"),a.instance.initAuthorized=!1):(e===l.NoResponse||e===l.RequestTimeout?o.i("Init call (session start) failed - no response. Could be offline or timeout."):e===l.BadResponse||e===l.JsonEncodeFailed||e===l.JsonDecodeFailed?o.i("Init call (session start) failed - bad response. Could be bad response from proxy or GA servers."):e!==l.BadRequest&&e!==l.UnknownResponseCode||o.i("Init call (session start) failed - bad request or unknown response."),null==a.instance.sdkConfig?null!=a.instance.sdkConfigCached?(o.i("Init call (session start) failed - using cached init values."),a.instance.sdkConfig=a.instance.sdkConfigCached):(o.i("Init call (session start) failed - using default init values."),a.instance.sdkConfig=a.instance.sdkConfigDefault):o.i("Init call (session start) failed - using cached init values."),a.instance.initAuthorized=!0);else{var r=0;if(t.server_ts){var s=t.server_ts;r=a.calculateServerTimeOffset(s)}if(t.time_offset=r,e!=l.Created){var c=a.getSdkConfig();c.configs&&(t.configs=c.configs),c.configs_hash&&(t.configs_hash=c.configs_hash),c.ab_id&&(t.ab_id=c.ab_id),c.ab_variant_id&&(t.ab_variant_id=c.ab_variant_id)}a.instance.configsHash=t.configs_hash?t.configs_hash:"",a.instance.abId=t.ab_id?t.ab_id:"",a.instance.abVariantId=t.ab_variant_id?t.ab_variant_id:"",i.setItem(a.getGameKey(),a.SdkConfigCachedKey,u.encode64(JSON.stringify(t))),a.instance.sdkConfigCached=t,a.instance.sdkConfig=t,a.instance.initAuthorized=!0}if(a.instance.clientServerTimeOffset=a.getSdkConfig().time_offset?a.getSdkConfig().time_offset:0,a.populateConfigurations(a.getSdkConfig()),!a.isEnabled())return o.w("Could not start session: SDK is disabled."),void n.stopEventQueue();n.ensureEventQueueIsRunning();var f=u.createGuid();a.instance.sessionId=f,a.instance.sessionStart=a.getClientTsAdjusted(),d.addSessionStartEvent();var v=n.getTimedBlockById(p.initTimedBlockId);null!=v&&(v.running=!1),p.initTimedBlockId=-1},p.resumeSessionAndStartQueue=function(){a.isInitialized()&&(o.i("Resuming session."),a.sessionIsStarted()||p.newSession())},p.isSdkReady=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=""),n&&(n+=": "),e&&!a.isInitialized()?(t&&o.w(n+"SDK is not initialized"),!1):e&&!a.isEnabled()?(t&&o.w(n+"SDK is disabled"),!1):!(e&&!a.sessionIsStarted()&&(t&&o.w(n+"Session has not started yet"),1))},p.initTimedBlockId=-1,p.methodMap={},p}();t.GameAnalytics=p}(a||(a={})),a.GameAnalytics.init(),a.GameAnalytics.gaCommand,t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return d.default}});var o=p(e("./v1.js")),i=p(e("./v3.js")),a=p(e("./v4.js")),r=p(e("./v5.js")),s=p(e("./nil.js")),c=p(e("./version.js")),l=p(e("./validate.js")),u=p(e("./stringify.js")),d=p(e("./parse.js"));function p(e){return e&&e.__esModule?e:{default:e}}},{"./nil.js":4,"./parse.js":5,"./stringify.js":9,"./v1.js":10,"./v3.js":11,"./v4.js":13,"./v5.js":14,"./validate.js":15,"./version.js":16}],3:[function(e,t,n){"use strict";function o(e){const t=[],n=32*e.length;for(let o=0;o<n;o+=8){const n=e[o>>5]>>>o%32&255,i=parseInt("0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n),16);t.push(i)}return t}function i(e){return 15+(e+64>>>9<<4)}function a(e,t){e[t>>5]|=128<<t%32,e[i(t)-1]=t;let n=1732584193,o=-271733879,a=-1732584194,r=271733878;for(let i=0;i<e.length;i+=16){const t=n,c=o,f=a,v=r;n=l(n,o,a,r,e[i],7,-680876936),r=l(r,n,o,a,e[i+1],12,-389564586),a=l(a,r,n,o,e[i+2],17,606105819),o=l(o,a,r,n,e[i+3],22,-1044525330),n=l(n,o,a,r,e[i+4],7,-176418897),r=l(r,n,o,a,e[i+5],12,1200080426),a=l(a,r,n,o,e[i+6],17,-1473231341),o=l(o,a,r,n,e[i+7],22,-45705983),n=l(n,o,a,r,e[i+8],7,1770035416),r=l(r,n,o,a,e[i+9],12,-1958414417),a=l(a,r,n,o,e[i+10],17,-42063),o=l(o,a,r,n,e[i+11],22,-1990404162),n=l(n,o,a,r,e[i+12],7,1804603682),r=l(r,n,o,a,e[i+13],12,-40341101),a=l(a,r,n,o,e[i+14],17,-1502002290),n=u(n,o=l(o,a,r,n,e[i+15],22,1236535329),a,r,e[i+1],5,-165796510),r=u(r,n,o,a,e[i+6],9,-1069501632),a=u(a,r,n,o,e[i+11],14,643717713),o=u(o,a,r,n,e[i],20,-373897302),n=u(n,o,a,r,e[i+5],5,-701558691),r=u(r,n,o,a,e[i+10],9,38016083),a=u(a,r,n,o,e[i+15],14,-660478335),o=u(o,a,r,n,e[i+4],20,-405537848),n=u(n,o,a,r,e[i+9],5,568446438),r=u(r,n,o,a,e[i+14],9,-1019803690),a=u(a,r,n,o,e[i+3],14,-187363961),o=u(o,a,r,n,e[i+8],20,1163531501),n=u(n,o,a,r,e[i+13],5,-1444681467),r=u(r,n,o,a,e[i+2],9,-51403784),a=u(a,r,n,o,e[i+7],14,1735328473),n=d(n,o=u(o,a,r,n,e[i+12],20,-1926607734),a,r,e[i+5],4,-378558),r=d(r,n,o,a,e[i+8],11,-2022574463),a=d(a,r,n,o,e[i+11],16,1839030562),o=d(o,a,r,n,e[i+14],23,-35309556),n=d(n,o,a,r,e[i+1],4,-1530992060),r=d(r,n,o,a,e[i+4],11,1272893353),a=d(a,r,n,o,e[i+7],16,-155497632),o=d(o,a,r,n,e[i+10],23,-1094730640),n=d(n,o,a,r,e[i+13],4,681279174),r=d(r,n,o,a,e[i],11,-358537222),a=d(a,r,n,o,e[i+3],16,-722521979),o=d(o,a,r,n,e[i+6],23,76029189),n=d(n,o,a,r,e[i+9],4,-640364487),r=d(r,n,o,a,e[i+12],11,-421815835),a=d(a,r,n,o,e[i+15],16,530742520),n=p(n,o=d(o,a,r,n,e[i+2],23,-995338651),a,r,e[i],6,-198630844),r=p(r,n,o,a,e[i+7],10,1126891415),a=p(a,r,n,o,e[i+14],15,-1416354905),o=p(o,a,r,n,e[i+5],21,-57434055),n=p(n,o,a,r,e[i+12],6,1700485571),r=p(r,n,o,a,e[i+3],10,-1894986606),a=p(a,r,n,o,e[i+10],15,-1051523),o=p(o,a,r,n,e[i+1],21,-2054922799),n=p(n,o,a,r,e[i+8],6,1873313359),r=p(r,n,o,a,e[i+15],10,-30611744),a=p(a,r,n,o,e[i+6],15,-1560198380),o=p(o,a,r,n,e[i+13],21,1309151649),n=p(n,o,a,r,e[i+4],6,-145523070),r=p(r,n,o,a,e[i+11],10,-1120210379),a=p(a,r,n,o,e[i+2],15,718787259),o=p(o,a,r,n,e[i+9],21,-343485551),n=s(n,t),o=s(o,c),a=s(a,f),r=s(r,v)}return[n,o,a,r]}function r(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(i(t));for(let o=0;o<t;o+=8)n[o>>5]|=(255&e[o/8])<<o%32;return n}function s(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function c(e,t,n,o,i,a){return s((r=s(s(t,e),s(o,a)))<<(c=i)|r>>>32-c,n);var r,c}function l(e,t,n,o,i,a,r){return c(t&n|~t&o,e,t,i,a,r)}function u(e,t,n,o,i,a,r){return c(t&o|n&~o,e,t,i,a,r)}function d(e,t,n,o,i,a,r){return c(t^n^o,e,t,i,a,r)}function p(e,t,n,o,i,a,r){return c(n^(t|~o),e,t,i,a,r)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return o(a(r(e),8*e.length))}},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,i=(o=e("./validate.js"))&&o.__esModule?o:{default:o};n.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}},{"./validate.js":15}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],7:[function(e,t,n){"use strict";let o;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)};const i=new Uint8Array(16)},{}],8:[function(e,t,n){"use strict";function o(e,t,n,o){switch(e){case 0:return t&n^~t&o;case 1:return t^n^o;case 2:return t&n^t&o^n&o;case 3:return t^n^o}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const a=e.length/4+2,r=Math.ceil(a/16),s=new Array(r);for(let o=0;o<r;++o){const t=new Uint32Array(16);for(let n=0;n<16;++n)t[n]=e[64*o+4*n]<<24|e[64*o+4*n+1]<<16|e[64*o+4*n+2]<<8|e[64*o+4*n+3];s[o]=t}s[r-1][14]=8*(e.length-1)/Math.pow(2,32),s[r-1][14]=Math.floor(s[r-1][14]),s[r-1][15]=8*(e.length-1)&4294967295;for(let c=0;c<r;++c){const e=new Uint32Array(80);for(let t=0;t<16;++t)e[t]=s[c][t];for(let t=16;t<80;++t)e[t]=i(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let a=n[0],r=n[1],l=n[2],u=n[3],d=n[4];for(let n=0;n<80;++n){const s=Math.floor(n/20),c=i(a,5)+o(s,r,l,u)+d+t[s]+e[n]>>>0;d=u,u=l,l=i(r,30)>>>0,r=a,a=c}n[0]=n[0]+a>>>0,n[1]=n[1]+r>>>0,n[2]=n[2]+l>>>0,n[3]=n[3]+u>>>0,n[4]=n[4]+d>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,i=(o=e("./validate.js"))&&o.__esModule?o:{default:o};const a=[];for(let r=0;r<256;++r)a.push((r+256).toString(16).substr(1));n.default=function(e,t=0){const n=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n}},{"./validate.js":15}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(e("./rng.js")),i=a(e("./stringify.js"));function a(e){return e&&e.__esModule?e:{default:e}}let r,s,c=0,l=0;n.default=function(e,t,n){let a=t&&n||0;const u=t||new Array(16);let d=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==p){const t=e.random||(e.rng||o.default)();null==d&&(d=r=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=s=16383&(t[6]<<8|t[7]))}let f=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:l+1;const g=f-c+(v-l)/1e4;if(g<0&&void 0===e.clockseq&&(p=p+1&16383),(g<0||f>c)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,l=v,s=p;const h=(1e4*(268435455&(f+=122192928e5))+v)%4294967296;u[a++]=h>>>24&255,u[a++]=h>>>16&255,u[a++]=h>>>8&255,u[a++]=255&h;const y=f/4294967296*1e4&268435455;u[a++]=y>>>8&255,u[a++]=255&y,u[a++]=y>>>24&15|16,u[a++]=y>>>16&255,u[a++]=p>>>8|128,u[a++]=255&p;for(let o=0;o<6;++o)u[a+o]=d[o];return t||(0,i.default)(u)}},{"./rng.js":7,"./stringify.js":9}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(e("./v35.js")),i=a(e("./md5.js"));function a(e){return e&&e.__esModule?e:{default:e}}var r=(0,o.default)("v3",48,i.default);n.default=r},{"./md5.js":3,"./v35.js":12}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){function a(e,a,s,c){if("string"==typeof e&&(e=r(e)),"string"==typeof a&&(a=(0,i.default)(a)),16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(a),l.set(e,a.length),(l=n(l))[6]=15&l[6]|t,l[8]=63&l[8]|128,s){c=c||0;for(let e=0;e<16;++e)s[c+e]=l[e];return s}return(0,o.default)(l)}try{a.name=e}catch(l){}return a.DNS=s,a.URL=c,a},n.URL=n.DNS=void 0;var o=a(e("./stringify.js")),i=a(e("./parse.js"));function a(e){return e&&e.__esModule?e:{default:e}}function r(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=s;const c="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=c},{"./parse.js":5,"./stringify.js":9}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(e("./rng.js")),i=a(e("./stringify.js"));function a(e){return e&&e.__esModule?e:{default:e}}n.default=function(e,t,n){const a=(e=e||{}).random||(e.rng||o.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,i.default)(a)}},{"./rng.js":7,"./stringify.js":9}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(e("./v35.js")),i=a(e("./sha1.js"));function a(e){return e&&e.__esModule?e:{default:e}}var r=(0,o.default)("v5",80,i.default);n.default=r},{"./sha1.js":8,"./v35.js":12}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,i=(o=e("./regex.js"))&&o.__esModule?o:{default:o};n.default=function(e){return"string"==typeof e&&i.default.test(e)}},{"./regex.js":6}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,i=(o=e("./validate.js"))&&o.__esModule?o:{default:o};n.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},{"./validate.js":15}],Data:[function(e,t,n){"use strict";cc._RF.push(t,"c55584XxZ5G/5H9kJJbLNrP","Data");var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.CONFIG_KEY=n.FIREBASE_KEY=n.FACEBOOK_KEY=n.TINI_KEY=n.LOCAL_KEY=void 0;var a=e("./FBInstantManager"),r=e("./FirebaseManager"),s=e("./Config"),c=e("./TiniController"),l=cc._decorator,u=l.ccclass,d=(l.property,a.default.getInstance().getPlayerId());n.LOCAL_KEY="localUserData",n.TINI_KEY="userData",n.FACEBOOK_KEY="facebookData",n.FIREBASE_KEY="firebaseData",n.CONFIG_KEY="configKey";var p=function(e){return e},f=function(){function e(){}var t;return t=e,e.isLocal=function(){return"localId"===d},e.saveData=function(e,o,i){if(void 0===o&&(o=n.LOCAL_KEY),void 0===i&&(i=null),o===n.TINI_KEY&&c.default.getInstance().setStorage("userData",JSON.stringify(e),function(){i&&i(null)}),o===n.LOCAL_KEY&&(cc.sys.localStorage.setItem(n.LOCAL_KEY,JSON.stringify(e)),i&&i(null)),t.isLocal()&&o!==n.LOCAL_KEY)return t.saveData(e,t.LOCAL_KEY),i&&i(null);if(o===n.FACEBOOK_KEY&&a.default.getInstance().setPlayerData(e,function(n){n&&console.log("save facebook err:",n),cc.sys.localStorage.setItem(t.FACEBOOK_LOCAL_KEY,JSON.stringify(e)),i&&i(n)}),o===n.FIREBASE_KEY)try{r.default.getInstance().setPlayerData(e),i&&i(null)}catch(s){console.error("save firebase err:",s),i(s)}},e.getData=function(e,o){return void 0===e&&(e=n.LOCAL_KEY),void 0===o&&(o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}),e===n.TINI_KEY?t.getTiniData(o):e===n.LOCAL_KEY?t.getLocalData(o):t.isLocal()&&e!==t.LOCAL_KEY&&e!==t.CONFIG_KEY?t.getLocalData(o):e===n.FACEBOOK_KEY?t.getFacebookData(o):e===n.FIREBASE_KEY?t.getFirebaseData(o):e===n.CONFIG_KEY?t.getConfigData(o):void 0},e.getLocalData=function(e){var i=cc.sys.localStorage.getItem(n.LOCAL_KEY);e(null,i?o(o({},t.defaultData),p(JSON.parse(i))):o({},t.defaultData))},e.getTiniData=function(e){c.default.getInstance().getStorage("userData",function(n){var i=n.data;if(i)e(null,o(o({},t.defaultData),p(JSON.parse(i))));else{var a=o({},t.defaultData);e(null,a)}})},e.getFacebookData=function(e){a.default.getInstance().getPlayerData(function(n,i){if(n){console.log("get facebook data err",n);var a=cc.sys.localStorage.getItem(t.FACEBOOK_LOCAL_KEY);return e(null,a?p(JSON.parse(a)):o({},t.defaultData))}if(!i)return t.getData(t.LOCAL_KEY,function(n,i){e(null,o(o({},t.defaultData),i))});e(null,o(o({},t.defaultData),i))})},e.getFirebaseData=function(e){r.default.getInstance().getPlayerData(function(n,i){if(n)return e(n,null);e(null,o(o({},t.defaultData),i))})},e.getConfigData=function(e){s.default.getInstance().getDynamicConfig(function(t,n){return e(null,t?s.default.getInstance().getDefaultConfig():n)})},e.prototype.removeData=function(){cc.sys.localStorage.removeItem(n.LOCAL_KEY)},e.getDataKey=function(){return c.default.getInstance().isHasTiniApp()?t.TINI_KEY:t.LOCAL_KEY},e.LOCAL_KEY=n.LOCAL_KEY,e.TINI_KEY=n.TINI_KEY,e.FACEBOOK_KEY=n.FACEBOOK_KEY,e.FIREBASE_KEY=n.FIREBASE_KEY,e.FACEBOOK_LOCAL_KEY="facebookLocalUserData",e.CONFIG_KEY=n.CONFIG_KEY,e.defaultData={unlockedLevel:0,currentLevel:0,isSound:!0,isMusic:!0,isVibrate:!0,hadCreatedShortcut:!1,visited:1,freeSave:!0,freeHint:!0,tutorial:{checktime:null,complete:!1}},t=i([u],e)}();n.default=f,cc._RF.pop()},{"./Config":"Config","./FBInstantManager":"FBInstantManager","./FirebaseManager":"FirebaseManager","./TiniController":"TiniController"}],EffectManager:[function(e,t,n){"use strict";cc._RF.push(t,"651ccMOV4lP5YZQYpu0DX8S","EffectManager");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,cc.tween),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.hideScene=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n=cc.find("Canvas/Shadow");n&&e&&c(n).to(.4,{opacity:255}).call(function(){e(t)}.bind(this)).start()},t.showScene=function(e){void 0===e&&(e=null);var t=cc.find("Canvas/Shadow");t&&c(t).to(.4,{opacity:0}).start()},t.effectFail=function(){var e=cc.find("Canvas/Shadow");e&&c(e).to(.2,{opacity:200},{easing:"cubicOut"}).start()},t.effectSuccess=function(){var e=cc.find("Canvas/Shadow"),t=cc.find("Canvas/Success");e&&t&&(c(e).to(.2,{opacity:200},{easing:"cubicOut"}).start(),c(t).to(.2,{scale:.7,opacity:255},{easing:"cubicOut"}).start())},t.effectScaleOption=function(e,t){e.active=!0,e.scale=0,c(e).to(t,{scale:1,opacity:255},{easing:"backOut"}).start()},t.effectHideButton=function(e,t){c(e).to(t,{scale:0,opacity:0},{easing:"backOut"}).start()},t.showUI=function(e){cc.find("Canvas/Level").active=e,cc.find("Canvas/OptionContainer").active=e,cc.find("Canvas/Hint").active=e},t.flicker=function(e,t){c(e).repeat(t,c().to(.05,{opacity:0}).delay(.1).to(.05,{opacity:255})).start()},t.showTick=function(e,t){void 0===t&&(t=null),t?t.getChildByName("TrueAnswer").active=!0:cc.find("Canvas/Level/Line/TrueAnswer").active=!0;var n=cc.find("Canvas/OptionContainer").getChildByName("option"+(e+1));switch(e){case 0:case 1:n.getChildByName("tick").active=!0;break;case 2:n.getChildByName("tick").active=!0}},t.showX=function(e,t){void 0===t&&(t=null),t?t.getChildByName("FalseAnswer").active=!0:cc.find("Canvas/Level/Line/FalseAnswer").active=!0;var n=cc.find("Canvas/OptionContainer").getChildByName("option"+(e+1));switch(e){case 0:case 1:n.getChildByName("x").active=!0;break;case 2:n.getChildByName("x").active=!0}},t.effectFlyMoney=function(e,t){for(var n=[],o=0;o<11;++o){var i=cc.instantiate(e);n.push(i),t.addChild(i)}var a=cc.find("Canvas/UI"),r=a.getComponent("UIController"),s=a.convertToNodeSpaceAR(r.point.convertToWorldSpaceAR(a));c(n[0]).to(1,{position:cc.v3(-110,50)},{easing:"quintOut"}).delay(0).bezierTo(.5,cc.v2(-110,50),cc.v2(-120,350),cc.v2(s)).delay(.2).call(function(){n[0].active=!1,n[0].position=cc.v3(0,0)}).start(),c(n[1]).to(1,{position:cc.v3(-52,143)},{easing:"quintOut"}).delay(.05).bezierTo(.5,cc.v2(-52,143),cc.v2(-65,310),cc.v2(s)).delay(.2).call(function(){n[1].active=!1,n[1].position=cc.v3(0,0)}).start(),c(n[2]).to(1,{position:cc.v3(-240,114)},{easing:"quintOut"}).delay(.05).bezierTo(.5,cc.v2(-240,114),cc.v2(-310,300),cc.v2(s)).delay(.2).call(function(){n[2].active=!1,n[2].position=cc.v3(0,0)}).start(),c(n[3]).to(1,{position:cc.v3(100,200)},{easing:"quintOut"}).delay(.01).bezierTo(.5,cc.v2(100,200),cc.v2(305,210),cc.v2(s)).delay(.2).call(function(){n[3].active=!1,n[3].position=cc.v3(0,0)}).start(),c(n[4]).to(1,{position:cc.v3(165,202)},{easing:"quintOut"}).delay(.1).bezierTo(.5,cc.v2(165,202),cc.v2(360,310),cc.v2(s)).delay(.2).call(function(){n[4].active=!1,n[4].position=cc.v3(0,0)}).start(),c(n[5]).to(1,{position:cc.v3(102,280)},{easing:"quintOut"}).delay(.1).bezierTo(.5,cc.v2(102,280),cc.v2(111,400),cc.v2(s)).delay(.2).call(function(){n[5].active=!1,n[5].position=cc.v3(0,0)}).start(),c(n[6]).to(1,{position:cc.v3(208,105)},{easing:"quintOut"}).delay(.15).bezierTo(.5,cc.v2(208,105),cc.v2(360,142),cc.v2(s)).delay(.2).call(function(){n[6].active=!1,n[6].position=cc.v3(0,0)}).start(),c(n[7]).to(1,{position:cc.v3(-193,-169)},{easing:"quintOut"}).delay(.15).bezierTo(.5,cc.v2(-193,-169),cc.v2(-322,40),cc.v2(s)).delay(.2).call(function(){n[7].active=!1,n[7].position=cc.v3(0,0)}).start(),c(n[8]).to(1,{position:cc.v3(-100,-215)},{easing:"quintOut"}).delay(.2).bezierTo(.5,cc.v2(-100,-215),cc.v2(127,-280),cc.v2(s)).delay(.2).call(function(){n[8].active=!1,n[8].position=cc.v3(0,0)}).start(),c(n[9]).to(1,{position:cc.v3(71,-121)},{easing:"quintOut"}).delay(.2).bezierTo(.5,cc.v2(71,-121),cc.v2(330,-88),cc.v2(s)).delay(.2).call(function(){n[9].active=!1,n[9].position=cc.v3(0,0)}).start(),c(n[10]).to(1,{position:cc.v3(35,-2)},{easing:"quintOut"}).delay(.025).bezierTo(.5,cc.v2(35,-2),cc.v2(0,0),cc.v2(s)).delay(.2).call(function(){n[10].active=!1,n[10].position=cc.v3(0,0)}).start()},t.showButton=function(e,t){e.active=!0,e.scale=0,e.opacity=0,c(e).to(t,{scale:1,opacity:255},{easing:"quadIn"}).start()},t.scaleForever=function(e,t,n,o){void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null),t&&n&&o?(e.active=!0,e.scale=1,e.opacity=0,c(e).to(o,{scale:n,opacity:255}).repeatForever(c().to(o,{scale:t}).to(o,{scale:n})).start()):cc.Tween.stopAllByTarget(e)},t.effectScaleStart=function(e){e.active=!0,c(e).to(.25,{scale:.95},{easing:"backOut"}).repeatForever(c().to(.8,{scale:.95},{easing:"backOut"}).delay(.4).to(.8,{scale:1.05},{easing:"backOut"}).delay(.4)).start()},t.effectScaleButton=function(e,t,n,o){e.active=!0,e.opacity=255,c(e).parallel(c().to(o,{scaleX:t+.1},{easing:"cubicOut"}).to(.3,{scaleX:t}),c().to(o,{scaleY:n+.1},{easing:"cubicOut"}).to(.3,{scaleY:n})).start()},a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"5bc46rpWClIqJJbH+W8pEmC","EventManager");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.sendRequestNextScene=function(e){e.dispatchEvent(new cc.Event.EventCustom("request_next_scene",!0))},t.sendRequestReset=function(e){e.dispatchEvent(new cc.Event.EventCustom("back_to_stage_begin",!0))},t.sendRequestPlayStageBegin=function(e){e.dispatchEvent(new cc.Event.EventCustom("back_to_stage_begin",!0))},t.sendRequestResult=function(e){e.dispatchEvent(new cc.Event.EventCustom("next_level",!0))},t.sendRequestNextStage=function(e){e.dispatchEvent(new cc.Event.EventCustom("next_stage",!0))},t.sendRequestContinue=function(e){e.dispatchEvent(new cc.Event.EventCustom("show_continue",!0))},a([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],FBInstantManager:[function(e,t,n){"use strict";cc._RF.push(t,"8a866GWI09Fuq0ZAeTmADjR","FBInstantManager");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,r=(i.property,function(){function e(){this.playerId="",this.supportedApis=null}var t;return t=e,e.getInstance=function(){return t.instance||(t.instance=new t),t.instance},e.prototype.checkSupportedApis=function(e){if(!this.supportedApis)try{this.supportedApis=FBInstant.getSupportedAPIs()}catch(i){this.supportedApis=[]}for(var t=0,n=e;t<n.length;t++){var o=n[t];if(!this.supportedApis.includes(o))return!1}return!0},e.prototype.getPlayerId=function(){if(!this.playerId)try{this.playerId=FBInstant.player.getID()}catch(e){this.playerId="localId"}if(this.playerId)return this.playerId},e.prototype.getShareImg=function(e){var t=this;if(this.shareImg)return e(this.shareImg);cc.resources.load("Base64/ShareImg",function(n,o){t.shareImg=o.text,e(t.shareImg)})},e.prototype.shareGame=function(){this.getShareImg(function(e){var t=FBInstant.player.getID();FBInstant.shareAsync({intent:"REQUEST",image:e,text:"Let's play prison Rescue the lover!",data:{sharePlayerID:t}})})},e.prototype.canShareGame=function(){return this.checkSupportedApis(["shareAsync"])},e.prototype.invitePlay=function(e){void 0===e&&(e={level:1,playerId:""});var t=function(t){FBInstant.getLeaderboardAsync(t).then(function(t){return t.setScoreAsync(e.level,"")}).then(function(){FBInstant.updateAsync({action:"LEADERBOARD",name:t,text:FBInstant.player.getName()+" had passed level "+e.level+" invite you to play Rescue the lover"}).then(function(){cc.log("send invite - update leaderboard"),FBInstant.context.switchAsync("").then(function(){console.log("switch back context success",FBInstant.context.getType(),FBInstant.context.getID())}).catch(function(e){console.log("switch back context err",e)})}).catch(function(e){console.log("errr",e)})}).catch(function(e){console.log("err",e)})},n=FBInstant.context.chooseAsync,o=[];e.playerId&&(n=FBInstant.context.createAsync,o.push(e.playerId)),n.apply(void 0,o).then(function(){var e="HighScore."+FBInstant.context.getID();t(e)}).catch(function(e){void 0===e&&(e=null),console.log("fail?",e)})},e.prototype.canInvitePlay=function(){return this.checkSupportedApis(["getLeaderboardAsync","updateAsync","context.switchAsync","context.chooseAsync","context.createAsync"])},e.prototype.getConnectedPlayers=function(e){if(this.checkSupportedApis(["player.getConnectedPlayersAsync"]))try{FBInstant.player.getConnectedPlayersAsync().then(function(t){var n=t.map(function(e){return{id:e.getID(),name:e.getName(),photo:e.getPhoto()}});e(n)}).catch(function(e){console.log("get list fail",e)})}catch(t){cc.log("error:",t)}},e.prototype.setPlayerData=function(e,t){try{if(!FBInstant)return t(null)}catch(o){return t(null)}var n={};n.userData=e,FBInstant.player.setDataAsync(n).then(function(){t(null)}).catch(function(e){t(e)})},e.prototype.getPlayerData=function(e){try{if(!FBInstant)return e(null,null)}catch(t){return e(null,null)}FBInstant.player.getDataAsync(["userData"]).then(function(t){e(null,t.userData)}).catch(function(t){e(t,null)})},e.prototype.createShortcut=function(e){try{FBInstant.canCreateShortcutAsync().then(function(t){t&&FBInstant.createShortcutAsync().then(function(){console.log("--- create shortcut success"),e(!0)}).catch(function(){console.log("--- create shortcut fail"),e(!1)}),e(!1)})}catch(t){console.error(t),e(!1)}},e.prototype.getLocale=function(){return FBInstant.getLocale()},e.prototype.setSessionData=function(e){FBInstant.setSessionData(e)},e.prototype.subcribeBot=function(e){try{FBInstant.player.canSubscribeBotAsync().then(function(t){t&&FBInstant.player.subscribeBotAsync().then(function(){console.log("--- subcribe bot success"),e(!0)}).catch(function(t){console.log("--- subcribe bot fail",t),e(!1)}),e(!1)}).catch(function(e){console.log("can not subcribe bot",e)})}catch(t){console.log(t),e(!1)}},t=o([a],e)}());n.default=r,cc._RF.pop()},{}],FirebaseManager:[function(e,t,n){"use strict";cc._RF.push(t,"aab2cDGV/BNxLfM/InAEHbA","FirebaseManager");var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./FBInstantManager"),r=cc._decorator,s=r.ccclass,c=(r.property,"players"),l=function(e,t,n){var o=e.constructor.getInstance(),i=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(o._firebase)return i.apply(o,e);o._lazyCalls.push({func:n.value,args:arguments})}},u=function(){function e(){this._firebase=null,this._db=null,this._lazyCalls=[]}var t;return t=e,e.getInstance=function(){return t._instance?t._instance:(t._instance=new t,t._instance)},e.prototype.initFirebase=function(){var e,t,n,o,i=this;e=0,t=function(){if(e++,console.log(e),e<2)return o.onload=t,o.src="https://www.gstatic.com/firebasejs/8.6.1/firebase-firestore.js",void document.body.appendChild(o);firebase.initializeApp({apiKey:"AIzaSyD_-xaEQb3_qhYyAFiR9XQqvTbBtjI9pQ4",authDomain:"rescure-9d76b.firebaseapp.com",projectId:"rescure-9d76b",storageBucket:"rescure-9d76b.appspot.com",messagingSenderId:"330291876785",appId:"1:330291876785:web:702593ab0cf93d47b3e390"}),i._firebase=firebase,i._db=firebase.firestore(),window.firebase=null,i._lazyCalls.forEach(function(e){return e.func.apply(e,e.args)})},n=document.createElement("script"),o=document.createElement("script"),n.onload=t,n.src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js",document.body.appendChild(n)},e.prototype.getPlayerRef=function(e){return e+"/"+a.default.getInstance().getPlayerId()},e.prototype.setData=function(e,t,n){try{this._db.collection(e).doc(t).set(n,{merge:!0}).then(function(){console.log("Document written")}).catch(function(e){console.error("Error adding document: ",e)})}catch(o){console.error("save firebase err: ",o)}},e.prototype.getData=function(e,t,n){this._db.collection(e).doc(t).get().then(function(o){if(o.exists){var i=o.data();n(null,i)}else console.log("no doc",e,t),n(null,null)}).catch(function(e){n(e)})},e.prototype.setPlayerData=function(e){var t=a.default.getInstance().getPlayerId();"localId"!==t&&this.setData(c,t,e)},e.prototype.getPlayerData=function(e){var t=a.default.getInstance().getPlayerId();if("localId"===t)return e(null,null);this.getData(c,t,e)},e.prototype.getFriendData=function(e,t){if("localId"===a.default.getInstance().getPlayerId())return t(null,null);this.getData(c,e,t)},e.prototype.getLeaderboard=function(e){var t=this,n=[],i=function(e,a,r){var s=e[a];t.getFriendData(s.id,function(t,c){t&&(c={unlockedLevel:-1});var l=o(o({},c),s);if(n.push(l),e[++a])return i(e,a,r);r(n)})};a.default.getInstance().getConnectedPlayers(function(t){i(t,0,e)})},e.prototype.getConfig=function(e){this._db.collection("config").doc("configId").get().then(function(t){t.exists?e(null,t.data()):e(null,null)}).catch(function(t){e(t,null)})},e._instance=null,i([l],e.prototype,"setPlayerData",null),i([l],e.prototype,"getPlayerData",null),i([l],e.prototype,"getLeaderboard",null),i([l],e.prototype,"getConfig",null),t=i([s],e)}();n.default=u,cc._RF.pop()},{"./FBInstantManager":"FBInstantManager"}],FishSwim:[function(e,t,n){"use strict";cc._RF.push(t,"0fbf2HST0tF/o8oPnW3t+5Y","FishSwim");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=cc.tween,u=[250,500,200,300,200,150],d=[3,6,2,2,4,1],p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fishs=[],t._durations=[],t._fishsConfig=[],t}return i(t,e),t.prototype.onLoad=function(){var e=this;this._fishsConfig=[];var t=this.node.width;u.forEach(function(n){e._durations.push(parseInt(t/n+""))}),this.fishs.forEach(function(t,n){t.width;var o=t.position.x;e._fishsConfig.push({node:t,duration:Math.abs(2*o)/u[n],startX:o,endX:-o,delay:d[n],y:t.y,scaleX:t.scaleX})}),cc.Tween.stopAllByTag(-100)},t.prototype.onEnable=function(){this._fishsConfig.forEach(function(e){e.node.position.x=e.startX,e.node.scaleX=e.scaleX,l(e.node).tag(-100).delay(e.delay/2).repeatForever(l().to(e.duration,{position:cc.v3(e.endX,e.y)}).delay(e.delay).call(function(){e.node.scaleX=-e.scaleX}).to(e.duration,{position:cc.v3(e.startX,e.y)}).delay(e.delay).call(function(){e.node.scaleX=e.scaleX})).start()})},t.prototype.onDisable=function(){cc.Tween.stopAllByTag(-100)},a([c([cc.Node])],t.prototype,"fishs",void 0),a([s],t)}(cc.Component);n.default=p,cc._RF.pop()},{}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"01bf0WmjNtFoaDXKbrhV1vh","GameManager");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.SOUND=void 0;var r,s=e("./Data"),c=e("./AdsManager"),l=e("./FBInstantManager"),u=e("./BundleManager"),d=e("./FirebaseManager"),p=e("./LevelBase"),f=e("./Cheat"),v=e("gameanalytics"),g=e("gameanalytics"),h=e("./Analytics"),y=e("./Locale"),m=e("./TiniController"),_=cc._decorator,E=_.ccclass,C=_.property,b=cc.tween;(function(e){e[e.BG=0]="BG",e[e.CLICK=1]="CLICK",e[e.FAIL_STAGE=2]="FAIL_STAGE",e[e.SUCCESS_STAGE=3]="SUCCESS_STAGE",e[e.SUCCESS_LEVEL=4]="SUCCESS_LEVEL",e[e.DING=5]="DING"})(r=n.SOUND||(n.SOUND={}));var S="a7bb373c2674076bbbeb3e1700aa5ca1",A="56df35f7b24b54622c3c3d8667e82c9125d28570",I=[],O=[],w=[],T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levels=[],t.shadow=null,t.sounds=[],t.ui=null,t.gameContainer=null,t.optionContainer=null,t.level=null,t.mainCamera=null,t.setting=null,t.loading=null,t.btnSetting=null,t.guide=null,t.comingSoon2=null,t.logo=null,t.splashScreen=null,t.hint=null,t.cta=null,t._listLevel=null,t._ui=null,t._countDown=null,t._levelCurrent={script:null,level:0},t._levelArray=[],t._currentScene=null,t._beginScene=null,t._data=null,t.currentAudioBG=null,t._selectedLevel=0,t._failLevelLoad=null,t._bundleInstance=null,t._temp=0,t.isTutorial=!0,t._showLogo=!0,t._resourcesRequired=2,t._resourcesLoaded=0,t._lupinSkeleton={lupin:null,lupin2:null},t._skeletonResource={},t._canShowHint=!0,t.userTiki=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){var e=this;m.default.getInstance().init(),this.loading.zIndex=cc.macro.MAX_ZINDEX,this.loading.active=!0,this.splashScreen.zIndex=cc.macro.MAX_ZINDEX,this.splashScreen.active=!0,this._bundleInstance=u.default.getInstance(),console.log("APP VERSION: ","1.2.15"),d.default.getInstance().initFirebase(),v.GameAnalytics.setEnabledInfoLog(!0),v.GameAnalytics.setEnabledVerboseLog(!0),v.GameAnalytics.configureBuild("1.2.15"),m.default.getInstance().isHasTiniApp()?m.default.getInstance().getPlayerInfo().then(function(t){e.userTiki=t,v.GameAnalytics.configureUserId(t.customerId.toString()),v.GameAnalytics.initialize(S,A)}):(v.GameAnalytics.configureUserId("local_id"),v.GameAnalytics.initialize(S,A)),y.default.setLocale("vi_VN"),s.default.getData(s.default.getDataKey(),function(t,o){console.log("Data from Game Controller",o),e._data=o,e._temp=e._data.unlockedLevel,e._data.tutorial.checktime&&e._data.tutorial.checktime>1629775746538?e.isTutorial=!e._data.tutorial.complete:(e.isTutorial=!0,e._data.freeSave=!0,e._data.freeHint=!0),!o.visited&&(o.visited=0),o.visited++,s.default.saveData(o,s.default.getDataKey(),function(){});var i=e._data.currentLevel;!i&&0!==i&&(i=e._data.unlockedLevel),i>=p.TOTAL_LEVEL&&(i=p.TOTAL_LEVEL-1),e._selectedLevel=i;var a="Level"+(i+1);e._bundleInstance.getPrefabByName(a,function(t,o){o?e.loadSkeletonPrefab(o.data.getChildByName(a+"_1").getComponent(a+"_1"),function(){e.afterLoadResource(function(){e.initGame(i,function(){})})}):(console.log("get level err",t),n.logError("#GM1 - "+t),e.getUIController(function(){e._ui.showAlert("NO INTERNET CONNECTION")}))}),I.forEach(function(t){t(e._data)})}),s.default.getData(s.default.getDataKey(),function(e,t){t.visited+=1,s.default.saveData(t,s.default.getDataKey())});try{f.default.getInstance().initCheat()}catch(t){console.log(t)}u.default.getInstance().getPrefabByName("UI",function(t,o){if(t)return console.log(t),n.logError("#GM2 - "+t),void(e.splashScreen.getChildByName("text").getComponent(cc.Label).string="NO INTERNET CONNECTION");e.ui=cc.instantiate(o),cc.find("Canvas").addChild(e.ui),e.ui.active=!0,e._ui=e.ui.getComponent("UIController"),e.optionContainer.zIndex=cc.macro.MAX_ZINDEX-100,e.getDataAsync(function(t){e._levelCurrent.level=t.unlockedLevel,e._selectedLevel=t.unlockedLevel,e.isTutorial&&e.getUIController(function(){e._ui.showGuide(!0)})}),e._countDown=e._ui.countDown.getComponent("CountDown5s"),O.forEach(function(t){t(e._ui)}),e.finishLoadResource(),console.log("--- load UI")})},t.prototype.onEnable=function(){this.showLoading(!0)},t.prototype.start=function(){var e=this;this.playAudioBG(),this.getUIController(function(){e.showUiInGame(!1),e._ui.showUIHome(!0)}),u.default.getInstance().getResource("NewList","ListLevel",cc.Prefab,function(t,o){if(t)return console.log(t),n.logError("#GM3 - "+t),void(e.splashScreen.getChildByName("text").getComponent(cc.Label).string="NO INTERNET CONNECTION");e.finishLoadResource(),e._listLevel=cc.instantiate(o),e._listLevel.active=!1,e._listLevel.zIndex=cc.macro.MAX_ZINDEX-1,cc.find("Canvas").addChild(e._listLevel),console.log("--- load list level:")})},t.prototype.getUIController=function(e){this.ui&&this._ui?e(this._ui):O.push(e)},t.prototype.getDataAsync=function(e){if(this._data)return e(this._data);I.push(e)},t.prototype.playAudioBG=function(){this.playSound(r.BG,!0)},t.prototype.stopAudioBG=function(){cc.audioEngine.stopMusic()},t.prototype.showLoading=function(e){this.loading.active=e},t.prototype.showListLevel=function(){this.playSound(r.CLICK,!1),this._listLevel&&(this._listLevel.active=!0,this._ui.showGuide(!1),this._ui.showUIStartGame(!1))},t.prototype.onReplay=function(){this.playSound(r.CLICK,!1),this._currentScene.active=!1,this._beginScene.active=!0,this.showUiInGame(!1)},t.prototype.onNextLevel=function(){var e=this;if(this.playSound(r.CLICK,!1),this.showGuide(!1),this._levelCurrent.level>=p.TOTAL_LEVEL)return this.btnSetting.active=!1,this._ui.showUIEndGame(!1),void this._ui.showComingSoon();this.showLoading(!0),this._temp=this._levelCurrent.level;var t="Level"+(this._temp+1);this._bundleInstance.getPrefabByName(t,function(o,i){i?e.loadSkeletonPrefab(i.data.getChildByName(t+"_1").getComponent(t+"_1"),function(){e._ui.setLevelHome(e._temp),e.showUiInGame(!1),e._currentScene.active=!1,e._currentScene.parent!=e.gameContainer&&(e._currentScene.parent.active=!1),e.gameContainer.addChild(cc.instantiate(i)),e.showLoading(!1),e._ui.showUIEndGame(!1);var t=e._temp+1,o=e._temp+2;cc.error("Current "+t),cc.error("Next "+o),e.setLevel(t,o),n.logNextLevel(t)}):(e.showLoading(!1),console.error(o),n.logError("#GM4 - "+o))})},t.logEvent=function(e){v.GameAnalytics.addDesignEvent(e)},t.logFailed=function(e,t,n){v.GameAnalytics.addProgressionEvent(g.EGAProgressionStatus.Fail,"Level"+(e+1),"Stage"+(t+1),"Option"+(n+1))},t.logPassed=function(e,t,n){v.GameAnalytics.addProgressionEvent(g.EGAProgressionStatus.Complete,"Level"+(e+1),"Stage"+(t+1),"Option"+(n+1))},t.logLevel=function(e){n.logEvent("Enter_Level_"+(e+1)),v.GameAnalytics.addProgressionEvent(g.EGAProgressionStatus.Start,"EnterLevel"+(e+1))},t.logNextLevel=function(e){n.logEvent("NextLevel"+e),v.GameAnalytics.addProgressionEvent(g.EGAProgressionStatus.Start,"NextLevel"+(e+1))},t.logReceiveRewardAds=function(){c.default.getInstance().getRewardPlacementId()},t.logErrorRewardAds=function(e){void 0===e&&(e=h.EGAAdError.Unknown),c.default.getInstance().getRewardPlacementId()},t.logShowInterestialAds=function(){c.default.getInstance().getInsterestialPlacementId()},t.logErrorInterestialAds=function(e){void 0===e&&(e=h.EGAAdError.Unknown),c.default.getInstance().getInsterestialPlacementId()},t.logError=function(e){v.GameAnalytics.addErrorEvent(g.EGAErrorSeverity.Error,e)},t.prototype.getLevel=function(e,t){var n=this;if(void 0===t&&(t=null),this._levelArray[e])return t&&t(null,this._levelArray[e]),this._levelArray[e];this._bundleInstance.getPrefab(e,function(o,i){if(o)return t(o,null);n._levelArray[e]=cc.instantiate(i),t&&t(null,n._levelArray[e])})},t.prototype.initGame=function(e,t){var o=this;void 0===t&&(t=null),n.logLevel(e);for(var i=0;i<this.gameContainer.children.length;++i){var a=this.gameContainer.children[i];if(a.name=="Level"+(e+1)){if(a.active=!0,a.children[0].name.includes("Level")){for(var r=0,s=a.children;r<s.length;r++)s[r].active=!1;a.children[0].active=!0}return void this.getUIController(function(){o._ui.setLevelHome(e),t&&t()})}}this.showLoading(!0);var c="Level"+(e+1);this._bundleInstance.getPrefabByName(c,function(i,a){a?o.getUIController(function(){o.loadSkeletonPrefab(a.data.getChildByName(c+"_1").getComponent(c+"_1"),function(){var n=cc.instantiate(a);o.gameContainer.addChild(n),o._ui.setLevelHome(e),o.showUiInGame(!1),o.showLoading(!1),t&&t()})}):(o.showLoading(!1),console.log("get level err",i),n.logError("#GM5 - "+i),o.getUIController(function(){o._ui.showComingSoon()}))})},t.prototype.startGame=function(){this.playSound(r.CLICK,!1),this.initGame(this._selectedLevel)},t.prototype.selectLevel=function(e){if(this._data.unlockedLevel==p.TOTAL_LEVEL&&e==p.TOTAL_LEVEL)return this.showComingSoon2(),void this.playSound(r.CLICK,!1);this._selectedLevel=e,this.gameContainer.children.forEach(function(e){e.active=!1}),s.default.getData(s.default.getDataKey(),function(t,n){t||(n.currentLevel=e,s.default.saveData(n,s.default.getDataKey()))}),this.initGame(e)},t.prototype.setLevel=function(e,t){this.level.getChildByName("Start").getChildByName("txtLevel").getComponent(cc.Label).string=e.toString(),this.level.getChildByName("Current").getChildByName("txtLevel").getComponent(cc.Label).string=t.toString()},t.prototype.playSound=function(e,t){var n=this;s.default.getData(s.default.getDataKey(),function(o,i){var a=i;a.isSound&&0!=e&&cc.audioEngine.play(n.sounds[e],t,1),a.isMusic&&0==e&&cc.audioEngine.playMusic(n.sounds[e],t)})},t.prototype.playStageBegin=function(){},t.prototype.playClickAudio=function(){this.playSound(r.CLICK,!1)},t.prototype.playDingAudio=function(){this.playSound(r.DING,!1)},t.prototype.showVideo=function(){if(this.playSound(r.CLICK,!1),this._countDown.stopCountDown(),this._data.freeSave)return this.showGuide(!1),this.onPlayAgain(),this._data.freeSave=!1,void s.default.getData(s.default.getDataKey(),function(e,t){e||(t.freeSave=!1,s.default.saveData(t,s.default.getDataKey()))});n.logReceiveRewardAds(),this.onPlayAgain()},t.prototype.onPlayAgain=function(){this._ui.showUIEndGame(!1),this._ui.showUIContinue(!1),this._countDown.stopCountDown(),this._levelCurrent.script.initStage()},t.prototype.onTapToStart=function(){this.playSound(r.CLICK,!1),this._ui.showGuide(!1),this._levelCurrent.script.startGame(),this.showUiInGame(!0),this._showLogo=!1},t.prototype.onClickSetting=function(){this.playSound(r.CLICK,!1);var e=cc.find("Canvas/Setting");e?e.active=!0:(e=cc.instantiate(this.setting),cc.find("Canvas").addChild(e)),this._ui.showGuide(!1)},t.prototype.onClickReload=function(){},t.prototype.onShare=function(){n.logEvent("ShareClick"),l.default.getInstance().shareGame()},t.prototype.onInvite=function(){n.logEvent("InviteClick")},t.prototype.canShare=function(){return l.default.getInstance().canShareGame()},t.prototype.canInvite=function(){return l.default.getInstance().canInvitePlay()},t.prototype.showGuide=function(e){var t;this.isTutorial&&e?((t=cc.find("Canvas/Guide"))?t.active=!0:((t=cc.instantiate(this.guide)).zIndex=cc.macro.MAX_ZINDEX,cc.find("Canvas").addChild(t)),t.getComponent("Guide").action()):(t=cc.find("Canvas/Guide"))&&(t.active=!1)},t.prototype.setGuide=function(e){this.isTutorial&&cc.find("Canvas/Guide").getComponent("Guide").setTutorialState(e)},t.prototype.offTutorial=function(){this.isTutorial=!1,s.default.getData(s.default.getDataKey(),function(e,t){t&&(t.tutorial={checktime:Date.now(),complete:!0},s.default.saveData(t,s.default.getDataKey()))})},t.prototype.showFreeSave=function(){if(!this._data.freeSave)return!1;var e=cc.find("Canvas/Guide");return e?e.active=!0:((e=cc.instantiate(this.guide)).zIndex=cc.macro.MAX_ZINDEX,cc.find("Canvas").addChild(e)),e.getComponent("Guide").showFreeSave(),this._countDown.stopCountDown(),this.setGuide("failHint"),!0},t.prototype.showComingSoon2=function(){var e=cc.find("Canvas/ComingSoon2");e?e.active=!0:((e=cc.instantiate(this.comingSoon2)).zIndex=cc.macro.MAX_ZINDEX,cc.find("Canvas").addChild(e))},t.prototype.showUiInGame=function(e){this.level.active=e,this.btnSetting.active=e,this.showLogo(this._showLogo&&!e),this._ui.showUIStartGame(!e)},t.prototype.showLogo=function(e,t){void 0===t&&(t=.3),e?(this.logo.scale=0,this.logo.active=!0,b(this.logo).delay(t).to(.5,{scale:1}).start()):this.logo.active=!1},t.prototype.finishLoadResource=function(){this._resourcesLoaded++,this._resourcesLoaded>=this._resourcesRequired&&(this.splashScreen.active=!1,w.forEach(function(e){e()}))},t.prototype.afterLoadResource=function(e){this._resourcesLoaded<this._resourcesRequired?w.push(e):e()},t.prototype.loadSkeletonResource=function(e,t,n){var o=this;u.default.getInstance().getResource(e,t,sp.SkeletonData,function(i,a){i?n(i,null):(o._skeletonResource[e+"__"+t]=a,console.log("--- load skeleton ",e,t),n(null,a))})},t.prototype.getSkeletonResource=function(e,t){return this._skeletonResource[e+"__"+t]},t.prototype.loadSkeletonPrefab=function(e,t){var o=this,i=0,a=[{bundle:e.lupinSkeletonName,name:"lupin"}];e.spineDatas.forEach(function(e){a.find(function(t){return e.bundle===t.bundle&&e.name===t.name})||a.push(e)}),a.forEach(function(e){o.getSkeletonResource(e.bundle,e.name)?i++:o.loadSkeletonResource(e.bundle,e.name,function(r){if(r)return console.log("load skeleton err",e,r),n.logError("#GM6 - "+r),o.splashScreen.getChildByName("text").getComponent(cc.Label).string="NO INTERNET CONNECTION",o.loading.getChildByName("text").getComponent(cc.Label).string="NO INTERNET CONNECTION",void o._ui.showAlert("NO INTERNET CONNECTION");++i===a.length&&t()}),i===a.length&&t()})},t.prototype.onClickHint=function(){if(this.showGuide(!1),this._canShowHint)return this._data.freeHint?(this._data.freeSave=!1,s.default.getData(s.default.getDataKey(),function(e,t){e||(t.freeHint=!1,s.default.saveData(t,s.default.getDataKey()))}),this._levelCurrent.script.runRightOption()):(n.logReceiveRewardAds(),n.logEvent("UseHint"),this._levelCurrent.script.runRightOption())},t.prototype.setShowHint=function(e){void 0===e&&(e=!0),this._canShowHint=e},t.prototype.onClickCta=function(){m.default.getInstance().sendMessageToTiniApp({api:"navigateToMiniApp",params:{appId:"com.tini.appstore",path:"pages/list-apps/index",extraData:{code:"games"}}})},a([C(cc.Prefab)],t.prototype,"levels",void 0),a([C(cc.Node)],t.prototype,"shadow",void 0),a([C([cc.AudioClip])],t.prototype,"sounds",void 0),a([C(cc.Node)],t.prototype,"gameContainer",void 0),a([C(cc.Node)],t.prototype,"optionContainer",void 0),a([C(cc.Node)],t.prototype,"level",void 0),a([C(cc.Node)],t.prototype,"mainCamera",void 0),a([C(cc.Prefab)],t.prototype,"setting",void 0),a([C(cc.Node)],t.prototype,"loading",void 0),a([C(cc.Node)],t.prototype,"btnSetting",void 0),a([C(cc.Prefab)],t.prototype,"guide",void 0),a([C(cc.Prefab)],t.prototype,"comingSoon2",void 0),a([C(cc.Node)],t.prototype,"logo",void 0),a([C(cc.Node)],t.prototype,"splashScreen",void 0),a([C(cc.Node)],t.prototype,"hint",void 0),a([C(cc.Node)],t.prototype,"cta",void 0),n=a([E],t)}(cc.Component);n.default=T,cc._RF.pop()},{"./AdsManager":"AdsManager","./Analytics":"Analytics","./BundleManager":"BundleManager","./Cheat":"Cheat","./Data":"Data","./FBInstantManager":"FBInstantManager","./FirebaseManager":"FirebaseManager","./LevelBase":"LevelBase","./Locale":"Locale","./TiniController":"TiniController",gameanalytics:1}],Guide:[function(e,t,n){"use strict";cc._RF.push(t,"83398XgwSJOD6j4WX9n26Ap","Guide");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Scripts/Locale"),s=cc._decorator,c=s.ccclass,l=s.property,u={option:"Oh No! Lupin's lover has been kidnapped! Choose 1 of the options below to help him chase the kidnapper!",focusOpt:"Hm! Looks like our previous selection was incorrect. Let's choose the other one.",final:"Wow! Looks like we'll catch up. Let's continue to explore the rest of the story.",freeSave:"Oh No! Looks like the last choice was incorrect. Save him or we will have to start over from the beginning of the level",hint:"If you just want to pass, then use hints to help you through"},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hand=null,t.story=null,t.next=null,t.tutorialState="option",t.finalState="hint",t.nextCallback=null,t.showCount={option:0,focusOpt:0,final:0,freeSave:0,hint:0},t}return i(t,e),t.prototype.onLoad=function(){this.hand.active=!1,this._shadow=cc.find("Canvas/Shadow"),this._setting=cc.find("Canvas/BtnSetting"),this._gameManager=cc.find("Canvas/GameManager").getComponent("GameManager"),this.story.active=!1,this.next.active=!1,this.next.getChildByName("txt").getComponent(cc.Label).string=r.default.getText("next"),u.option=r.default.getText("guideOption"),u.focusOpt=r.default.getText("guideFocusOpt"),u.final=r.default.getText("guideFinal"),u.freeSave=r.default.getText("guideFreeSave"),u.hint=r.default.getText("guideHint")},t.prototype.onEnable=function(){this._setting.getChildByName("Block").active=!0,this._setting.color=new cc.Color(150,150,150,255)},t.prototype.onDisable=function(){this._shadow.opacity=0,this._setting.getChildByName("Block").active=!1,this._setting.color=new cc.Color(255,255,255,255)},t.prototype.onNext=function(){this.node.active=!1,this.nextCallback&&this.nextCallback()},t.prototype.setTutorialState=function(e){this.tutorialState=e},t.prototype.action=function(){return this.hand.active=!0,this.story.active=!1,cc.Tween.stopAllByTarget(this.hand),this.tutorialState===this.finalState&&this._gameManager.offTutorial(),"focusOpt"===this.tutorialState?(this.showCount.focusOpt++,this.showCount.focusOpt>1?this._gameManager.showGuide(!1):this.actionFocusOpt()):"final"===this.tutorialState?(this.showCount.final++,this.showCount.final>1?this._gameManager.showGuide(!1):this.actionFinal()):"hint"===this.tutorialState?(this.showCount.hint++,this.showCount.hint>1?this._gameManager.showGuide(!1):this.actionHint()):"failHint"===this.tutorialState?(this.showCount.hint++,this.showCount.hint>1?this._gameManager.showGuide(!1):this.actionHint()):(this.showCount.option++,this.showCount.option>1?this._gameManager.showGuide(!1):void this.actionOption())},t.prototype.actionOption=function(){var e=this;cc.tween(this._shadow).to(.2,{opacity:150}).call(function(){e.story.active=!0,e.story.getChildByName("Text").getComponent(cc.Label).string=u.option,e.next.active=!1;var t=[];e._gameManager.optionContainer.children.forEach(function(e){e.active&&t.push(e)});var n=cc.tween().call(function(){e.hand.position=cc.v3(t[0].position.x,-960),e.hand.opacity=0}).parallel(cc.tween().to(.5,{opacity:255}),cc.tween().to(.5,{position:cc.v3(t[0].position.x,-800)}).call(function(){cc.tween(e.hand).repeat(2,cc.tween().to(.2,{scale:.9},{easing:"cubicIn"}).to(.2,{scale:1},{easing:"cubicOut"})).start()})).delay(.8).to(.5,{position:cc.v3(t[1].position.x,-800)}).call(function(){cc.tween(e.hand).repeat(2,cc.tween().to(.2,{scale:.9},{easing:"cubicIn"}).to(.2,{scale:1},{easing:"cubicOut"})).start()}).delay(.8);t[2]&&(n=n.to(.5,{position:cc.v3(t[2].position.x,-800)}).call(function(){cc.tween(e.hand).repeat(2,cc.tween().to(.2,{scale:.9},{easing:"cubicIn"}).to(.2,{scale:1},{easing:"cubicOut"})).start()}).delay(.8)),n=n.parallel(cc.tween().by(.5,{position:cc.v3(0,-300)}),cc.tween().to(.5,{opacity:0})),cc.tween(e.hand).repeatForever(n).start()}).start()},t.prototype.actionFocusOpt=function(){var e=this;cc.tween(this._shadow).to(.2,{opacity:150}).call(function(){e.story.active=!0,e.story.getChildByName("Text").getComponent(cc.Label).string=u.focusOpt,e.next.active=!1;var t=e._gameManager._levelCurrent.script,n=e._gameManager.optionContainer.getChildByName("option"+t.rightOption);cc.tween(e.hand).set({position:cc.v3(n.position.x,-960),opacity:0}).to(.5,{position:cc.v3(n.position.x,-800),opacity:255}).repeatForever(cc.tween().to(.2,{scale:.9},{easing:"cubicIn"}).to(.2,{scale:1},{easing:"cubicOut"})).start()}).start()},t.prototype.actionFinal=function(){var e=this;cc.tween(this._shadow).to(.2,{opacity:150}).call(function(){e.story.active=!0,e.story.getChildByName("Text").getComponent(cc.Label).string=u.final,e.next.active=!1,cc.tween(e.hand).repeatForever(cc.tween().set({position:cc.v3(0,-920),opacity:0}).parallel(cc.tween(e.hand).to(.7,{opacity:255}),cc.tween(e.hand).to(.7,{position:cc.v3(0,-600)}).call(function(){cc.tween(e.hand).to(.5,{scale:.9},{easing:"cubicIn"}).to(.5,{scale:1},{easing:"cubicOut"}).start()})).to(.2,{scale:.9},{easing:"cubicIn"}).to(.2,{scale:1},{easing:"cubicOut"})).start()}).start()},t.prototype.showFreeSave=function(){var e=this;cc.Tween.stopAllByTarget(this.hand),cc.tween(this._shadow).to(.2,{opacity:150}).call(function(){e.story.active=!0,e.story.getChildByName("Text").getComponent(cc.Label).string=u.freeSave,e.next.active=!1,e.hand.active=!0,cc.tween(e.hand).repeatForever(cc.tween().set({position:cc.v3(0,-920),opacity:0}).parallel(cc.tween(e.hand).to(.7,{opacity:255}),cc.tween(e.hand).to(.7,{position:cc.v3(0,-600)}).call(function(){cc.tween(e.hand).to(.5,{scale:.9},{easing:"cubicIn"}).to(.5,{scale:1},{easing:"cubicOut"}).start()})).to(.2,{scale:.9},{easing:"cubicIn"}).to(.2,{scale:1},{easing:"cubicOut"})).start()}).start()},t.prototype.actionHint=function(){var e=this;cc.tween(this._shadow).to(.2,{opacity:150}).call(function(){e.story.active=!0,e.story.getChildByName("Text").getComponent(cc.Label).string=u.hint,e.next.active=!1,cc.tween(e.hand).repeatForever(cc.tween().set({position:cc.v3(454,450),opacity:255}).parallel(cc.tween(e.hand).to(.7,{opacity:255}),cc.tween(e.hand).to(.7,{position:cc.v3(454,450)}).call(function(){cc.tween(e.hand).to(.5,{scale:.9},{easing:"cubicIn"}).to(.5,{scale:1},{easing:"cubicOut"}).start()})).to(.2,{scale:.9},{easing:"cubicIn"}).to(.2,{scale:1},{easing:"cubicOut"})).start()}).start()},a([l(cc.Node)],t.prototype,"hand",void 0),a([l(cc.Node)],t.prototype,"story",void 0),a([l(cc.Node)],t.prototype,"next",void 0),a([c],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../Scripts/Locale":"Locale"}],LeaderboardManager:[function(e,t,n){"use strict";cc._RF.push(t,"b29e4CYyF5BIrboahEaUqcB","LeaderboardManager");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./FirebaseManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerPrefab=null,t.content=null,t.defaultAvatar=null,t.players=[],t._scroll=null,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this._scroll=this.node.getComponent(cc.ScrollView),r.default.getInstance().getLeaderboard(function(t){e.addPlayers(t)})},t.prototype.start=function(){var e=this;this.scheduleOnce(function(){e._scroll.scrollTo(cc.v2(0,0))},.1)},t.prototype.onInvite=function(e){var t=e.target;t.getChildByName("Text").getComponent(cc.Label).string="invited",t.getComponent(cc.Button).clickEvents.pop()},t.prototype.addPlayerNode=function(e){var t=cc.instantiate(this.playerPrefab),n=t.getChildByName("Container"),o=e.unlockedLevel||1;o<0&&(o=1),n.getChildByName("Level").getComponent(cc.Label).string=o,e.photo?cc.loader.load(e.photo,function(e,t){e&&console.log("load avatar fail",e),n.getChildByName("Avatar").getChildByName("Img").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}):n.getChildByName("Avatar").getChildByName("Img").getComponent(cc.Sprite).spriteFrame=this.defaultAvatar,this.content.addChild(t)},t.prototype.clearLeaderboard=function(){this.content.removeAllChildren(!0)},t.prototype.addPlayers=function(e){this.players=[];var t=e.length<10?e.length:10,n=function(e){return(!e.unlockedLevel||e.unlockedLevel<0)&&(e.unlockedLevel=1),e.unlockedLevel};e.sort(function(e,t){return n(t)-n(e)});for(var o=0;o<t;o++){var i=e[o];this.players.push(i),this.addPlayerNode(i)}},t.prototype.hasPlayers=function(){return!!this.players},a([l(cc.Prefab)],t.prototype,"playerPrefab",void 0),a([l(cc.Node)],t.prototype,"content",void 0),a([l(cc.SpriteFrame)],t.prototype,"defaultAvatar",void 0),a([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./FirebaseManager":"FirebaseManager"}],LevelBase:[function(e,t,n){"use strict";cc._RF.push(t,"5aee2Hmyp1LC4bNZhdX+QQs","LevelBase");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.TOTAL_LEVEL=void 0;var r=e("./EffectManager"),s=e("./EventManager"),c=e("./GameManager"),l=e("./GameManager"),u=e("./Data"),d=e("./BundleManager"),p=e("./AdsManager"),f=e("./Analytics"),v=e("./TiniController"),g=cc._decorator,h=g.ccclass,y=g.property,m=null,_=null,E=null,C=cc.tween,b=[[1],[1,2],[1,2,1],[2,2,1],[2,2,1],[2,2],[1,2],[1,2],[2,2],[2,1,2],[2,1,3],[2,3,1],[2,3,2],[1,3,2],[3,2,3,2],[1,2,1],[2,1,3],[3,2,1],[3,2,2],[2,2,2,1],[3,1,2],[3,1,1],[1,3,1],[2,1,1],[2,1,3,2],[3,3,1],[2,2,1],[3,1,2],[1,3,1],[2,3,1,1],[1,1,1],[3,2,2],[3,3,3],[3,1,2],[3,3,1,3],[3,1,1],[3,3,1],[3,3,1],[1,2,3],[2,1,1,1]];n.TOTAL_LEVEL=40;var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelCurrent=0,t.numberStage=0,t.stageCurrent=0,t.sceneBegin=null,t.sceneOption0=[],t.sceneOption1=[],t.sceneOption2=[],t.background=null,t.line=null,t.lupin=null,t.otherSpine=[],t.otherSprite=[],t.iconOption=[],t.next="",t.fishSwim=null,t.sounds=[],t._next=null,t.selected=0,t.currentId=0,t.clickOption=!0,t.optionScene=[[],[],[]],t.arrScene=[],t._gameManager=null,t.fail=null,t.success=null,t.shadow=null,t.currentLine=null,t.isTrue=!0,t._fishSwim=null,t._line=new cc.NodePool,t.camera2d=[],t._spinesTimeScale=[],t._lupinTimeScale=1,t.adsText="SAVE HIM",t._musicId=-1,t.lupinSkeletonName="lupin",t.spineDatas=[],t.rightOption=1,t}return i(t,e),t.prototype.onLoad=function(){this._gameManager=cc.find("Canvas/GameManager").getComponent("GameManager"),m=this._gameManager.optionContainer,_=m.getComponent("OptionController"),this.shadow=this._gameManager.shadow,E=this._gameManager._ui;for(var e=0,t=this.camera2d;e<t.length;e++)t[e].active=!1;this.fishSwim&&!this._fishSwim&&(this._fishSwim=cc.instantiate(this.fishSwim),this._fishSwim.active=!1,this.node.addChild(this._fishSwim)),this.rightOption=b[this.levelCurrent][this.stageCurrent],this.loadNextStage()},t.prototype.onEnable=function(){var e=this;console.log("%c"+this.node.name,"color:blue"),this.initOption(),this._gameManager._levelCurrent.script=this,this._gameManager._levelCurrent.level=this.levelCurrent,cc.log(this._gameManager._levelCurrent),this.node.getChildByName("Background").zIndex=cc.macro.MIN_ZINDEX,this.initArrayScene(),this.addEventCustom(),this.clickOption=!0,this.lupin.skeletonData=this._gameManager.getSkeletonResource(this.lupinSkeletonName,"lupin"),this.lupin.setSkin("Lupin"),this.otherSpine.forEach(function(t,n){if(e.spineDatas[n]){var o=e.spineDatas[n];t.skeletonData=e._gameManager.getSkeletonResource(o.bundle,o.name)}}),this._fishSwim&&(this._fishSwim.active=!0),this.initStage(),this.showOptionContainer(!1)},t.prototype.onDisable=function(){this._gameManager.mainCamera.active=!0,this.showOptionContainer(!1),this.removeEventCustom(),this.resetUIResult();for(var e=0,t=this.node.children;e<t.length;e++){var n=t[e];n.name.includes("Option")&&(n.active=!1)}this._fishSwim&&(this._fishSwim.active=!1),this._gameManager.btnSetting.active=!1,this.stopMusic()},t.prototype.start=function(){if(this.levelCurrent+1<n.TOTAL_LEVEL){var e="Level"+Number(this.levelCurrent+2);d.default.getInstance().getPrefabByName(e,null)}},t.prototype.addEventCustom=function(){this.node.on("request_next_scene",this.nextScene,this),this.node.on("show_continue",this.onContinue,this),this.node.on("next_stage",this.nextStage,this),this.node.on("back_to_stage_begin",this.playStageBegin,this),this.node.on("next_level",this.endGame,this)},t.prototype.removeEventCustom=function(){this.node.off("request_next_scene",this.nextScene,this),this.node.off("show_continue",this.onContinue,this),this.node.off("back_to_stage_begin",this.playStageBegin,this),this.node.off("next_stage",this.nextStage,this),this.node.off("next_level",this.endGame,this)},t.prototype.checkNextSceneExits=function(e,t){switch(t){case 0:return this.node.getChildByName("Option1_"+(e+1));case 1:return this.node.getChildByName("Option2_"+(e+1));case 2:return this.node.getChildByName("Option3_"+(e+1));default:cc.error("Khong co scene")}},t.prototype.getInstantiate=function(e,t){switch(t){case 0:return this.optionScene[0][e];case 1:return this.optionScene[1][e];case 2:return this.optionScene[2][e];default:return cc.error("Khong co prefab"),null}},t.prototype.selectedButton=function(e){e.getChildByName("selected").active=!1},t.prototype.resetUIResult=function(){this.shadow.opacity=0},t.prototype.endGame=function(e){var t=this;this._gameManager._levelCurrent.level<n.TOTAL_LEVEL&&++this._gameManager._levelCurrent.level,this._gameManager._data.currentLevel=this._gameManager._levelCurrent.level,this._gameManager._levelCurrent.level>this._gameManager._data.unlockedLevel&&(this._gameManager._data.unlockedLevel=this._gameManager._levelCurrent.level),u.default.getData(u.default.getDataKey(),function(e,n){n.unlockedLevel=t._gameManager._data.unlockedLevel,n.currentLevel=t._gameManager._data.currentLevel,n.freeSave=t._gameManager._data.freeSave,u.default.saveData(n,u.default.getDataKey()),u.default.saveData(n,u.default.FIREBASE_KEY)}),this.resetUIResult(),this.showEndGame(e)},t.prototype.nextScene=function(){var e=this;this._gameManager._currentScene.active=!1;var t=this.checkNextSceneExits(this.currentId,this.selected);if(t)return t.active=!0,this._gameManager._currentScene=t,void++this.currentId;(t=this.getInstantiate(this.currentId,this.selected))&&(t.zIndex=-1,this._gameManager._currentScene=t,this.arrScene.push(t),this.scheduleOnce(function(){e.node.addChild(t)},.2)),++this.currentId},t.prototype.nextStage=function(){if(this._next){for(var e=0,t=this.node.parent.children;e<t.length;e++)t[e].active=!1;var n=this.node.parent.getChildByName(this._next.name);n&&(n.active=!0)}},t.prototype.initStage=function(){var e=this;this._gameManager.cta.active=!0,cc.audioEngine.stopAllEffects(),this.currentId=0,this.clickOption=!0,this.camera2d[0].position=cc.v3(0,0),this.camera2d[0].getComponent(cc.Camera).zoomRatio=1,this.background.zIndex=cc.macro.MIN_ZINDEX,this._gameManager.mainCamera.active=!1;for(var t=0,n=this.camera2d;t<n.length;t++)n[t].active=!0;this.lupin.timeScale=1;for(var o=0,i=this.otherSpine;o<i.length;o++)i[o].timeScale=1;this.background.position=cc.v3(0,0),this._gameManager.optionContainer.getComponent("OptionController").resetOption(),this._gameManager._currentScene=this.sceneBegin,_.setImageOption(this.iconOption),E.showUIEndGame(!1),this.resetUIResult(),r.default.showUI(!0),this.removeLineStage(),this.createLineStage(this.numberStage),this.resultLineStage(),cc.find("Canvas/Level").active=!1,this.setLevel(this.levelCurrent+1,this.levelCurrent+2),(this.levelCurrent+1)%5==0&&this.levelCurrent>5?(this._gameManager.btnSetting.x=-515,this._gameManager.level.x=50):(this._gameManager.btnSetting.x=-465,this._gameManager.level.x=0),this.showOptionContainer(!1),this.setStatus(),this.otherSpine.forEach(function(t,n){e._spinesTimeScale[n]=t.timeScale,t.timeScale=0}),this._lupinTimeScale=this.lupin.timeScale,this.lupin.timeScale=0,cc.audioEngine.resumeMusic(),this.autoRunStage(),console.log("On start level",this.levelCurrent+1),v.default.getInstance().isHasTiniApp()&&v.default.getInstance().sendMessageToTiniApp({api:"reportAnalytics",params:{event:"level_start",data:{level_name:"Level "+(this.levelCurrent+1),user_id:this._gameManager.userTiki.customerId}}})},t.prototype.startGame=function(){var e=this;this._gameManager.cta.active=!1,cc.find("Canvas/Level").active=!0,this.otherSpine.forEach(function(t,n){t.timeScale=e._spinesTimeScale[n]}),this.lupin.timeScale=this._lupinTimeScale,this.setAction(),this._gameManager.btnSetting.active=!0},t.prototype.setStatus=function(){},t.prototype.setAction=function(){},t.prototype.openStageEffect=function(e){if("GameContainer"!=this.node.parent.name)if(0==e)this._gameManager._ui.background.opacity=0;else{var t=this._gameManager._ui.background;t.active=!0,t.opacity=255,C(t).to(.5,{opacity:0}).call(function(){t.active=!1}).start()}},t.prototype.autoRunStage=function(){var e=this.node.parent.children.indexOf(this.node);this.openStageEffect(e),"GameContainer"!=this.node.parent.name&&0!=e&&this.startGame()},t.prototype.hideAllScene=function(){for(var e=0,t=this.node.children;e<t.length;e++){var n=t[e];"Background"!=n.name&&(n.active=!1)}},t.prototype.showEndGame=function(){console.log("On end level",this.levelCurrent+1),v.default.getInstance().isHasTiniApp()&&v.default.getInstance().sendMessageToTiniApp({api:"reportAnalytics",params:{event:"level_end",data:{level_name:"Level "+(this.levelCurrent+1),success:!0,user_id:this._gameManager.userTiki.customerId}}}),E.showUIEndGame(!0)},t.prototype.selectOption=function(e){if(this._gameManager.playSound(l.SOUND.CLICK,!1),this._gameManager.showGuide(!1),this.clickOption)switch(this.clickOption=!1,m.children.forEach(function(e){e.getChildByName("selected").active=!0}),this._gameManager.setShowHint(!1),e.target.name){case"option1":this.selected=0,m.getChildByName("option1").getChildByName("selected").active=!1,this.runOption1();break;case"option2":this.selected=1,m.getChildByName("option2").getChildByName("selected").active=!1,this.runOption2();break;case"option3":this.selected=2,m.getChildByName("option3").getChildByName("selected").active=!1,this.runOption3();break;default:cc.error("Khong co case phu hop!")}else cc.error("Khong duoc click lien tuc hoac chon dap an khac!!!")},t.prototype.runOption1=function(){},t.prototype.runOption2=function(){},t.prototype.runOption3=function(){},t.prototype.setLupin=function(e,t,n){t&&this.lupin.setAnimation(0,t,!0),n&&this.lupin.setAnimation(1,n,!0),this.lupin.node.position=cc.v3(e)},t.prototype.setOtherSpine=function(e,t,n,o){n&&e.setAnimation(0,n,!0),o&&e.setAnimation(1,o,!0),t&&(e.node.position=cc.v3(t))},t.prototype.setOtherSprite=function(e,t){e.node.position=cc.v3(t)},t.prototype.initArrayScene=function(){for(var e=[this.sceneOption0,this.sceneOption1,this.sceneOption2],t=0;t<3;t++){var n=[];if(0==this.optionScene[t].length){for(var o=0;o<e[t].length;++o)n.push(cc.instantiate(e[t][o]));this.optionScene[t]=n}}},t.prototype.initOption=function(){var e=this.iconOption.length;_.setDistance(e);for(var t=0;t<e;++t)_.setOption(t,this.node,this.node.name,"selectOption")},t.prototype.showOptionContainer=function(e){e&&(r.default.effectScaleOption(m,.7),r.default.effectScaleOption(this._gameManager.hint,.7),this._gameManager.setShowHint(!0),this._gameManager.playDingAudio(),this._gameManager.showGuide(!0)),m.active=e,this._gameManager.hint.active=e},t.prototype.showFail=function(){var e=this;console.log("Game failed"),console.log("On end level fail",this.levelCurrent+1),v.default.getInstance().isHasTiniApp()&&v.default.getInstance().sendMessageToTiniApp({api:"reportAnalytics",params:{event:"level_end",data:{level_name:"Level "+(this.levelCurrent+1),success:!1,user_id:this._gameManager.userTiki.customerId}}}),c.default.logFailed(this.levelCurrent,this.stageCurrent,this.selected),this._gameManager.setGuide("focusOpt"),cc.audioEngine.stopAllEffects(),C(this.node).call(function(){e.lupin.timeScale=0;for(var t=0,n=e.otherSpine;t<n.length;t++)n[t].timeScale=0;r.default.showX(e.selected,e.getLineCurrent())}).delay(1).call(function(){e.scheduleOnce(function(){e._gameManager.playSound(l.SOUND.FAIL_STAGE,!1)},.15),e._gameManager.btnSetting.active=!1,e.lupin.timeScale=0;for(var t=0,n=e.otherSpine;t<n.length;t++)n[t].timeScale=0;r.default.effectFail(),r.default.showUI(!1),e._gameManager._ui.showGameOver(!0)}).delay(3).call(function(){p.default.getInstance().showInterestialAds(function(t){try{if(t){console.log("ADS: "+t.message);var n=f.EGAAdError.Unknown;"ADS_NOT_LOADED"!==t.code&&"RATE_LIMITED"!==t.code||(n=f.EGAAdError.NoFill),c.default.logErrorInterestialAds(n)}else c.default.logShowInterestialAds()}catch(o){c.default.logError("#LB1 - "+o)}r.default.hideScene(s.default.sendRequestReset,e.node)})}).start()},t.prototype.showSuccess=function(){var e=this;c.default.logPassed(this.levelCurrent,this.stageCurrent,this.selected),cc.audioEngine.stopAllEffects(),C(this.node).call(function(){r.default.showTick(e.selected,e.getLineCurrent())}).delay(1).call(function(){e.scheduleOnce(function(){e._gameManager.playSound(l.SOUND.SUCCESS_LEVEL,!1),s.default.sendRequestResult(e.node)},.2),e._gameManager.btnSetting.active=!1,r.default.showUI(!1),e.lupin.timeScale=0;for(var t=0,n=e.otherSpine;t<n.length;t++)n[t].timeScale=0}).start(),this._gameManager.setGuide("final"),this.scheduleOnce(function(){e._gameManager.showGuide(!0),e._gameManager.setGuide("hint")},4)},t.prototype.setCamera=function(e,t,n){e.active=!0,e.position=cc.v3(t),e.getComponent(cc.Camera).zoomRatio=n},t.prototype.stopAction=function(){for(var e=0,t=this.otherSpine;e<t.length;e++)t[e].timeScale=0},t.prototype.setTimeScaleAllSpine=function(e){for(var t=0,n=this.otherSpine;t<n.length;t++)n[t].timeScale=e;this.lupin.timeScale=e},t.prototype.onContinue=function(){this._gameManager.mainCamera.active=!0,this._gameManager._ui.showUIContinue(!0,this.adsText),this._gameManager.showFreeSave()},t.prototype.playStageBegin=function(){if("GameContainer"!=this.node.parent.name)for(var e=0,t=this.node.parent.children;e<t.length;e++)t[e].active=!1;var n=this.getBeginSceen();n&&(n.active=!0,!this._gameManager.isTutorial&&this._gameManager.showUiInGame(!1),"GameContainer"==this.node.parent.name?this.initStage():this.background.active=!0,this._gameManager.isTutorial&&this.startGame())},t.prototype.setBeginSceen=function(e){this._gameManager._beginScene=e},t.prototype.getBeginSceen=function(){return this._gameManager._beginScene},t.prototype.setLevel=function(e,t){this._gameManager.setLevel(e,t)},t.prototype.createLineStage=function(e){var t=cc.find("Canvas/Level");t.getChildByName("Start").zIndex=cc.macro.MIN_ZINDEX,t.getChildByName("Current").zIndex=cc.macro.MAX_ZINDEX;for(var n=0;n<e;++n){var o=void 0;(o=this._line.size()>0?this._line.get():cc.instantiate(this.line)).zIndex=0+n,cc.find("Canvas/Level").addChild(o)}},t.prototype.removeLineStage=function(){for(var e=cc.find("Canvas/Level").children,t=0;t<e.length;++t){var n=e[t];if("Start"!=n.name&&"Current"!=n.name){for(var o=0,i=n.children;o<i.length;o++)i[o].active=!1;this._line.put(n),--t}}},t.prototype.resultLineStage=function(){for(var e=cc.find("Canvas/Level"),t=0,n=1;n<e.children.length-1;++n)"Line"==e.children[n].name&&t<this.stageCurrent&&(++t,e.children[n].getChildByName("TrueAnswer").active=!0)},t.prototype.getLineCurrent=function(){return cc.find("Canvas/Level").children[this.stageCurrent+1]},t.prototype.nextLevel=function(){var e=this;C(this.node).call(function(){r.default.showTick(e.selected,e.getLineCurrent())}).delay(1).call(function(){e.lupin.timeScale=0;for(var t=0,n=e.otherSpine;t<n.length;t++)n[t].timeScale=0;r.default.effectSuccess(),r.default.showUI(!1)}).delay(2).call(function(){s.default.sendRequestResult(e.node)}).start()},t.prototype.showContinue=function(){var e=this;c.default.logFailed(this.levelCurrent,this.stageCurrent,this.selected),cc.audioEngine.stopAllEffects(),this.lupin.timeScale=0,this.otherSpine.forEach(function(e){e.timeScale=0}),C(this.node).call(function(){r.default.showX(e.selected,e.getLineCurrent())}).delay(1).call(function(){e.scheduleOnce(function(){e._gameManager.playSound(l.SOUND.FAIL_STAGE,!1)},.15),r.default.effectFail(),r.default.showUI(!1),p.default.getInstance().showInterestialAds(function(t){try{if(t){console.log("ADS: "+t.message);var n=f.EGAAdError.Unknown;"ADS_NOT_LOADED"!==t.code&&"RATE_LIMITED"!==t.code||(n=f.EGAAdError.NoFill),c.default.logErrorInterestialAds(n)}else c.default.logShowInterestialAds()}catch(o){c.default.logError("#LB2 - "+o)}s.default.sendRequestContinue(e.node)})}).start()},t.prototype.onPass=function(){var e=this;c.default.logPassed(this.levelCurrent,this.stageCurrent,this.selected),cc.audioEngine.stopAllEffects(),C(this.node).call(function(){r.default.showTick(e.selected,e.getLineCurrent()),e._gameManager.playSound(l.SOUND.SUCCESS_STAGE,!1)}).delay(1).call(function(){C(e.shadow).to(.5,{opacity:255}).call(function(){p.default.getInstance().showInterestialAds(function(t){try{if(t){console.log("ADS: "+t.message);var n=f.EGAAdError.Unknown;"ADS_NOT_LOADED"!==t.code&&"RATE_LIMITED"!==t.code||(n=f.EGAAdError.NoFill),c.default.logErrorInterestialAds(n)}else c.default.logShowInterestialAds()}catch(o){c.default.logError("#LB3 - "+o)}s.default.sendRequestNextStage(e.node)})}).start(),e._gameManager.btnSetting.active=!1,e.lupin.timeScale=0,e.otherSpine.forEach(function(e){e.timeScale=0}),e.showOptionContainer(!1)}).to(.5,{opacity:255}).start()},t.prototype.showComingSoon=function(){var e=this;this.resetUIResult(),this._gameManager.playSound(l.SOUND.SUCCESS_LEVEL,!1),r.default.showTick(this.selected,this.getLineCurrent()),++this._gameManager._levelCurrent.level,this._gameManager._levelCurrent.level>this._gameManager._data.unlockedLevel&&(this._gameManager._data.unlockedLevel=this._gameManager._levelCurrent.level,u.default.saveData(this._gameManager._data,u.default.getDataKey()),u.default.saveData(this._gameManager._data,u.default.FIREBASE_KEY),u.default.getData(u.default.getDataKey(),function(t,n){n.unlockedLevel=e._gameManager._data.unlockedLevel,u.default.saveData(n,u.default.getDataKey())})),this._gameManager.btnSetting.active=!1,this._gameManager._ui.showComingSoon()},t.prototype.playSound=function(e,t,n){var o=this;u.default.getData(u.default.getDataKey(),function(i,a){a.isSound&&o.scheduleOnce(function(){cc.audioEngine.playEffect(o.sounds[e],t)},n)})},t.prototype.playMusic=function(e,t,n){var o=this;if(void 0===t&&(t=!0),void 0===n&&(n=0),-1===e){if(-1===this._musicId)return;e=this._musicId}else this._musicId=e;u.default.getData(u.default.getDataKey(),function(i,a){a.isMusic&&o.scheduleOnce(function(){o._gameManager.stopAudioBG(),cc.audioEngine.playMusic(o.sounds[e],t)},n)})},t.prototype.stopMusic=function(){-1!==this._musicId&&(cc.audioEngine.stopMusic(),this._gameManager.playAudioBG())},t.prototype.getSkeleton=function(e,t){return this._gameManager.getSkeletonResource(e,t)},t.prototype.loadNextStage=function(){var e=this;if(this.next){var t="Level"+(this.levelCurrent+1),n=t+"_"+this.next;d.default.getInstance().getResource(t,n,cc.Prefab,function(t,o){if(t)return console.log("next "+n+" fail",t);e._gameManager.loadSkeletonPrefab(o.data.getComponent(""+n),function(){e._next=cc.instantiate(o),e._next.active=!1,e.node.parent.addChild(e._next)})})}},t.prototype.runRightOption=function(){var e="option"+b[this.levelCurrent][this.stageCurrent];switch(m.children.forEach(function(e){e.getChildByName("selected").active=!0}),this._gameManager.setShowHint(!1),e){case"option1":this.selected=0,m.getChildByName("option1").getChildByName("selected").active=!1,this.runOption1();break;case"option2":this.selected=1,m.getChildByName("option2").getChildByName("selected").active=!1,this.runOption2();break;case"option3":this.selected=2,m.getChildByName("option3").getChildByName("selected").active=!1,this.runOption3();break;default:cc.error("Khong co case phu hop!")}},t.spinesRequired=[],a([y],t.prototype,"levelCurrent",void 0),a([y],t.prototype,"numberStage",void 0),a([y],t.prototype,"stageCurrent",void 0),a([y(cc.Node)],t.prototype,"sceneBegin",void 0),a([y([cc.Prefab])],t.prototype,"sceneOption0",void 0),a([y([cc.Prefab])],t.prototype,"sceneOption1",void 0),a([y([cc.Prefab])],t.prototype,"sceneOption2",void 0),a([y(cc.Node)],t.prototype,"background",void 0),a([y(cc.Prefab)],t.prototype,"line",void 0),a([y(sp.Skeleton)],t.prototype,"lupin",void 0),a([y([sp.Skeleton])],t.prototype,"otherSpine",void 0),a([y([cc.Sprite])],t.prototype,"otherSprite",void 0),a([y([cc.SpriteFrame])],t.prototype,"iconOption",void 0),a([y(cc.Prefab)],t.prototype,"fishSwim",void 0),a([y([cc.AudioClip])],t.prototype,"sounds",void 0),a([y(cc.Node)],t.prototype,"camera2d",void 0),a([h],t)}(cc.Component);n.default=S,cc._RF.pop()},{"./AdsManager":"AdsManager","./Analytics":"Analytics","./BundleManager":"BundleManager","./Data":"Data","./EffectManager":"EffectManager","./EventManager":"EventManager","./GameManager":"GameManager","./TiniController":"TiniController"}],LevelController:[function(e,t,n){"use strict";cc._RF.push(t,"6197e/VHQpPtbSIrhBevAtS","LevelController");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stage=[],t.stageBegin=null,t.numberStage=0,t.topContainer=null,t.itemStage=null,t}return i(t,e),t.prototype.onLoad=function(){this.initTopContainer()},t.prototype.onEnable=function(){this.stageBegin.getComponent("StageController").runStage()},t.prototype.initTopContainer=function(){for(var e=0;e<this.numberStage;++e){var t=cc.instantiate(this.itemStage);t.name=(e+1).toString(),this.topContainer.addChild(t)}this.topContainer.getChildByName("Next").zIndex=cc.macro.MAX_ZINDEX},a([c({type:cc.Component.EventHandler})],t.prototype,"stage",void 0),a([c(cc.Node)],t.prototype,"stageBegin",void 0),a([c],t.prototype,"numberStage",void 0),a([c(cc.Node)],t.prototype,"topContainer",void 0),a([c(cc.Prefab)],t.prototype,"itemStage",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],ListLevel:[function(e,t,n){"use strict";cc._RF.push(t,"ecffeOqxSREMo+xDLR9m1qE","ListLevel");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../Data"),s=e("../EffectManager"),c=e("./NewClickItem"),l=cc._decorator,u=l.ccclass,d=l.property,p=cc.tween,f=null,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.pageView=null,t.page=null,t.unlock=null,t.lock=null,t.current=null,t.shadow=null,t.container=null,t.smallItem=null,t.bigItem=null,t.icon=[],t}return i(t,e),t.prototype.onLoad=function(){this.initItem(),f=cc.find("Canvas/GameManager").getComponent("GameManager"),cc.find("Canvas/UI").getComponent("UIController"),this.shadow.opacity=0,this.container.opacity=0,r.default.getData(r.default.FACEBOOK_KEY,function(e,t){f._selectedLevel=t.unlockedLevel})},t.prototype.onEnable=function(){this.node.on("click_item",this.onClickItem,this),this.effectOpen(),this.setStatus();var e=this.container.getChildByName("List").getComponent(cc.PageView);if(f._levelCurrent){var t=Math.floor((f._levelCurrent.level+1)/10);e.setCurrentPageIndex(t)}else e.setCurrentPageIndex(0)},t.prototype.onDisable=function(){this.node.off("click_item",this.onClickItem,this),this.unschedule(this._close)},t.prototype.initItem=function(){for(var e,t=cc.instantiate(this.page),n=0,o=0;o<30;++o){(e=(o+1)%10==0?cc.instantiate(this.bigItem):cc.instantiate(this.smallItem)).children[0].getComponent(cc.Sprite).spriteFrame=this.icon[o];var i=e.getComponent("NewClickItem");if(i.tick.active=!1,i.setLevel(o+1),i.setStatus(c.STATUS.LOCK),t.addChild(e),10==++n&&(this.content.addChild(t),t=cc.instantiate(this.page),n=0,29==o))return}this.content.addChild(t)},t.prototype.setStatus=function(){var e=this;r.default.getData(r.default.FACEBOOK_KEY,function(t,n){var o=n.unlockedLevel+1;if(0==Math.floor(o/10))for(var i=0;i<o;++i)(u=(l=e.content.children[0].children[i]).getComponent("NewClickItem")).isClick=!0,i==o-1?(u.setStatus(c.STATUS.CURRENT),u.tick.active=!1):(u.setStatus(c.STATUS.UNLOCK),u.tick.active=!0);else for(var a=0,r=0;r<o;){var l,u;if((u=(l=e.content.children[a].children[r]).getComponent("NewClickItem")).isClick=!0,10*a+r==o-1)return s.default.scaleForever(l,.95,1.05,.7),u.setStatus(c.STATUS.CURRENT),void(u.tick.active=!1);r!=o-1&&(u.setStatus(c.STATUS.UNLOCK),u.tick.active=!0),10==++r&&(++a,r=0)}})},t.prototype.effectOpen=function(){var e=this;p(this.shadow).to(.2,{opacity:200}).call(function(){p(e.container).parallel(p().to(.2,{opacity:255}),p().to(.2,{scale:1},{easing:"quartOut"})).start()}).start()},t.prototype.effectClose=function(e){p(this.shadow).to(.2,{opacity:0}).start(),p(this.container).parallel(p().to(.2,{opacity:0}),p().to(.2,{scale:.7},{easing:"quartOut"})).call(e).start()},t.prototype.onClose=function(){var e=this;cc.find("Canvas/GameManager").getComponent("GameManager").playClickAudio(),this.effectClose(function(){e.node.active=!1}),this._close=function(){this.node.active=!1},this.scheduleOnce(this._close,.3)},t.prototype.onClickItem=function(e){var t=e.level;f.selectLevel(t),this.onClose()},t.prototype.previousPage=function(){var e=this.pageView.getCurrentPageIndex();e-1<0||this.pageView.setCurrentPageIndex(e-1)},t.prototype.nextPage=function(){var e=this.pageView.getCurrentPageIndex();this.pageView.setCurrentPageIndex(e+1)},t.prototype.initItemNew=function(){},a([d(cc.Node)],t.prototype,"content",void 0),a([d(cc.PageView)],t.prototype,"pageView",void 0),a([d(cc.Prefab)],t.prototype,"page",void 0),a([d(cc.SpriteFrame)],t.prototype,"unlock",void 0),a([d(cc.SpriteFrame)],t.prototype,"lock",void 0),a([d(cc.SpriteFrame)],t.prototype,"current",void 0),a([d(cc.Node)],t.prototype,"shadow",void 0),a([d(cc.Node)],t.prototype,"container",void 0),a([d(cc.Prefab)],t.prototype,"smallItem",void 0),a([d(cc.Prefab)],t.prototype,"bigItem",void 0),a([d(cc.SpriteFrame)],t.prototype,"icon",void 0),a([u],t)}(cc.Component);n.default=v,cc._RF.pop()},{"../Data":"Data","../EffectManager":"EffectManager","./NewClickItem":"NewClickItem"}],Loading:[function(e,t,n){"use strict";cc._RF.push(t,"2cb26ahkbZPCrGfz6CL5SeY","Loading");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dot=[],t}return i(t,e),t.prototype.onEnable=function(){for(var e=0,t=this.dot;e<t.length;e++)t[e].y=0;this.action()},t.prototype.onDisable=function(){for(var e=0,t=this.dot;e<t.length;e++){var n=t[e];cc.Tween.stopAllByTarget(n)}},t.prototype.action=function(){cc.tween(this.dot[0]).repeatForever(cc.tween().by(.2,{position:cc.v3(0,30)},{easing:"cubicIn"}).by(.2,{position:cc.v3(0,-30)},{easing:"cubicOut"}).delay(.5)).start(),cc.tween(this.dot[1]).delay(.15).repeatForever(cc.tween().by(.2,{position:cc.v3(0,30)},{easing:"cubicIn"}).by(.2,{position:cc.v3(0,-30)},{easing:"cubicOut"}).delay(.5)).start(),cc.tween(this.dot[2]).delay(.3).repeatForever(cc.tween().by(.2,{position:cc.v3(0,30)},{easing:"cubicIn"}).by(.2,{position:cc.v3(0,-30)},{easing:"cubicOut"}).delay(.5)).start()},a([c(cc.Node)],t.prototype,"dot",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],Locale:[function(e,t,n){"use strict";cc._RF.push(t,"a9be4VXzj5NbKoKX844jD5I","Locale");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,r=(i.property,function(){function e(){}var t;return t=e,e.setLocale=function(e){["en_GB","en_PI","en_UD","en_US","en_VN"].includes(e)&&(e="EN"),["zh_CN","zh_HK","zh_TW"].includes(e)&&(e="CN"),["ja_JP","ja_KS"].includes(e)&&(e="JP"),["es_ES","es_LA","es_MX"].includes(e)&&(e="ES"),["pt_BR","pt_PT"].includes(e)&&(e="PT"),Object.keys(s).includes(e)||(e="EN"),t.locale=e},e.getLocale=function(){return t.locale},e.getText=function(e){return s[t.locale][e.toLowerCase()]},e.locale="EN",t=o([a],e)}());n.default=r;var s={EN:{completed:"completed",next:"next",level:"level",levels:"levels","tap to start":"tap to start",setting:"setting",sound:"sound",music:"music","select level":"select level",continue:"continue",guideoption:"Oh No! Lupin's lover has been kidnapped! Choose 1 of the options below to help him chase the kidnapper!",guidefocusopt:"Hm! Looks like our previous selection was incorrect. Let's choose the other one.",guidefinal:"Wow! Looks like we'll catch up. Let's continue to explore the rest of the story.",guidefreesave:"Oh No! Looks like the last choice was incorrect. Save Lupin or we will have to start over from the beginning of the level.",guidehint:"If you just want to pass, then use hints to help you through."},vi_VN:{completed:"ho\xe0n th\xe0nh",next:"ti\u1ebfp",level:"level",levels:"levels","tap to start":"b\u1ea5m \u0111\u1ec3 ch\u01a1i",setting:"c\xe0i \u0111\u1eb7t",sound:"\xe2m thanh",music:"\xe2m nh\u1ea1c","select level":"ch\u1ecdn level",continue:"ti\u1ebfp t\u1ee5c",guideoption:"\xd4i kh\xf4ng! Ng\u01b0\u1eddi y\xeau c\u1ee7a Lupin \u0111\xe3 b\u1ecb b\u1eaft c\xf3c! H\xe3y ch\u1ecdn 1 trong c\xe1c ph\u01b0\u01a1ng \xe1n d\u01b0\u1edbi \u0111\xe2y \u0111\u1ec3 gi\xfap anh \u1ea5y \u0111u\u1ed5i theo k\u1ebb b\u1eaft c\xf3c!",guidefocusopt:"H\u1eebm! C\xf3 v\u1ebb nh\u01b0 l\u1ef1a ch\u1ecdn tr\u01b0\u1edbc \u0111\xf3 c\u1ee7a ch\xfang ta kh\xf4ng ch\xednh x\xe1c. H\xe3y ch\u1ecdn c\xe1i c\xf2n l\u1ea1i xem sao.",guidefinal:"\u1ed2! C\xf3 v\u1ebb nh\u01b0 ch\xfang ta s\u1ebd b\u1eaft k\u1ecbp. H\xe3y ti\u1ebfp t\u1ee5c kh\xe1m ph\xe1 ph\u1ea7n c\xf2n l\u1ea1i c\u1ee7a c\xe2u chuy\u1ec7n nh\xe9.",guidefreesave:"\xd4i kh\xf4ng! C\xf3 v\u1ebb nh\u01b0 l\u1ef1a ch\u1ecdn cu\u1ed1i c\xf9ng kh\xf4ng ch\xednh x\xe1c. H\xe3y gi\xfap Lupin n\u1ebfu kh\xf4ng ch\xfang ta s\u1ebd ph\u1ea3i b\u1eaft \u0111\u1ea7u l\u1ea1i t\u1eeb \u0111\u1ea7u level.",guidehint:"N\u1ebfu b\u1ea1n ch\u1ec9 mu\u1ed1n qua m\xe0n th\xec h\xe3y s\u1eed d\u1ee5ng g\u1ee3i \xfd."},fr_FR:{completed:"compl\xe9t\xe9",next:"suivant",level:"niveau",levels:"les niveaux","tap to start":"Appuyez pour commencer",setting:"r\xe9glage",sound:"sonner",music:"musique","select level":"Choisir le niveau",continue:"Continuez",guideoption:"Oh non! L'amant de Lupin a \xe9t\xe9 kidnapp\xe9 ! Choisissez l'une des options ci-dessous pour l'aider \xe0 chasser le kidnappeur\xa0!",guidefocusopt:"Hum\xa0! On dirait que notre s\xe9lection pr\xe9c\xe9dente \xe9tait incorrecte. Choisissons l'autre.",guidefinal:"Wow! On dirait que nous allons nous rattraper. Continuons \xe0 explorer le reste de l'histoire.",guidefreesave:"Oh non! On dirait que le dernier choix \xe9tait incorrect. Sauvez Lupin ou nous devrons recommencer depuis le d\xe9but du niveau.",guidehint:"Si vous voulez juste r\xe9ussir, utilisez des astuces pour vous aider."},de_DE:{completed:"abgeschlossen",next:"N\xe4chster",level:"Niveau",levels:"Ebenen","tap to start":"Tippe, um zu starten",setting:"Rahmen",sound:"Klang",music:"Musik-","select level":"Stufe ausw\xe4hlen",continue:"fortsetzen",guideoption:"Ach nein! Lupins Geliebter wurde entf\xfchrt! W\xe4hle eine der folgenden Optionen, um ihm bei der Verfolgung des Entf\xfchrers zu helfen!",guidefocusopt:"Hm! Anscheinend war unsere vorherige Auswahl falsch. W\xe4hlen wir das andere.",guidefinal:"Beeindruckend! Sieht so aus, als w\xfcrden wir aufholen. Lassen Sie uns den Rest der Geschichte weiter erkunden.",guidefreesave:"Ach nein! Sieht so aus, als ob die letzte Wahl falsch war. Rette Lupin oder wir m\xfcssen von vorne anfangen.",guidehint:"Wenn Sie nur bestehen m\xf6chten, verwenden Sie Hinweise, die Ihnen helfen."},th_TH:{completed:"\u0e40\u0e2a\u0e23\u0e47\u0e08\u0e41\u0e25\u0e49\u0e27",next:"\u0e15\u0e48\u0e2d\u0e44\u0e1b",level:"\u0e23\u0e30\u0e14\u0e31\u0e1a",levels:"\u0e23\u0e30\u0e14\u0e31\u0e1a","tap to start":"\u0e41\u0e15\u0e30\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e40\u0e23\u0e34\u0e48\u0e21",setting:"\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32",sound:"\u0e40\u0e2a\u0e35\u0e22\u0e07",music:"\u0e40\u0e1e\u0e25\u0e07","select level":"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e30\u0e14\u0e31\u0e1a",continue:"\u0e15\u0e48\u0e2d",guideoption:"\u0e44\u0e21\u0e48\u0e19\u0e30! \u0e04\u0e19\u0e23\u0e31\u0e01\u0e25\u0e39\u0e1b\u0e34\u0e19\u0e42\u0e14\u0e19\u0e25\u0e31\u0e01\u0e1e\u0e32\u0e15\u0e31\u0e27! \u0e40\u0e25\u0e37\u0e2d\u0e01 1 \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e14\u0e49\u0e32\u0e19\u0e25\u0e48\u0e32\u0e07\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e0a\u0e48\u0e27\u0e22\u0e40\u0e02\u0e32\u0e44\u0e25\u0e48\u0e15\u0e32\u0e21\u0e1c\u0e39\u0e49\u0e25\u0e31\u0e01\u0e1e\u0e32\u0e15\u0e31\u0e27!",guidefocusopt:"\u0e2d\u0e37\u0e21! \u0e14\u0e39\u0e40\u0e2b\u0e21\u0e37\u0e2d\u0e19\u0e27\u0e48\u0e32\u0e01\u0e32\u0e23\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e01\u0e48\u0e2d\u0e19\u0e2b\u0e19\u0e49\u0e32\u0e19\u0e35\u0e49\u0e02\u0e2d\u0e07\u0e40\u0e23\u0e32\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07 \u0e21\u0e32\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e2d\u0e31\u0e19\u0e2d\u0e37\u0e48\u0e19\u0e01\u0e31\u0e19\u0e40\u0e16\u0e2d\u0e30",guidefinal:"\u0e27\u0e49\u0e32\u0e27! \u0e14\u0e39\u0e40\u0e2b\u0e21\u0e37\u0e2d\u0e19\u0e40\u0e23\u0e32\u0e08\u0e30\u0e17\u0e31\u0e19 \u0e21\u0e32\u0e2a\u0e33\u0e23\u0e27\u0e08\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e23\u0e32\u0e27\u0e17\u0e35\u0e48\u0e40\u0e2b\u0e25\u0e37\u0e2d\u0e01\u0e31\u0e19\u0e15\u0e48\u0e2d\u0e44\u0e1b",guidefreesave:"\u0e44\u0e21\u0e48\u0e19\u0e30! \u0e14\u0e39\u0e40\u0e2b\u0e21\u0e37\u0e2d\u0e19\u0e27\u0e48\u0e32\u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e2a\u0e38\u0e14\u0e17\u0e49\u0e32\u0e22\u0e08\u0e30\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07 \u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e25\u0e39\u0e1b\u0e34\u0e19\u0e2b\u0e23\u0e37\u0e2d\u0e40\u0e23\u0e32\u0e08\u0e30\u0e15\u0e49\u0e2d\u0e07\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19\u0e43\u0e2b\u0e21\u0e48\u0e15\u0e31\u0e49\u0e07\u0e41\u0e15\u0e48\u0e15\u0e49\u0e19\u0e23\u0e30\u0e14\u0e31\u0e1a",guidehint:"\u0e2b\u0e32\u0e01\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e1c\u0e48\u0e32\u0e19 \u0e43\u0e2b\u0e49\u0e43\u0e0a\u0e49\u0e04\u0e33\u0e43\u0e1a\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e0a\u0e48\u0e27\u0e22\u0e04\u0e38\u0e13\u0e1c\u0e48\u0e32\u0e19"},id_ID:{completed:"lengkap",next:"lanjut",level:"tingkat",levels:"level","tap to start":"ketuk untuk memulai",setting:"pengaturan",sound:"suara",music:"musik","select level":"Pilih tingkat",continue:"terus",guideoption:"Oh tidak! Kekasih Lupin telah diculik! Pilih 1 dari opsi di bawah ini untuk membantunya mengejar si penculik!",guidefocusopt:"Hm! Sepertinya pilihan kami sebelumnya salah. Ayo pilih yang lain.",guidefinal:"Wow! Sepertinya kita akan menyusul. Mari kita lanjutkan menjelajahi sisa cerita.",guidefreesave:"Oh tidak! Sepertinya pilihan terakhir salah. Simpan Lupin atau kita harus memulai dari awal level.",guidehint:"Jika Anda hanya ingin lulus, gunakan petunjuk untuk membantu Anda."},ko_KR:{completed:"\uc644\ub8cc",next:"\ub2e4\uc74c",level:"\uc218\ud3c9",levels:"\ub808\ubca8","tap to start":"\ud0ed\ud558\uc5ec \uc2dc\uc791",setting:"\ud658\uacbd",sound:"\uc18c\ub9ac",music:"\uc74c\uc545","select level":"\ub808\ubca8 \uc120\ud0dd",continue:"\uacc4\uc18d\ud558\ub2e4",guideoption:"\uc548 \ub3fc! \ub8e8\ud321\uc758 \uc5f0\uc778\uc774 \ub0a9\uce58\ub418\uc5c8\uc2b5\ub2c8\ub2e4! \ub0a9\uce58\ubc94\uc744 \ucad3\ub294 \ub370 \ub3c4\uc6c0\uc774 \ub418\ub294 \uc635\uc158 \uc911 \ud558\ub098\ub97c \uc120\ud0dd\ud558\uc138\uc694!",guidefocusopt:"\ud760! \uc774\uc804 \uc120\ud0dd\uc774 \uc798\ubabb\ub41c \uac83 \uac19\uc2b5\ub2c8\ub2e4. \ub2e4\ub978 \ud558\ub098\ub97c \uc120\ud0dd\ud569\uc2dc\ub2e4.",guidefinal:"\uc640! \ub530\ub77c\uc7a1\uc744 \uac83 \uac19\uc2b5\ub2c8\ub2e4. \ub098\uba38\uc9c0 \uc774\uc57c\uae30\ub97c \uacc4\uc18d \ud0d0\uc0c9\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4.",guidefreesave:"\uc548 \ub3fc! \ub9c8\uc9c0\ub9c9 \uc120\ud0dd\uc774 \uc798\ubabb\ub41c \uac83 \uac19\uc2b5\ub2c8\ub2e4. Lupine\uc744 \uad6c\ud558\uc9c0 \uc54a\uc73c\uba74 \ub808\ubca8\uc758 \ucc98\uc74c\ubd80\ud130 \ub2e4\uc2dc \uc2dc\uc791\ud574\uc57c \ud569\ub2c8\ub2e4.",guidehint:"\uadf8\ub0e5 \ud1b5\uacfc\ud558\uace0 \uc2f6\ub2e4\uba74 \ud78c\ud2b8\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud1b5\uacfc\ud558\uc2ed\uc2dc\uc624."},CN:{completed:"\u5b8c\u5168\u7684",next:"\u4e0b\u4e00\u4e2a",level:"\u7b49\u7ea7",levels:"\u6c34\u5e73","tap to start":"\u70b9\u51fb\u5f00\u59cb",setting:"\u73af\u5883",sound:"\u58f0\u97f3",music:"\u97f3\u4e50","select level":"\u9009\u62e9\u7ea7\u522b",continue:"\u7ee7\u7eed",guideoption:"\u4e0d\u597d\u4e86\uff01 \u5362\u5e73\u7684\u60c5\u4eba\u88ab\u7ed1\u67b6\u4e86\uff01 \u9009\u62e9\u4ee5\u4e0b\u9009\u9879\u4e4b\u4e00\u6765\u5e2e\u52a9\u4ed6\u8ffd\u6355\u7ed1\u532a\uff01",guidefocusopt:"\u55ef\uff01 \u770b\u8d77\u6765\u6211\u4eec\u4e4b\u524d\u7684\u9009\u62e9\u4e0d\u6b63\u786e\u3002 \u8ba9\u6211\u4eec\u9009\u62e9\u53e6\u4e00\u4e2a\u3002",guidefinal:"\u54c7\uff01 \u770b\u6765\u6211\u4eec\u4f1a\u8d76\u4e0a\u7684\u3002 \u8ba9\u6211\u4eec\u7ee7\u7eed\u63a2\u7d22\u6545\u4e8b\u7684\u5176\u4f59\u90e8\u5206\u3002",guidefreesave:"\u4e0d\u597d\u4e86\uff01 \u770b\u8d77\u6765\u6700\u540e\u7684\u9009\u62e9\u662f\u9519\u8bef\u7684\u3002 \u62ef\u6551\u5362\u5e73\uff0c\u5426\u5219\u6211\u4eec\u5c06\u4e0d\u5f97\u4e0d\u4ece\u5173\u5361\u7684\u5f00\u5934\u91cd\u65b0\u5f00\u59cb\u3002",guidehint:"\u5982\u679c\u4f60\u53ea\u662f\u60f3\u901a\u8fc7\uff0c\u90a3\u4e48\u4f7f\u7528\u63d0\u793a\u6765\u5e2e\u52a9\u4f60\u901a\u8fc7\u3002"},JP:{completed:"\u5b8c\u4e86",next:"\u6b21",level:"\u30ec\u30d9\u30eb",levels:"\u30ec\u30d9\u30eb","tap to start":"\u30bf\u30c3\u30d7\u3057\u3066\u958b\u59cb",setting:"\u8a2d\u5b9a",sound:"\u97f3",music:"\u97f3\u697d","select level":"\u30ec\u30d9\u30eb\u3092\u9078\u629e",continue:"\u7d99\u7d9a\u3059\u308b",guideoption:"\u5927\u91ce\uff01 \u30eb\u30d1\u30f3\u306e\u604b\u4eba\u304c\u8a98\u62d0\u3055\u308c\u307e\u3057\u305f\uff01 \u5f7c\u304c\u8a98\u62d0\u72af\u3092\u8ffd\u3044\u304b\u3051\u308b\u306e\u3092\u52a9\u3051\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306e1\u3064\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\uff01",guidefocusopt:"\u3046\u30fc\u3093\uff01 \u4ee5\u524d\u306e\u9078\u629e\u304c\u6b63\u3057\u304f\u306a\u304b\u3063\u305f\u3088\u3046\u3067\u3059\u3002 \u3082\u30461\u3064\u9078\u3073\u307e\u3057\u3087\u3046\u3002",guidefinal:"\u308f\u304a\uff01 \u8ffd\u3044\u3064\u304f\u3088\u3046\u3067\u3059\u3002 \u7269\u8a9e\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3092\u63a2\u6c42\u3057\u7d9a\u3051\u307e\u3057\u3087\u3046\u3002",guidefreesave:"\u5927\u91ce\uff01 \u6700\u5f8c\u306e\u9078\u629e\u304c\u9593\u9055\u3063\u3066\u3044\u305f\u3088\u3046\u3067\u3059\u3002 \u30eb\u30d1\u30f3\u3092\u4fdd\u5b58\u3057\u306a\u3044\u3068\u3001\u30ec\u30d9\u30eb\u306e\u6700\u521d\u304b\u3089\u3084\u308a\u76f4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002",guidehint:"\u5408\u683c\u3057\u305f\u3044\u3060\u3051\u306e\u5834\u5408\u306f\u3001\u30d2\u30f3\u30c8\u3092\u4f7f\u7528\u3057\u3066\u5408\u683c\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},ES:{completed:"terminado",next:"Siguiente",level:"nivel",levels:"niveles","tap to start":"toque para comenzar",setting:"configuraci\xf3n",sound:"sonar",music:"m\xfasica","select level":"selecciona el nivel",continue:"Seguir",guideoption:"\xa1Oh, no! \xa1El amante de Lupin ha sido secuestrado! \xa1Elige una de las siguientes opciones para ayudarlo a perseguir al secuestrador!",guidefocusopt:"\xa1Hm! Parece que nuestra selecci\xf3n anterior era incorrecta. Elijamos el otro.",guidefinal:"\xa1Guau! Parece que nos pondremos al d\xeda. Continuemos explorando el resto de la historia.",guidefreesave:"\xa1Oh, no! Parece que la \xfaltima opci\xf3n fue incorrecta. Salva a Lupin o tendremos que empezar de nuevo desde el principio del nivel.",guidehint:"Si solo quiere aprobar, utilice las sugerencias que le ayudar\xe1n a superarlo."},PT:{completed:"completado",next:"Next",level:"n\xedvel",levels:"n\xedveis","tap to start":"Clique para come\xe7ar",setting:"contexto",sound:"som",music:"m\xfasica","select level":"selecione o n\xedvel",continue:"Prosseguir",guideoption:"Ah n\xe3o! O amante de Lupin foi sequestrado! Escolha uma das op\xe7\xf5es abaixo para ajud\xe1-lo a perseguir o sequestrador!",guidefocusopt:"Hm! Parece que nossa sele\xe7\xe3o anterior estava incorreta. Vamos escolher o outro.",guidefinal:"Uau! Parece que vamos alcan\xe7\xe1-lo. Vamos continuar a explorar o resto da hist\xf3ria.",guidefreesave:"Ah n\xe3o! Parece que a \xfaltima escolha estava incorreta. Salve Lupin ou teremos que recome\xe7ar do in\xedcio do n\xedvel.",guidehint:"Se voc\xea quer apenas passar, use as dicas para ajud\xe1-lo."},ar_AR:{completed:"\u0645\u0646\u062c\u0632",next:"\u0627\u0644\u062a\u0627\u0644\u064a",level:"\u0645\u0633\u062a\u0648\u0649",levels:"\u0627\u0644\u0645\u0633\u062a\u0648\u064a\u0627\u062a","tap to start":"\u0627\u0646\u0642\u0631 \u0644\u0644\u0628\u062f\u0621",setting:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a",sound:"\u064a\u0628\u062f\u0648",music:"\u0645\u0648\u0633\u064a\u0642\u0649","select level":"\u0627\u062e\u062a\u0627\u0631 \u0645\u0633\u062a\u0648\u0649",continue:"\u0627\u0633\u062a\u0645\u0631",guideoption:"\u0623\u0648\u0647 \u0644\u0627! \u062a\u0645 \u0627\u062e\u062a\u0637\u0627\u0641 \u062d\u0628\u064a\u0628 \u0644\u0648\u0628\u064a\u0646! \u0627\u062e\u062a\u0631 \u0623\u062d\u062f \u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a \u0623\u062f\u0646\u0627\u0647 \u0644\u0645\u0633\u0627\u0639\u062f\u062a\u0647 \u0641\u064a \u0645\u0637\u0627\u0631\u062f\u0629 \u0627\u0644\u062e\u0627\u0637\u0641!",guidefocusopt:"\u062d\u0633\u0646\u064b\u0627! \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u062e\u062a\u064a\u0627\u0631\u0646\u0627 \u0627\u0644\u0633\u0627\u0628\u0642 \u0643\u0627\u0646 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d. \u062f\u0639\u0648\u0646\u0627 \u0646\u062e\u062a\u0627\u0631 \u0627\u0644\u0622\u062e\u0631.",guidefinal:"\u0631\u0627\u0626\u0639! \u064a\u0628\u062f\u0648 \u0623\u0646\u0646\u0627 \u0633\u0646\u0644\u062d\u0642 \u0628\u0627\u0644\u0631\u0643\u0628. \u062f\u0639\u0646\u0627 \u0646\u0648\u0627\u0635\u0644 \u0627\u0633\u062a\u0643\u0634\u0627\u0641 \u0628\u0642\u064a\u0629 \u0627\u0644\u0642\u0635\u0629.",guidefreesave:"\u0623\u0648\u0647 \u0644\u0627! \u064a\u0628\u062f\u0648 \u0623\u0646 \u0627\u0644\u062e\u064a\u0627\u0631 \u0627\u0644\u0623\u062e\u064a\u0631 \u0643\u0627\u0646 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d. \u0627\u062d\u0641\u0638 \u0644\u0648\u0628\u064a\u0646 \u0648\u0625\u0644\u0627 \u0633\u064a\u062a\u0639\u064a\u0646 \u0639\u0644\u064a\u0646\u0627 \u0627\u0644\u0628\u062f\u0621 \u0645\u0646 \u062c\u062f\u064a\u062f \u0645\u0646 \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u0645\u0633\u062a\u0648\u0649.",guidehint:"\u0625\u0630\u0627 \u0643\u0646\u062a \u062a\u0631\u063a\u0628 \u0641\u064a \u0627\u0644\u0645\u0631\u0648\u0631 \u0641\u0642\u0637 \u060c \u0641\u0627\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u062a\u0644\u0645\u064a\u062d\u0627\u062a \u0644\u0645\u0633\u0627\u0639\u062f\u062a\u0643."},tr_TR:{completed:"Tamamland\u0131",next:"Sonraki",level:"seviye",levels:"seviyeler","tap to start":"Ba\u015flatmak i\xe7in dokunun",setting:"ayar",sound:"ses",music:"m\xfczik","select level":"Seviye se\xe7",continue:"devam et",guideoption:"Oh hay\u0131r! Lupin'in sevgilisi ka\xe7\u0131r\u0131ld\u0131! Adam ka\xe7\u0131ran\u0131 kovalamas\u0131na yard\u0131m etmek i\xe7in a\u015fa\u011f\u0131daki se\xe7eneklerden birini se\xe7in!",guidefocusopt:"Hm! G\xf6r\xfcn\xfc\u015fe g\xf6re \xf6nceki se\xe7imimiz yanl\u0131\u015ft\u0131. Di\u011ferini se\xe7elim.",guidefinal:"Vay! Yakalayaca\u011f\u0131z gibi g\xf6r\xfcn\xfcyor. Hikayenin geri kalan\u0131n\u0131 ke\u015ffetmeye devam edelim.",guidefreesave:"Oh hay\u0131r! G\xf6r\xfcn\xfc\u015fe g\xf6re son se\xe7im yanl\u0131\u015ft\u0131. Lupin'i kurtar\u0131n yoksa seviyenin ba\u015f\u0131ndan ba\u015flamak zorunda kalaca\u011f\u0131z.",guidehint:"Sadece ge\xe7mek istiyorsan\u0131z, size yard\u0131mc\u0131 olmas\u0131 i\xe7in ipu\xe7lar\u0131n\u0131 kullan\u0131n."}};cc._RF.pop()},{}],NewClickItem:[function(e,t,n){"use strict";cc._RF.push(t,"829a9uw8npBu6RdJBGkk5Vr","NewClickItem");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.STATUS=void 0;var r,s=cc._decorator,c=s.ccclass,l=s.property;(function(e){e[e.UNLOCK=0]="UNLOCK",e[e.LOCK=1]="LOCK",e[e.CURRENT=2]="CURRENT"})(r=n.STATUS||(n.STATUS={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tick=null,t.frame=null,t.bigNumber=null,t.smallNumber=null,t.image=[],t.isClick=!1,t._status=r.LOCK,t._count=0,t}return i(t,e),t.prototype.onLoad=function(){this._view=this.node.parent.parent.parent},t.prototype.onClick=function(){if(this.isClick){var e=new cc.Event.EventCustom("click_item",!0),t=this.node.parent.children.indexOf(this.node),n=this.node.parent.parent.children.indexOf(this.node.parent);e.level=10*n+t,this.node.dispatchEvent(e)}},t.prototype.setLevel=function(e){this.frame.node.getChildByName("smallNumber").getComponent(cc.Label).string=e,this.frame.node.getChildByName("bigNumber").getComponent(cc.Label).string=e},t.prototype.setStatus=function(e){switch(this._status=e,e){case r.UNLOCK:this.frame.spriteFrame=this.image[0],this.smallNumber.active=!0,this.bigNumber.active=!1,this.smallNumber.color=new cc.Color(255,255,255,255),this.smallNumber.getComponent(cc.LabelOutline).color=new cc.Color(40,40,40,102);break;case r.CURRENT:this.frame.spriteFrame=this.image[1],this.smallNumber.active=!1,this.bigNumber.active=!0,this.bigNumber.color=new cc.Color(255,255,255,255),this.bigNumber.getComponent(cc.LabelOutline).color=new cc.Color(83,44,0,102);break;case r.LOCK:this.frame.spriteFrame=this.image[2],this.smallNumber.active=!1,this.bigNumber.active=!0,this.bigNumber.color=new cc.Color(141,141,141,255),this.bigNumber.getComponent(cc.LabelOutline).color=new cc.Color(40,40,40,102)}},t.prototype.localConvertWorldPointAR=function(e){return e?e.convertToWorldSpaceAR(cc.v2(0,0)):null},t.prototype.worldConvertLocalPointAR=function(e,t){return e?e.convertToNodeSpaceAR(t):null},t.prototype.convetOtherNodeSpaceAR=function(e,t){if(!e||!t)return null;var n=this.localConvertWorldPointAR(e);return this.worldConvertLocalPointAR(t,n)},t.prototype.update=function(){var e=this.convetOtherNodeSpaceAR(this.node,this._view);"item1"==this.node.name?e.x<-500||e.x>500?this.node.opacity=0:this.node.opacity=255:e.x<-750||e.x>750?this.node.opacity=0:this.node.opacity=255},a([l(cc.Node)],t.prototype,"tick",void 0),a([l(cc.Sprite)],t.prototype,"frame",void 0),a([l(cc.Node)],t.prototype,"bigNumber",void 0),a([l(cc.Node)],t.prototype,"smallNumber",void 0),a([l([cc.SpriteFrame])],t.prototype,"image",void 0),a([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],Notification:[function(e,t,n){"use strict";cc._RF.push(t,"3bc37L3KwtG8K21z1sMKj3A","Notification");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.duration=0,t.delay=0,t}return i(t,e),t.prototype.onEnable=function(){var e=this;this.label.node.position=cc.v3(550,0),cc.tween(this.label.node).repeatForever(cc.tween().delay(Number(this.delay)).by(Number(this.duration),{position:cc.v3(-2170,0)}).call(function(){e.label.node.position=cc.v3(550,0)})).start()},a([c(cc.Label)],t.prototype,"label",void 0),a([c()],t.prototype,"duration",void 0),a([c()],t.prototype,"delay",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],OptimizePageView:[function(e,t,n){"use strict";cc._RF.push(t,"a1781R//gFAbLVSqbJk3RZg","OptimizePageView");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.view=null,t.content=null,t}return i(t,e),t.prototype.update=function(){for(var e=cc.rect(0,-this.view.height/2,this.view.width,this.view.height),t=this.content.children,n=0;n<t.length;++n)for(var o=t[n].children,i=0;i<o.length;++i)e.intersects(o[i].getBoundingBox())?o[i].opacity=255:o[i].opacity=0},a([c(cc.Node)],t.prototype,"view",void 0),a([c(cc.Node)],t.prototype,"content",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],OptionController:[function(e,t,n){"use strict";cc._RF.push(t,"71cf6u8DwJMgKVm2Oh5+mKG","OptionController");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.option=[],t}return i(t,e),t.prototype.onDisable=function(){this.resetOption()},t.prototype.resetOption=function(){this.option.forEach(function(e){e.getChildByName("selected").active=!1,e.getChildByName("tick").active=!1,e.getChildByName("x").active=!1})},t.prototype.setOption=function(e,t,n,o){var i=new cc.Component.EventHandler;i.target=t,i.component=n,i.handler=o,this.option[e].getComponent(cc.Button).clickEvents=[],this.option[e].getComponent(cc.Button).clickEvents.push(i)},t.prototype.setImageOption=function(e){for(var t=0;t<e.length;++t)this.node.children[t].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e[t]},t.prototype.setDistance=function(e){var t=this.node.getComponent(cc.Layout);this.node.children.forEach(function(e){e.active=!1});for(var n=0;n<e;++n)this.node.children[n].active=!0;switch(e){case 2:t.spacingX=100;break;case 3:t.spacingX=30}},a([c(cc.Node)],t.prototype,"option",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],Setting:[function(e,t,n){"use strict";cc._RF.push(t,"5f46du+rlVPAasD8jvXHQxB","Setting");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Data"),s=cc._decorator,c=s.ccclass,l=s.property,u=cc.tween,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sound=null,t.music=null,t.shadow=null,t.container=null,t._data=null,t._gameManager=null,t}return i(t,e),t.prototype.onLoad=function(){this.shadow.opacity=0,this.container.scale=.7,this.container.opacity=0,this.node.zIndex=cc.macro.MAX_ZINDEX},t.prototype.onEnable=function(){var e=this;this.node.on("touchend",this.onClose,this),this.effectOpen(),this._gameManager=cc.find("Canvas/GameManager").getComponent("GameManager"),r.default.getData(r.default.getDataKey(),function(t,n){e._data=n,e.music.isChecked=e._data.isMusic,e.sound.isChecked=e._data.isSound})},t.prototype.onDisable=function(){this.node.off("touchend",this.onClose,this)},t.prototype.effectOpen=function(){var e=this;u(this.shadow).to(.2,{opacity:200}).call(function(){u(e.container).parallel(u().to(.2,{opacity:255}),u().to(.2,{scale:1},{easing:"quartOut"})).start()}).start()},t.prototype.effectClose=function(e){u(this.shadow).to(.2,{opacity:0}).start(),u(this.container).parallel(u().to(.2,{opacity:0}),u().to(.2,{scale:.7},{easing:"quartOut"})).call(e).start()},t.prototype.onClose=function(){var e=this;this.effectClose(function(){e.node.active=!1})},t.prototype.onChangeToggle=function(e){var t=this;switch(e.target.parent.name){case"ToggleSound":this._data.isSound=e.isChecked,r.default.getData(r.default.getDataKey(),function(e,n){n.isSound=t._data.isSound,r.default.saveData(n,r.default.getDataKey())});break;case"ToggleMusic":this._data.isMusic=e.isChecked,r.default.getData(r.default.getDataKey(),function(n,o){o.isMusic=t._data.isMusic,r.default.saveData(o,r.default.getDataKey(),function(){e.isChecked?t.playMusic():t.stopMusic()})})}},t.prototype.onRestoreSetting=function(){var e=this;this._data.isSound=!0,this._data.isMusic=!0,this.sound.isChecked=this._data.isSound,this.music.isChecked=this._data.isMusic,r.default.getData(r.default.getDataKey(),function(t,n){n.isMusic=e._data.isMusic,n.isSound=e._data.isSound,r.default.saveData(n,r.default.getDataKey())})},t.prototype.stopMusic=function(){this._gameManager.stopAudioBG(),this._gameManager._levelCurrent.script.stopMusic()},t.prototype.playMusic=function(){this._gameManager.playAudioBG(),this._gameManager._levelCurrent.script.playMusic(-1)},a([l(cc.Toggle)],t.prototype,"sound",void 0),a([l(cc.Toggle)],t.prototype,"music",void 0),a([l(cc.Node)],t.prototype,"shadow",void 0),a([l(cc.Node)],t.prototype,"container",void 0),a([c],t)}(cc.Component);n.default=d,cc._RF.pop()},{"./Data":"Data"}],StageController:[function(e,t,n){"use strict";cc._RF.push(t,"8b31aD44/JG9Z0G6p57oiui","StageController");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./EffectManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=[],t.iconOption=[],t.optionContainer=null,t.stageStart=null,t.topContainer=null,t._=null,t.isClick=!1,t}return i(t,e),t.prototype.onLoad=function(){this._=this,this.optionContainer.scale=0},t.prototype.onEnable=function(){var e=this.optionContainer.getComponent("OptionController");e.setImageOption(this.iconOption);for(var t=0;t<e.node.children.length;++t)e.setOption(t,this.node,"StageController","runClip"),this.isClick=!0;this.setTopContainer()},t.prototype.runStage=function(){var e=this.stageStart.getComponent("ClipController");e.startClip(e)},t.prototype.showOptionContainer=function(){r.default.effectScaleOption(this.optionContainer,.5)},t.prototype.runClip=function(e){if(this.isClick){this.isClick=!1;var t=e.target;switch(t.getChildByName("selected").active=!0,t.name){case"option1":(n=this.target[0].getComponent("ClipController")).startClip(n);break;case"option2":(n=this.target[1].getComponent("ClipController")).startClip(n);break;case"option3":var n;(n=this.target[2].getComponent("ClipController")).startClip(n)}}else cc.error("Khong duoc click option lien tuc")},t.prototype.setTopContainer=function(){for(var e=parseInt(this.node.name.split("Stage")[1])-1,t=0;t<this.topContainer.children.length;++t){var n=this.topContainer.children[t].getChildByName((e-1).toString());n&&(n.getChildByName("TrueAnswer").active=!0)}},t.prototype.onResult=function(){cc.Tween.stopAll()},a([l({type:cc.Node})],t.prototype,"target",void 0),a([l(cc.SpriteFrame)],t.prototype,"iconOption",void 0),a([l(cc.Node)],t.prototype,"optionContainer",void 0),a([l({type:cc.Node})],t.prototype,"stageStart",void 0),a([l(cc.Node)],t.prototype,"topContainer",void 0),a([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./EffectManager":"EffectManager"}],TiniController:[function(e,t,n){"use strict";cc._RF.push(t,"9f4cc5kmN9NwIk06C+hjdr3","TiniController");var o=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var i=e("uuid"),a=cc._decorator,r=a.ccclass,s=(a.property,function(){function e(){this.callbacks={}}var t;return t=e,e.getInstance=function(){return t._instance?t._instance:(t._instance=new t,t._instance)},e.prototype.init=function(){var e=this;window.addEventListener("message",function(t){var n=t.data,o=n.requestId,i=n.result;if(void 0!==e.callbacks[o]){var a=e.callbacks[o];delete e.callbacks[o],a(i)}}),console.log("Add event listen success")},e.prototype.initDataUserTiki=function(){var e=this;return new Promise(function(t){e.isHasTiniApp()&&e.sendMessageToTiniApp({api:"getUserInfo"},function(n){e.userTiniInfo=n.res,t(!0)})})},e.prototype.sendMessageToTiniApp=function(e,t){var n=i.v4();this.callbacks[n]=t,my.postMessage({requestId:n,params:e})},e.prototype.isHasTiniApp=function(){try{return my}catch(e){}},e.prototype.getPlayerInfo=function(){var e=this;return new Promise(function(t){e.sendMessageToTiniApp({api:"getUserInfo"},function(e){t(e.res)})})},e.prototype.start=function(){},e.prototype.setStorage=function(e,t,n){my.setStorage({key:e,data:t,success:function(){n()}})},e.prototype.getStorage=function(e,t){my.getStorage({key:e,success:function(e){t(e)},fail:function(e){t(e)}})},e._instance=null,t=o([r],e)}());n.default=s,cc._RF.pop()},{uuid:2}],UIController:[function(e,t,n){"use strict";cc._RF.push(t,"13ff8fyyBBLrq0/rwHWYaVT","UIController");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./EffectManager"),s=e("./BundleManager"),c=e("./Locale"),l=cc._decorator,u=l.ccclass,d=l.property,p=cc.tween,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.background=null,t.levels=null,t.ads=null,t.next=null,t.tapToStart=null,t.setting=null,t.successful=null,t.gameOver=null,t.second=null,t.countDown=null,t.continue=null,t.comingSoon=null,t.alert=null,t.partical=null,t.background2=null,t.txtLevel=null,t.logo=null,t.share=null,t.invite=null,t.leaderboard=null,t._canShare=!0,t._canInvite=!0,t.uiHome=[],t.uiEndGame=[],t.uiContinue=[],t._gameManager=null,t}return i(t,e),t.prototype.onLoad=function(){this.background.zIndex=cc.macro.MIN_ZINDEX,this.uiEndGame=[this.next,this.successful,this.gameOver,this.share,this.invite,this.leaderboard],this.uiHome=[this.levels,this.tapToStart,this.setting,this.txtLevel],this.uiContinue=[this.ads,this.continue,this.countDown,this.second],this.node.zIndex=cc.macro.MAX_ZINDEX-2,this._gameManager=cc.find("Canvas/GameManager").getComponent("GameManager"),this._bundleInstance=s.default.getInstance(),this.logo=cc.find("Canvas/Logo"),this.setClickAds(),this.setClickLevels(),this.setClickTapToStart(),this.setClickNext(),this.setClickSetting(),this.setClickShare(),this.setClickInvite(),this.setLocaleText(),this._canShare=this._gameManager.canShare(),this._canInvite=this._gameManager.canInvite()},t.prototype.onEnable=function(){this.showHome(),this.uiHome.forEach(function(e){e.scale=0})},t.prototype.start=function(){this.background.active=!1,this.tapToStart.zIndex=cc.macro.MAX_ZINDEX-1,this.logo.zIndex=cc.macro.MAX_ZINDEX-1},t.prototype.setClickAds=function(){var e=new cc.Component.EventHandler;e.target=this._gameManager.node,e.component=this._gameManager.node.name,e.handler="showVideo",this.ads.getComponent(cc.Button).clickEvents.push(e)},t.prototype.setClickLevels=function(){var e=new cc.Component.EventHandler;e.target=this._gameManager.node,e.component=this._gameManager.node.name,e.handler="showListLevel",this.levels.getComponent(cc.Button).clickEvents.push(e)},t.prototype.setClickTapToStart=function(){var e=new cc.Component.EventHandler;e.target=this._gameManager.node,e.component=this._gameManager.node.name,e.handler="onTapToStart",this.tapToStart.getComponent(cc.Button).clickEvents.push(e)},t.prototype.setClickNext=function(){var e=new cc.Component.EventHandler;e.target=this._gameManager.node,e.component=this._gameManager.node.name,e.handler="onNextLevel",this.next.getComponent(cc.Button).clickEvents.push(e)},t.prototype.setClickSetting=function(){var e=new cc.Component.EventHandler;e.target=this._gameManager.node,e.component=this._gameManager.node.name,e.handler="onClickSetting",this.setting.getComponent(cc.Button).clickEvents.push(e)},t.prototype.setClickShare=function(){var e=new cc.Component.EventHandler;e.target=this._gameManager.node,e.component=this._gameManager.node.name,e.handler="onShare",this.share.getComponent(cc.Button).clickEvents.push(e)},t.prototype.setClickInvite=function(){var e=new cc.Component.EventHandler;e.target=this._gameManager.node,e.component=this._gameManager.node.name,e.handler="onInvite",this.invite.getComponent(cc.Button).clickEvents.push(e)},t.prototype.showHome=function(){this.showUIEndGame(!1),this.showUIContinue(!1),this.showButtonAdsEndGame(!1),this.tapToStart.position=cc.v3(0,-552)},t.prototype.showGameOver=function(e){this.background.active=e,this.background.opacity=220,e?(this.gameOver.active=!0,this.gameOver.position=cc.v3(0,1200),p(this.gameOver).delay(.5).parallel(p().to(1,{y:150},{easing:"bounceOut"}),p().to(.3,{angle:-5}).delay(.3).to(.15,{angle:5}).delay(.15).to(.1,{angle:0})).start()):this.uiEndGame.forEach(function(t){t.active=e})},t.prototype.showUIEndGame=function(e){var t=this;this.background.active=e,this.background.opacity=220,e?p(this.node).call(function(){this.setting.active=!1;var e=cc.instantiate(this.partical);this.node.addChild(e),e.position=cc.v3(0,230),e.zIndex=cc.macro.MIN_ZINDEX+1}.bind(this)).call(function(){r.default.effectScaleOption(t.successful,.7)}).delay(2).call(function(){var e=[t.next,t.leaderboard];t._canShare&&e.push(t.share)||(t.share.active=!1),t._canInvite&&e.push(t.invite)||(t.invite.active=!1),e.forEach(function(e){r.default.effectScaleOption(e,.7)});var n=t.node.getChildByName("Partical");n&&n.destroy()}).start():this.uiEndGame.forEach(function(t){t.active=e})},t.prototype.showUIContinue=function(e,t){void 0===t&&(t=null),this.background.active=e;for(var n=0,o=this.uiContinue;n<o.length;n++)o[n].active=e;e&&t&&(this.ads.getChildByName("txt_ads").getComponent(cc.Label).string=t),r.default.showButton(this.ads,.2),this.showButtonAdsEndGame(e)},t.prototype.showUIHome=function(e){var t=this;e?p(this.node).call(function(){r.default.effectScaleButton(t.setting,1,1,.5)}).delay(.7).call(function(){r.default.effectScaleButton(t.txtLevel,1,1,.5)}).delay(.7).call(function(){r.default.effectScaleButton(t.levels,1,1,.5)}).delay(.7).call(function(){r.default.effectScaleButton(t.tapToStart,1,1,.5),r.default.effectScaleStart(t.tapToStart)}).start():this.uiHome.forEach(function(e){e.active=!1})},t.prototype.showComingSoon=function(){var e=this.node.getChildByName("ComingSoon");e?e.active=!0:(e=cc.instantiate(this.comingSoon),this.node.addChild(e))},t.prototype.showButtonAdsEndGame=function(e){this.ads.active=e},t.prototype.showAlert=function(e,t){void 0===e&&(e=""),void 0===t&&(t=0);var n=this.node.getChildByName("Alert");n?n.active=!0:(n=cc.instantiate(this.alert),this.node.addChild(n)),e&&n.getComponent("Alert").setText(e),t&&this.scheduleOnce(function(){return n.active=!1},t)},t.prototype.showGuide=function(e){var t=this,n=this.node.getChildByName("hand");e?p(this.node).delay(1).call(function(){t.background2.active=!0,t.background2.zIndex=cc.macro.MAX_ZINDEX-100,t.background2.opacity=150,n.zIndex=cc.macro.MAX_ZINDEX,p(n).delay(1).repeatForever(p(n).call(function(){n.position=cc.v3(0,t.tapToStart.y-200),n.opacity=0,n.active=!0}).parallel(p(n).to(.7,{opacity:255}),p(n).to(.7,{position:cc.v3(0,t.tapToStart.y)}).call(function(){cc.tween(n).to(.5,{scale:.9},{easing:"cubicIn"}).to(.5,{scale:1},{easing:"cubicOut"}).start()})).delay(1)).start()}).start():(cc.Tween.stopAllByTarget(n),n.active=!1,p(this.background2).to(.3,{opacity:0}).call(function(){t.background2.active=!1}).start())},t.prototype.showUIStartGame=function(e){void 0===e&&(e=!1),this.tapToStart.active=e,this.levels.active=e,this.setting.active=e,this.txtLevel.active=e},t.prototype.setLevelHome=function(e){this.txtLevel.getComponent(cc.Label).string=c.default.getText("level")+" "+(e+1)},t.prototype.setLocaleText=function(){this.next.getChildByName("txt").getComponent(cc.Label).string=c.default.getText("next"),this.successful.getChildByName("txt").getComponent(cc.Label).string=c.default.getText("completed")+"!",this.continue.getComponent(cc.Label).string=c.default.getText("continue"),this.levels.getChildByName("txt").getComponent(cc.Label).string=c.default.getText("levels"),this.tapToStart.getComponent(cc.Label).string=c.default.getText("tap to start")},a([d(cc.Node)],t.prototype,"background",void 0),a([d(cc.Node)],t.prototype,"levels",void 0),a([d(cc.Node)],t.prototype,"ads",void 0),a([d(cc.Node)],t.prototype,"next",void 0),a([d(cc.Node)],t.prototype,"tapToStart",void 0),a([d(cc.Node)],t.prototype,"setting",void 0),a([d(cc.Node)],t.prototype,"successful",void 0),a([d(cc.Node)],t.prototype,"gameOver",void 0),a([d(cc.Node)],t.prototype,"second",void 0),a([d(cc.Node)],t.prototype,"countDown",void 0),a([d(cc.Node)],t.prototype,"continue",void 0),a([d(cc.Prefab)],t.prototype,"comingSoon",void 0),a([d(cc.Prefab)],t.prototype,"alert",void 0),a([d(cc.Prefab)],t.prototype,"partical",void 0),a([d(cc.Node)],t.prototype,"background2",void 0),a([d(cc.Node)],t.prototype,"txtLevel",void 0),a([d(cc.Node)],t.prototype,"share",void 0),a([d(cc.Node)],t.prototype,"invite",void 0),a([d(cc.Node)],t.prototype,"leaderboard",void 0),a([u],t)}(cc.Component);n.default=f,cc._RF.pop()},{"./BundleManager":"BundleManager","./EffectManager":"EffectManager","./Locale":"Locale"}],spine:[function(e,t,n){"use strict";cc._RF.push(t,"fb70f8tOLNDzb/r+qkgLO7U","spine");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(sp.Skeleton));n.default=c,cc._RF.pop()},{}]},{},["ComingSoon2","Guide","ActionController","AdsManager","Alert","Analytics","BundleManager","ButtonNext","Cheat","ClipController","ComingSoon","Config","CountDown5s","Data","EffectManager","EventManager","FBInstantManager","FirebaseManager","GameManager","LeaderboardManager","LevelBase","LevelController","ClickItem","ListLevel","NewClickItem","Loading","Locale","Notification","OptimizePageView","OptionController","FishSwim","Setting","StageController","TiniController","UIController","spine"]);