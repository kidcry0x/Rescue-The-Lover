window.__require=function e(t,n,i){function o(l,s){if(!n[l]){if(!t[l]){var c=l.split("/");if(c=c[c.length-1],!t[c]){var r="function"==typeof __require&&__require;if(!s&&r)return r(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+l+"'")}l=c}var p=n[l]={exports:{}};t[l][0].call(p.exports,function(e){return o(t[l][1][e]||e)},p,p.exports,e,t,n,i)}return n[l].exports}for(var a="function"==typeof __require&&__require,l=0;l<i.length;l++)o(i[l]);return o}({Level21_1:[function(e,t,n){"use strict";cc._RF.push(t,"3e82f4lIQtH6oeC4NvIx00D","Level21_1");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,l=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(l=(a<3?o(l):a>3?o(t,n,l):o(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l};Object.defineProperty(n,"__esModule",{value:!0});var l,s=e("../../../Scripts/EffectManager"),c=e("../../../Scripts/LevelBase"),r=cc._decorator,p=r.ccclass,_=r.property,u=cc.tween;(function(e){e[e.BIRD_FLAP=0]="BIRD_FLAP",e[e.CRY_BABY=1]="CRY_BABY",e[e.DIZZY_1=2]="DIZZY_1",e[e.DOOR_DROP=3]="DOOR_DROP",e[e.DROP=4]="DROP",e[e.FLUTE=5]="FLUTE",e[e.FREEZE=6]="FREEZE",e[e.QUACK=7]="QUACK",e[e.SWALLOW=8]="SWALLOW",e[e.TRANFORM=9]="TRANFORM",e[e.TRAP=10]="TRAP",e[e.UNLOCK=11]="UNLOCK"})(l||(l={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.next="2",t.long=null,t.spineDatas=[{bundle:"animal",name:"bird"},{bundle:"assets",name:"assets"},{bundle:"assets",name:"assets"},{bundle:"lupin",name:"lupin"},{bundle:"police",name:"police"},{bundle:"police2",name:"police"},{bundle:"police2",name:"police"},{bundle:"animal",name:"bird"},{bundle:"animal",name:"bird"},{bundle:"animal",name:"bird"},{bundle:"animal",name:"bird"},{bundle:"assets",name:"assets"},{bundle:"assets",name:"assets"},{bundle:"assets",name:"assets"}],t._seenOpening=!1,t.lupinSkeletonName="lupin2",t}return o(t,e),t.prototype.onEnable=function(){e.prototype.onEnable.call(this),this._gameManager._levelCurrent.level=this.levelCurrent,this._gameManager._beginScene=this.node},t.prototype.initStage=function(){e.prototype.initStage.call(this)},t.prototype.setOpeningStatus=function(){this.otherSprite[6].node.active=!0,this.otherSprite[6].node.position=cc.v3(0,0),this.otherSprite[7].node.opacity=0,this.otherSprite[8].node.active=!1,this.otherSprite[9].node.position=cc.v3(-782,1576),this.otherSprite[10].node.active=!1,this.otherSprite[11].node.active=!1,this.otherSprite[12].node.active=!1,this.otherSpine[3].node.active=!0,this.otherSpine[3].setSkin("Lupin"),this.otherSpine[3].clearTrack(1),this.otherSpine[3].setAnimation(0,"level_40_4/intro_idle1",!0),this.otherSpine[3].node.position=cc.v3(335,-164),this.otherSpine[3].node.scale=1,this.otherSpine[4].node.active=!0,this.otherSpine[4].setAnimation(0,"level_40_4/intro_girl",!0),this.otherSpine[4].node.position=cc.v3(-231,-154),this.otherSpine[4].node.scaleX=-1,this.otherSpine[5].node.active=!1,this.otherSpine[6].node.active=!1,this.otherSpine[11].setAnimation(0,"fx/fire",!0),this.otherSpine[12].setAnimation(0,"fx/fire",!0),this.otherSpine[13].setAnimation(0,"fx/fire",!0)},t.prototype.setOpeningAction=function(){var e=this;this.scheduleOnce(function(){e.otherSpine[3].setAnimation(0,"level_20_1/intro",!0),e.otherSpine[4].setAnimation(0,"level_20_1/intro",!0),e.otherSpine[4].node.position=cc.v3(-174,-154),u(e.otherSprite[7].node).repeat(6,u(e.otherSprite[7].node).to(.3,{opacity:255}).to(.3,{opacity:0})).start(),u(e.otherSprite[6].node).repeatForever(u().by(.1,{position:cc.v3(0,5)}).by(.1,{position:cc.v3(0,-10)}).by(.1,{position:cc.v3(0,5)})).start()},2),this.scheduleOnce(function(){s.default.hideScene(function(){e.otherSprite[6].node.active=!1,e.otherSprite[7].node.active=!0,e.otherSprite[8].node.active=!0,e.otherSpine[3].node.active=!1,e.otherSpine[4].node.active=!1,s.default.showScene(),u(e.otherSprite[9].node).to(3,{position:cc.v3(869,-1536)}).start()},e.node)},5),this.scheduleOnce(function(){s.default.hideScene(function(){e.otherSprite[8].node.active=!1,e.otherSprite[10].node.active=!0,e.otherSpine[3].node.active=!0,e.otherSpine[3].node.position=cc.v3(-30,-435),e.otherSpine[3].setAnimation(0,"level_20_4/mc_floating_idle_2",!0),s.default.showScene()},e.node)},8),this.scheduleOnce(function(){s.default.hideScene(function(){e.otherSprite[10].node.active=!1,e.otherSprite[11].node.active=!0,e.otherSpine[3].node.position=cc.v3(-835,-462),e.otherSpine[3].setAnimation(0,"level_20_4/mc_floating_idle_1",!0),s.default.showScene(),u(e.otherSpine[3].node).to(4,{position:cc.v3(761,-462)}).start()},e.node)},10),this.scheduleOnce(function(){s.default.hideScene(function(){e.otherSprite[11].node.active=!1,e.otherSprite[12].node.active=!0,e.otherSpine[3].node.position=cc.v3(-265,-191),e.otherSpine[3].setAnimation(1,"emotion/fear_1",!0),e.otherSpine[5].node.active=!0,e.otherSpine[5].setAnimation(0,"level_23_2/nativesoldier_angry",!0),e.otherSpine[6].node.active=!0,e.otherSpine[6].setAnimation(0,"level_24_1/soldier_stand_see",!0),s.default.showScene()},e.node)},14.5),this.scheduleOnce(function(){s.default.hideScene(function(){e.setStatus(),s.default.showScene(),e.setAction()},e.node)},17)},t.prototype.setStatus=function(){if(!this._seenOpening)return this.setOpeningStatus();this.otherSprite[6].node.active=!1,this.otherSprite[7].node.opacity=0,this.otherSprite[8].node.active=!1,this.otherSprite[10].node.active=!1,this.otherSprite[11].node.active=!1,this.otherSprite[12].node.active=!1,this.otherSpine[3].node.active=!1,this.otherSpine[4].node.active=!1,this.otherSpine[5].node.active=!1,this.otherSpine[6].node.active=!1,this._front=this.otherSpine[2],this._back=this.otherSpine[1],this._birds=this.otherSpine[0],this._chong=this.otherSprite[3],this._scene=this.otherSprite[4],this._lock=this.otherSprite[1],this._column=this.otherSprite[2],this._day=this.otherSprite[5],this._treeBranch=this.otherSprite[0],this._treeBranch.node.position=cc.v3(88,222),this._treeBranch.node.angle=0,this._birds.node.position=cc.v3(-1e3,560),this.setLupin(cc.v2(-25,-620),"general/stand_nervous","emotion/abc"),this._chong.node.scaleY=0,this._front.node.zIndex=1,this.lupin.node.zIndex=0,this.long.position=cc.v3(-125,520),this._lock.node.active=!0,this._lock.node.zIndex=1,this._column.node.active=!0,this._column.node.zIndex=1,this._treeBranch.node.active=!0,this._scene.node.active=!1,this._birds.node.scaleX=1,this.long.scaleX=1,this._treeBranch.node.angle=0,this._treeBranch.node.zIndex=3,this._day.node.active=!0,this._day.node.zIndex=2,this.lupin.node.scale=1,this._front.setAnimation(0,"level_21_cage/cage_front",!1),this._back.setAnimation(0,"level_21_cage/cage_back",!1),this._front.node.position=cc.v3(20,-680),this._back.node.zIndex=-1,this.otherSpine[0].setAnimation(0,"bird_fly",!0),this.otherSpine[7].setAnimation(0,"bird_fly",!0),this.otherSpine[8].setAnimation(0,"bird_fly",!0),this.otherSpine[9].setAnimation(0,"bird_fly",!0),this.otherSpine[10].setAnimation(0,"bird_fly",!0)},t.prototype.setAction=function(){var e=this;if(!this._seenOpening)return this._seenOpening=!0,void this.setOpeningAction();this.scheduleOnce(function(){e.showOptionContainer(!0)},1)},t.prototype.runOption1=function(){var e=this;this.lupin.clearTrack(1),this._front.setAnimation(0,"level_21_cage/cage_front_open",!1),this.lupin.setAnimation(0,"level_21_1/mc_open_cage",!1),this.playSound(l.UNLOCK,!1,.5),this._lock.node.zIndex=0,this.lupin.node.zIndex=1,u(this.shadow).delay(1).to(.5,{opacity:255}).call(function(){e._front.node.zIndex=0,e._lock.node.active=!1,e._column.node.active=!1,e.lupin.setAnimation(0,"general/walk",!0),e.lupin.setAnimation(1,"emotion/excited",!1),u(e.lupin.node).to(.5,{position:cc.v3(-20,-645)}).call(function(){e.lupin.clearTrack(1),e.lupin.setAnimation(0,"level_21_1/mc_jump_down",!1),e.playSound(l.DROP,!1,.4)}).delay(.3).to(.2,{position:cc.v3(200,-1080)}).call(function(){e.lupin.setAnimation(0,"general/stand_nervous",!0),e.lupin.setAnimation(1,"emotion/excited",!1)}).delay(1).call(function(){e.lupin.setMix("level_21_1/mc_emoHurt","level_21_1/mc_emoDie",.3),u(e._chong.node).to(.2,{scaleY:1}).start(),e.playSound(l.TRAP,!1,0),e.lupin.timeScale=2,e.lupin.setAnimation(0,"level_21_1/mc_emoHurt",!1),e.playSound(l.QUACK,!1,.5),u(e.lupin.node).delay(.3).call(function(){e.lupin.timeScale=1,e.lupin.clearTrack(1),e.lupin.setAnimation(0,"level_21_1/mc_emoDie",!1),e.playSound(l.DIZZY_1,!1,0),u(e.node).delay(2).call(function(){e.showFail()}).start()}).start()}).start()}).to(.5,{opacity:0}).start()},t.prototype.runOption2=function(){var e=this;this.lupin.clearTrack(1),this.lupin.setToSetupPose(),this.lupin.setAnimation(0,"level_21_1/mc_flute",!0),this.playSound(l.FLUTE,!1,0),u(this._birds.node).delay(1).to(1,{position:cc.v3(-80,665)}).parallel(u().to(3,{scale:0}),u().to(3,{position:cc.v3(430,900)}),u().call(function(){e.lupin.clearTrack(1),e.lupin.setAnimation(0,"general/stand_nervous",!0),e.lupin.setAnimation(1,"emotion/happy_2",!1),e.playSound(l.BIRD_FLAP,!1,0),u(e.long).parallel(u().to(3,{scale:0}),u().to(3,{position:cc.v3(430,900)})).start()})).start(),u(this.shadow).delay(5).to(.5,{opacity:255}).call(function(){e._scene.node.active=!0,u(e._birds.node).parallel(u().to(3,{position:cc.v3(-10,200)}).delay(1).call(function(){u(e._treeBranch.node).parallel(u().to(.5,{angle:-30},{easing:"cubicIn"}).call(function(){e._day.node.active=!1,e.lupin.setAnimation(0,"general/walk",!0),e.lupin.setAnimation(1,"emotion/worry",!1),u(e.lupin.node).by(.5,{x:90}).call(function(){e.lupin.clearTrack(1),e.lupin.setAnimation(0,"level_21_1/mc_shake_cage",!0),e.playSound(l.FREEZE,!1,.5)}).delay(1.5).call(function(){e.lupin.setAnimation(0,"level_21_1/mc_cry",!1),e.playSound(l.CRY_BABY,!1,0)}).delay(2.5).call(function(){e.showFail()}).start()}),u().to(.5,{position:cc.v3(88,-50)},{easing:"cubicIn"})).start()}).to(1,{position:cc.v3(-1200,480)}),u().to(3,{scaleY:1}),u().to(3,{scaleX:-1}),u().call(function(){e.playSound(l.BIRD_FLAP,!1,1.5),u(e.long).to(3,{position:cc.v3(-10,90)}).start(),u(e.long).to(3,{scaleY:1}).start(),u(e.long).to(3,{scaleX:-1}).start()})).start()}).to(.5,{opacity:0}).start()},t.prototype.runOption3=function(){var e=this;this.lupin.clearTrack(1),this.lupin.setAnimation(0,"level_21_1/mc_hulk1",!1),this.lupin.addAnimation(0,"level_21_1/mc_hulk2",!1),this.lupin.addAnimation(0,"level_21_1/mc_hulk3",!1),this.playSound(l.SWALLOW,!1,.5),this.playSound(l.TRANFORM,!1,.3),this.lupin.setCompleteListener(function(t){"level_21_1/mc_hulk1"==t.animation.name&&u(e.lupin.node).call(function(){e._lock.node.active=!1,e._column.node.active=!1,e.scheduleOnce(function(){e._day.node.active=!1},.4),e._front.setAnimation(0,"level_21_cage/cage_crack_front",!1),e._back.setAnimation(0,"level_21_cage/cage_crack_back",!1),e.playSound(l.DOOR_DROP,!1,0),u(e._front.node).delay(.3).by(.5,{y:-350},{easing:"cubicIn"}).start(),u(e.lupin.node).delay(.3).by(.7,{y:-500},{easing:"cubicIn"}).call(function(){e.lupin.setAnimation(0,"level_21_1/mcHulk_landing",!1),e.lupin.node.zIndex=2}).delay(1).call(function(){e.lupin.setAnimation(0,"level_21_1/mcHulk_run",!0)}).by(1,{x:1e3}).call(function(){e.onPass()}).start()}).parallel(u().to(.5,{scale:1.3}),u().by(.5,{y:100})).start()})},a([_(cc.Node)],t.prototype,"long",void 0),a([p],t)}(c.default);n.default=h,cc._RF.pop()},{"../../../Scripts/EffectManager":void 0,"../../../Scripts/LevelBase":void 0}],Level21_2:[function(e,t,n){"use strict";cc._RF.push(t,"e3c92VwmpNIP6cRmQThK7F7","Level21_2");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,l=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(l=(a<3?o(l):a>3?o(t,n,l):o(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l};Object.defineProperty(n,"__esModule",{value:!0});var l,s=e("../../../Scripts/LevelBase"),c=cc._decorator,r=c.ccclass,p=(c.property,cc.tween);(function(e){e[e.BRAWL=0]="BRAWL",e[e.BRUTE=1]="BRUTE",e[e.FIRE_LONG=2]="FIRE_LONG",e[e.GHOST=3]="GHOST",e[e.KISS=4]="KISS",e[e.SAX=5]="SAX",e[e.SMACK=6]="SMACK",e[e.SNAKE=7]="SNAKE",e[e.SWOOSH=8]="SWOOSH"})(l||(l={}));var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.next="3",t.lupinSkeletonName="lupin2",t.spineDatas=[{bundle:"police2",name:"police"},{bundle:"police2",name:"police"},{bundle:"assets",name:"assets"},{bundle:"assets",name:"assets"},{bundle:"animal",name:"snake"},{bundle:"lupin",name:"lupin"},{bundle:"assets",name:"assets"}],t}return o(t,e),t.prototype.initStage=function(){e.prototype.initStage.call(this)},t.prototype.setStatus=function(){this._aborigines1=this.otherSpine[0],this._aborigines2=this.otherSpine[1],this._emotion1=this.otherSpine[2],this._emotion2=this.otherSpine[3],this._snake=this.otherSpine[4],this._fx=this.otherSpine[5],this._emotion1.node.active=!1,this._emotion2.node.active=!1,this._fx.node.active=!1,this._fx.timeScale=.7,this._fx.node.scale=1.1,this.lupin.setAnimation(1,"emotion/happy_1",!0),this.lupin.clearTrack(1),this.lupin.node.scaleX=.8,this.setLupin(cc.v2(-700,-550),"general/walk","emotion/idle"),this._aborigines1.node.active=!0,this._aborigines1.setAnimation(0,"level_21_2_soldier/soldier_1_idle",!0),this._aborigines1.node.position=cc.v3(230,-475),this._aborigines2.setAnimation(0,"level_21_2_soldier/soldier_2_idle2",!0),this._aborigines2.node.position=cc.v3(-95,-550),this._aborigines2.node.scaleX=-.8,this._aborigines2.node.scaleY=.8,this._snake.node.scale=0,this._snake.node.x=-580,this.lupin.setMix("general/walk","level_8/hide_after_cabinet",.3),this._snake.setAnimation(0,"snake_slither",!0),this.otherSpine[6].setAnimation(0,"fx/fire",!0)},t.prototype.setAction=function(){var e=this;this.playSound(l.FIRE_LONG,!0,0),p(this.lupin.node).to(2,{position:cc.v3(-445,-550)}).call(function(){e.lupin.timeScale=1.5,e.lupin.setAnimation(0,"level_8/hide_after_cabinet",!0),e.lupin.node.scaleX=-.8,e.lupin.setAnimation(1,"emotion/thinking",!0),p(e.node).delay(2).call(function(){e.showOptionContainer(!0)}).start()}).by(.3,{x:-80}).start()},t.prototype.boom=function(){var e=this;this._fx.node.active=!0,this._fx.setAnimation(0,"fx/explosion",!1),this._fx.setCompleteListener(function(t){"fx/explosion"==t.animation.name&&(e._fx.node.active=!1)})},t.prototype.runOption1=function(){var e=this;this.lupin.clearTrack(1),this.lupin.node.opacity=0,this.lupin.setAnimation(0,"level_21_2/mc_girl_idle",!0),this.lupin.node.scaleX=.8,this.boom(),this.playSound(l.SAX,!1,.3),p(this.lupin.node).delay(.3).to(.5,{opacity:255}).call(function(){e.lupin.setCompleteListener(function(t){"level_21_2/mc_girl_idle"==t.animation.name&&(e.lupin.setCompleteListener(null),e.lupin.setAnimation(0,"level_21_2/mc_girl_walk",!0),p(e.lupin.node).to(2,{position:cc.v3(-250,-620)}).call(function(){e.lupin.setAnimation(0,"level_21_2/mc_girl_kiss",!0),e.playSound(l.KISS,!1,0)}).start(),p(e.node).delay(1).call(function(){e._aborigines2.node.scaleX=.8}).delay(2).call(function(){e._emotion1.timeScale=.8,e._emotion2.timeScale=.8,e._emotion1.node.active=!0,e._emotion2.node.active=!0,e._emotion1.setAnimation(0,"fx/fly_heart",!1),e._emotion1.addAnimation(0,"fx/angry_bubble",!1),e._emotion2.setAnimation(0,"fx/fly_heart",!1),e._emotion2.addAnimation(0,"fx/angry_bubble",!1),e._emotion1.setCompleteListener(function(t){"fx/fly_heart"==t.animation.name&&(e._emotion1.setCompleteListener(null),e._aborigines2.node.scaleX=-.8)}),e._emotion2.setCompleteListener(function(t){"fx/angry_bubble"==t.animation.name&&(e._emotion2.setCompleteListener(null),e._emotion1.node.active=!1,e._emotion2.node.active=!1)}),e.playSound(l.BRUTE,!1,2.5)}).delay(3.5).call(function(){e._aborigines1.setAnimation(0,"level_21_2_soldier/soldier_1_threaten",!1),e._aborigines2.setAnimation(0,"level_21_2_soldier/soldier_1_threaten",!1),p(e._aborigines2.node).to(.3,{position:cc.v3(150,-480)}).call(function(){e._aborigines1.node.active=!1,e._aborigines2.node.scale=2.5,e._aborigines2.node.position=cc.v3(100,-350),e._aborigines2.setAnimation(0,"police/general/fight_cloud",!0),e.playSound(l.BRAWL,!1,0)}).delay(1).call(function(){e.lupin.setAnimation(0,"general/run",!0),e.lupin.setAnimation(1,"emotion/sinister",!0),p(e.lupin.node).by(1,{x:1e3}).call(function(){e.onPass()}).start()}).start()}).start())})}).start()},t.prototype.runOption2=function(){var e=this;this.lupin.setMix("level_7/put_cockroach","level_8/hide_after_cabinet",.5),this._snake.setMix("snake_slither","snake_die",.3),this.lupin.node.scaleX=.8,this.lupin.timeScale=1.5,this.lupin.setAnimation(0,"level_7/put_cockroach",!1),this._snake.node.scale=.2,this.playSound(l.SWOOSH,!1,.3),p(this._snake.node).delay(.3).to(.25,{x:-430},{easing:"quadIn"}).bezierTo(.7,cc.v2(this._snake.node.position),cc.v2(-200,-300),cc.v2(100,-570)).call(function(){e.playSound(l.SNAKE,!1,0)}).to(.7,{scale:.4}).call(function(){e._aborigines2.setAnimation(0,"level_21_2_soldier/soldier_1_attack",!1),e.playSound(l.SMACK,!1,0),p(e._snake.node).delay(.45).call(function(){e._snake.setAnimation(0,"snake_die",!1)}).start()}).delay(1).call(function(){e.lupin.setAnimation(1,"emotion/fear_2",!0)}).delay(1).call(function(){e.showContinue()}).start(),this.lupin.setCompleteListener(function(t){"level_7/put_cockroach"==t.animation.name&&(e.lupin.setCompleteListener(null),e.lupin.node.scaleX=-.8,e.lupin.setAnimation(0,"level_8/hide_after_cabinet",!0))})},t.prototype.runOption3=function(){var e=this;this.lupin.clearTrack(1),this.lupin.setMix("level_8/hide_after_cabinet","general/ghost_fake",.3),this.lupin.setAnimation(0,"general/ghost_fake",!0),this.lupin.node.scaleX=.8,this.playSound(l.GHOST,!1,0),p(this.lupin.node).to(.6,{position:cc.v3(-400,-590)}).call(function(){e._aborigines2.node.scaleX=.8,e._aborigines1.setAnimation(0,"level_21_2_soldier/soldier_1_threaten",!0),e._aborigines2.setAnimation(0,"level_21_2_soldier/soldier_1_threaten",!0),e.playSound(l.BRUTE,!1,0)}).delay(.6).call(function(){e._emotion1.setAnimation(0,"fx/angry_bubble",!1),e._emotion1.node.active=!0,e._emotion1.timeScale=.8,e._emotion2.setAnimation(0,"fx/angry_bubble",!1),e._emotion2.node.active=!0,e._emotion2.timeScale=.8,e.lupin.setAnimation(0,"level_21_2/mc_threaten",!1),e.lupin.addAnimation(0,"general/back",!1),cc.audioEngine.stopAllEffects(),e.playSound(l.SWOOSH,!1,.2),e.lupin.setStartListener(function(t){"general/back"==t.animation.name&&(e._emotion1.node.active=!1,e._emotion2.node.active=!1,e.lupin.setAnimation(0,"emotion/fear_2",!0),p(e.lupin.node).delay(1).call(function(){e.showContinue()}).start())})}).start()},a([r],t)}(s.default);n.default=_,cc._RF.pop()},{"../../../Scripts/LevelBase":void 0}],Level21_3:[function(e,t,n){"use strict";cc._RF.push(t,"6a7e3plSjRBKI+NTAp1/4Yt","Level21_3");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,l=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(l=(a<3?o(l):a>3?o(t,n,l):o(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l};Object.defineProperty(n,"__esModule",{value:!0});var l,s=e("../../../Scripts/LevelBase"),c=cc._decorator,r=c.ccclass,p=(c.property,cc.tween);(function(e){e[e.HIT=0]="HIT",e[e.LIGHTNING=1]="LIGHTNING",e[e.SAW=2]="SAW",e[e.TREE=3]="TREE",e[e.WOOHOO=4]="WOOHOO",e[e.CRY_BABY=5]="CRY_BABY",e[e.DIZZY_1=6]="DIZZY_1",e[e.SWOOSH=7]="SWOOSH"})(l||(l={}));var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._apples=[],t.lupinSkeletonName="lupin2",t.spineDatas=[{bundle:"assets",name:"assets"}],t}return o(t,e),t.prototype.initStage=function(){e.prototype.initStage.call(this)},t.prototype.setStatus=function(){this.background.x=540,this.lupin.setMix("general/walk","general/stand_thinking",.3),this._apples=[this.otherSprite[0],this.otherSprite[1],this.otherSprite[2]],this._thunder=this.otherSpine[0],this._thinking=this.otherSprite[6],this._appleTree1=this.otherSprite[3],this._appleTree2=this.otherSprite[4],this._trunk=this.otherSprite[5],this.lupin.timeScale=.8,this.lupin.node.scale=.8,this._thinking.node.active=!0,this.setLupin(cc.v2(-900,-600),"general/walk","emotion/tired"),this._thunder.timeScale=2,this._thunder.node.active=!1,this._apples[0].node.position=cc.v3(-104,940),this._apples[1].node.position=cc.v3(-300,730),this._apples[2].node.position=cc.v3(0,600),this._appleTree1.node.active=!0,this._appleTree2.node.active=!1,this._trunk.node.angle=0,this._trunk.node.active=!0,this._trunk.node.position=cc.v3(950,-495),this.camera2d[0].y=-50},t.prototype.setAction=function(){var e=this;p(this.camera2d[0]).by(5,{x:1e3}).start(),p(this.lupin.node).by(5,{x:1e3}).call(function(){e._thinking.node.active=!1,e.lupin.setAnimation(0,"general/stand_thinking",!0)}).delay(2).call(function(){e.showOptionContainer(!0)}).start()},t.prototype.runOption1=function(){var e=this;this.lupin.setAnimation(0,"general/walk",!0),this.lupin.setAnimation(1,"emotion/sinister",!0),this.lupin.setMix("level_21_3/mc_sawing","level_1/die",.3),p(this.lupin.node).to(3,{position:cc.v3(670,-670)}).call(function(){e.lupin.setMix("level_21_3/mc_saw_idle","level_21_3/mc_sawing",.3),e.lupin.setAnimation(0,"level_21_3/mc_saw_idle",!1),e.lupin.addAnimation(0,"level_21_3/mc_sawing",!0);var t=0;e.playSound(l.TREE,!1,3.5),e.scheduleOnce(function(){t=cc.audioEngine.playEffect(e.sounds[l.SAW],!1)},.8),e.scheduleOnce(function(){cc.audioEngine.stopEffect(t)},4.3)}).delay(4).call(function(){p(e._trunk.node).parallel(p().to(.5,{angle:95},{easing:"cubicIn"}),p().to(.5,{position:cc.v3(890,-410)},{easing:"cubicIn"})).start(),p(e.lupin.node).delay(.2).call(function(){e.lupin.clearTrack(1),e.lupin.setAnimation(0,"level_1/die",!1),e.playSound(l.DIZZY_1,!1,.5)}).by(.2,{x:-350}).delay(2).call(function(){e.showContinue()}).start()}).start()},t.prototype.runOption2=function(){var e=this;this.lupin.clearTrack(1),this.lupin.setAnimation(0,"level_21_3/mc_shoot_apple",!1),this.lupin.addAnimation(0,"level_21_3/mc_shoot_apple",!1),this.lupin.addAnimation(0,"level_21_3/mc_shoot_apple",!1),this.playSound(l.HIT,!1,.7),this.playSound(l.HIT,!1,1.4),this.playSound(l.HIT,!1,2.1),p(this.node).delay(.7).call(function(){p(e._apples[0].node).to(.3,{y:-120},{easing:"cubicIn"}).to(.2,{angle:-30}).start()}).delay(.7).call(function(){p(e._apples[1].node).to(.3,{y:-108},{easing:"cubicIn"}).start()}).delay(.7).call(function(){p(e._apples[2].node).to(.3,{y:-93},{easing:"cubicIn"}).to(.2,{angle:-10}).start(),e.lupin.setAnimation(0,"general/win",!0),e.lupin.setAnimation(1,"emotion/laugh",!0),e.playSound(l.WOOHOO,!1,0)}).delay(1.5).call(function(){e.showSuccess()}).start()},t.prototype.runOption3=function(){var e=this;this.lupin.setMix("general/stand_thinking","level_21_3/mc_hammer",.3),this.lupin.setAnimation(1,"emotion/thinking",!1),this.lupin.clearTrack(1),this.lupin.setAnimation(0,"level_21_3/mc_hammer",!1),this.playSound(l.SWOOSH,!1,1),p(this.node).delay(2).call(function(){e._thunder.node.active=!0,e._thunder.setAnimation(0,"fx/lightning",!1),e.playSound(l.LIGHTNING,!1,0)}).delay(.1).call(function(){e._appleTree1.node.active=!1,e._trunk.node.active=!1,e._appleTree2.node.active=!0}).delay(.5).call(function(){e.lupin.setAnimation(0,"level_21_1/mc_cry",!1),e.playSound(l.CRY_BABY,!1,0)}).delay(2).call(function(){e.showContinue()}).start()},a([r],t)}(s.default);n.default=_,cc._RF.pop()},{"../../../Scripts/LevelBase":void 0}]},{},["Level21_1","Level21_2","Level21_3"]);